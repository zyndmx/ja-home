"use strict";(self["webpackChunkagreement_preview"]=self["webpackChunkagreement_preview"]||[]).push([[318],{8856:function(t,e,n){n.d(e,{bO:function(){return Pl}});var r=n(3132),i=n(159),o=n(4756),a=n.n(o),s=n(5492),c=n(8250),u=n(5129),f=n(3361),l=n(1664),p=n(6847),d=n(8394),h=n(6911);function v(t){return null==t?"":""+t}function g(t,e){for(var n=v(t).split(".").filter(Boolean),r=v(e).split(".").filter(Boolean),i=0;i<n.length||i<r.length;i+=1){var o=n[i],a=r[i],s=+o||0,c=+a||0;if(s!==c)return s<c?-1:1}return 0}function y(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}function m(t,e){void 0===e&&(e="^");var n,r=[];if(t instanceof Array)r=t;else if(t instanceof Object)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n+"="+t[n]);return r.join(e)}function w(t,e){if(void 0===e&&(e="^"),"string"!==typeof t||!t)return null;var n=t.split(e);if(-1===t.indexOf("="))return n;for(var r,i,o=n.length,a={},s=0;s<o;s+=1)r=n[s],r&&(i=r.split("="),a[i[0]]=i[1]||"");return a}function b(t){return t?Object.keys(t).reduce((function(e,n){var r=t[n];return y("Object",r)?r&&(e[n]=b(r)):(r||0===r)&&(e[n]=r),e}),Array.isArray(t)?[]:{}):t}var S=null;function x(){return S||console.error("now bridge is undefined"),S}var A="undefined"===typeof window,k=A?"":navigator.userAgent||navigator.swuserAgent,I=function(t){return/AliApp\(([\w-]+)\/([\d.]+)\)/i.test(t)?{name:String(RegExp.$1).toLowerCase(),version:RegExp.$2}:{name:"web",version:""}}(k),E=I.name,O=I.version,R=/(Triver|Ariver)/.test(k),P="undefined"!==typeof AFAppX&&"undefined"!==typeof my,C="alipay"===E||"ap"===E,T={info:{name:E,version:O}};function L(){var t=T.info.name;return"alipay"===t||"ap"===t?"alipay":"taobao"===t||"tb"===t?"taobao":"web"}var j,B,_={"https://mobilegw.test.alipay.net/mgw.htm":"test","https://mobilegwpre.alipay.com/mgw.htm":"pre","https://mobilegw.alipay.com/mgw.htm":"prod","https://mobilegw.alipaydev.com/mgw.htm":"sandbox"},D={dev:{environment:"DAILY",appKey:"ObOIytDa",baseXRTPURL:"https://xreplay-service.taobao.net",baseStreamURL:"wss://xreplay-service.taobao.net"},sit:{environment:"DAILY",appKey:"ObOIytDa",baseXRTPURL:"http://xreplay-service.taobao.net",baseStreamURL:"ws://xreplay-service.taobao.net"},pre:{environment:"PRE",appKey:"10wuetzd",baseXRTPURL:"https://pre-xreplay-service.taobao.com",baseStreamURL:"wss://pre-xreplay-service.taobao.com"},prod:{environment:"PROD",appKey:"10wuetzd",baseXRTPURL:"https://bx.xreplay-service.taobao.com",baseStreamURL:"wss://bx.xreplay-service.taobao.com"}},N=(0,r.A)({},D,{dev:{environment:"DAILY",appKey:"ObOIytDa",baseXRTPURL:"http://xreplay-service.taobao.net",baseStreamURL:"ws://xreplay-service.taobao.net"},sit:{environment:"DAILY",appKey:"ObOIytDa",baseXRTPURL:"http://xreplay-service.taobao.net",baseStreamURL:"ws://xreplay-service.taobao.net"}}),U="OFF_LINE",F="ON_LINE",z={alipay:"ALIPAY_CONTAINR",taobao:"TAOBAO_CONTAINR"},M={dev:"http://insbffweb.stable.alipay.net/h5/ajax/insprod",pre:"https://insbffweb-pre.alipay.com/h5/ajax/insprod",prod:"https://insbffweb.alipay.com/h5/ajax/insprod"},J={block_lost:"\u5f55\u50cf\u5206\u5757\u4e22\u5931",block_saved:"\u5f55\u50cf\u5206\u5757\u4fdd\u5b58\u5f02\u5e38",frame_lost:"\u5f55\u50cf\u5173\u952e\u5e27\u4e22\u5931",service_error:"\u670d\u52a1\u8bf7\u6c42\u62a5\u9519",native_storage_error:"\u5199\u5165\u672c\u5730\u5b58\u50a8\u5931\u8d25"},H="2.0.0",K="cId",X="dId",G="cTime",q="cType",Y="expo",W="click",V="pageMonitor",$=[Y,W,V,"pageFinish"],Q="data-aspm",Z="data-aspm-click",tt=[-.3,.3],et="OLD_SESSION_UUID",nt="SESSION_UUID",rt="recordERROR",it="STALKER_USER_ID_KEY",ot="STALKER_PROD_NO_KEY",at="STALKER_OUTER_APP_NAME_KEY",st={userId:""},ct="";function ut(t){return"stalkerSTALKER_"+t}function ft(t){return lt.apply(this,arguments)}function lt(){return lt=(0,i.A)(a().mark((function t(e){var n,r,i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=e||x(),B){t.next=15;break}return t.prev=2,t.next=5,e.callAsync("getConfig",{configKeys:["rpcUrl"]});case 5:n=t.sent,r=n&&n.data&&n.data.rpcUrl,i=_[r],!i&&/.alipay.net\/mgw.htm/.test(r)?i="dev":i||(i="prod"),B=i,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),B="prod";case 15:return t.abrupt("return",B);case 16:case"end":return t.stop()}}),t,null,[[2,12]])}))),lt.apply(this,arguments)}function pt(t){return dt.apply(this,arguments)}function dt(){return dt=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"!==typeof ct||!ct){t.next=2;break}return t.abrupt("return",ct);case 2:return e=e||x(),t.next=5,e.callAsync("getUserInfo");case 5:return n=t.sent,ct=n,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),dt.apply(this,arguments)}function ht(t){return vt.apply(this,arguments)}function vt(){return vt=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||x(),t.next=3,e.callAsync("getClientInfo");case 3:return n=t.sent,t.abrupt("return",n["device.id"]);case 5:case"end":return t.stop()}}),t)}))),vt.apply(this,arguments)}function gt(t){return yt.apply(this,arguments)}function yt(){return yt=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!j){t.next=2;break}return t.abrupt("return",j);case 2:return e=e||x(),t.next=5,e.callAsync("getSystemInfo");case 5:return n=t.sent,j=n,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),yt.apply(this,arguments)}function mt(t,e){return wt.apply(this,arguments)}function wt(){return wt=(0,i.A)(a().mark((function t(e,n){var r,i,o,s;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===n&&(n=""),r="",e=e||x(),t.prev=3,i=ut(n),t.next=7,e.callAsync("getSharedData",{keys:[i]});case 7:if(o=t.sent,r=o.data[i],!r){t.next=11;break}return t.abrupt("return",JSON.parse(r));case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](3),s=t.t0.error,console.log("getStorageError:"+s+"|"+n+", Ignore if error is 11");case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}}),t,null,[[3,13]])}))),wt.apply(this,arguments)}function bt(t,e,n){return St.apply(this,arguments)}function St(){return St=(0,i.A)(a().mark((function t(e,n,r){var i,o;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n=""),e=e||x();try{o=ut(n),e.call("setSharedData",{data:(i={},i[o]=JSON.stringify(r),i),writeToFile:!0},(function(){var t;return(t=console).log.apply(t,arguments)}))}catch(a){console.log("setStorage:"+a)}case 3:case"end":return t.stop()}}),t)}))),St.apply(this,arguments)}function xt(t,e){return At.apply(this,arguments)}function At(){return At=(0,i.A)(a().mark((function t(e,n){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n=[]),e=e||x();try{r={},(n||[]).forEach((function(t){r[ut(null==t?void 0:t.key)]=JSON.stringify(null==t?void 0:t.value)})),e.call("setSharedData",{data:r,writeToFile:!0},(function(){var t;return(t=console).log.apply(t,arguments)}))}catch(i){console.log("setStorage:"+i)}case 3:case"end":return t.stop()}}),t)}))),At.apply(this,arguments)}function kt(t,e){return It.apply(this,arguments)}function It(){return It=(0,i.A)(a().mark((function t(e,n){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||x(),t.next=3,e.callAsync("createSharedBiz",n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),It.apply(this,arguments)}function Et(t,e){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,i.A)(a().mark((function t(e,n){var i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||x(),t.next=3,e.callAsync("fsManage",(0,r.A)({},n,{action:"zip"}));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)}))),Ot.apply(this,arguments)}function Rt(t,e){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,i.A)(a().mark((function t(e,n){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||x(),t.next=3,e.callAsync("uploadFileToAliCloud",n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),Pt.apply(this,arguments)}function Ct(t){var e=Math.random()*Math.pow(10,t);return Math.ceil(e)}function Tt(t){return Array.isArray(t)?t.filter((function(t,e,n){return n.indexOf(t)===e})):[]}function Lt(){return jt.apply(this,arguments)}function jt(){return jt=(0,i.A)(a().mark((function t(){var e,n,r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=T.info,n=e.name,r=e.version,"alipay"!==n&&"ap"!==n&&"web"!==n&&!n){t.next=3;break}return t.abrupt("return",!0);case 3:if(!(g(r,"9.26.0")>=0&&"taobao"===n||"tb"===n)){t.next=5;break}return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)}))),jt.apply(this,arguments)}function Bt(){return _t.apply(this,arguments)}function _t(){return _t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt(x());case 3:if(e=t.sent,n=e.version,!(C&&g(n,"10.2.10")>=0)){t.next=7;break}return t.abrupt("return",U);case 7:return t.abrupt("return",F);case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",F);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),_t.apply(this,arguments)}function Dt(t,e){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,i.A)(a().mark((function t(e,n){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===e&&(e=0),t.abrupt("return",new Promise((function(t){setTimeout((0,i.A)(a().mark((function e(){var r;return a().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"function"!==typeof n){e.next=6;break}return e.next=4,n();case 4:return r=e.sent,e.abrupt("return",t(r));case 6:t(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t();case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),e)})));case 2:case"end":return t.stop()}}),t)}))),Nt.apply(this,arguments)}function Ut(){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,i.A)(a().mark((function t(){var e,n,r,i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",t.prev=1,r="",t.next=5,pt(x());case 5:if(i=t.sent,r=i.userId,e=r,+r&&(e=(+r).toString(32)),r){t.next=13;break}return t.next=12,ht();case 12:e=t.sent;case 13:e=(null==(n=e)?void 0:n.toString())||"",e.length>16&&(e=e.substring(e.length-16)),t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](1);case 19:return t.abrupt("return",Ct(16).toString(32)+"-"+e+"-"+Date.now().toString(32));case 20:case"end":return t.stop()}}),t,null,[[1,17]])}))),Ft.apply(this,arguments)}var zt=function(){function t(t){var e=void 0===t?{}:t,n=e.isRefresh;this.bridge=x(),this.isRefresh=n}var e=t.prototype;return e.init=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSessionId();case 2:if(e=t.sent,!this.isRefresh&&e){t.next=12;break}return t.next=6,Ut(this.bridge);case 6:return this.uuid=t.sent,this.oldUuid=e,t.next=10,xt(this.bridge,[{key:nt,value:this.uuid},{key:et,value:this.oldUuid}]);case 10:t.next=16;break;case 12:return t.next=14,this.getOldSessionId();case 14:this.oldUuid=t.sent,this.uuid=e;case 16:return t.abrupt("return",this.uuid);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getSessionId=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt(this.bridge,nt);case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),e.getOldSessionId=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt(this.bridge,et);case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),e.resumeStorageSessionId=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("[ resumeStorageSessionId SessionId ] >",this.uuid,this.oldUuid),t.next=3,xt(this.bridge,[{key:nt,value:this.uuid},{key:et,value:this.oldUuid}]);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getSession=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt(this.bridge,this.sessionId);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.setSession=function(t){bt(this.bridge,this.sessionId,t)},t}(),Mt=function(t){var e=t.url,n=t.data;return new Promise((function(t,r){var i=new XMLHttpRequest,o=function(){200===i.status&&i.responseText?t(i.responseText):r({type:"xhr",data:i})};i.open("POST",e,!0),i.setRequestHeader("Content-type","application/json;charset=UTF-8"),i.onload=o,i.onerror=o,i.ontimeout=o,i.send(JSON.stringify(n))}))},Jt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function Ht(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Kt=Ht((function(t){(function(e){function n(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function r(t,e){return t<<e|t>>>32-e}function i(t,e,i,o,a,s){return n(r(n(n(e,t),n(o,s)),a),i)}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function c(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}function u(t,e){var r,i,u,f,l;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var p=1732584193,d=-271733879,h=-1732584194,v=271733878;for(r=0;r<t.length;r+=16)i=p,u=d,f=h,l=v,p=o(p,d,h,v,t[r],7,-680876936),v=o(v,p,d,h,t[r+1],12,-389564586),h=o(h,v,p,d,t[r+2],17,606105819),d=o(d,h,v,p,t[r+3],22,-1044525330),p=o(p,d,h,v,t[r+4],7,-176418897),v=o(v,p,d,h,t[r+5],12,1200080426),h=o(h,v,p,d,t[r+6],17,-1473231341),d=o(d,h,v,p,t[r+7],22,-45705983),p=o(p,d,h,v,t[r+8],7,1770035416),v=o(v,p,d,h,t[r+9],12,-1958414417),h=o(h,v,p,d,t[r+10],17,-42063),d=o(d,h,v,p,t[r+11],22,-1990404162),p=o(p,d,h,v,t[r+12],7,1804603682),v=o(v,p,d,h,t[r+13],12,-40341101),h=o(h,v,p,d,t[r+14],17,-1502002290),d=o(d,h,v,p,t[r+15],22,1236535329),p=a(p,d,h,v,t[r+1],5,-165796510),v=a(v,p,d,h,t[r+6],9,-1069501632),h=a(h,v,p,d,t[r+11],14,643717713),d=a(d,h,v,p,t[r],20,-373897302),p=a(p,d,h,v,t[r+5],5,-701558691),v=a(v,p,d,h,t[r+10],9,38016083),h=a(h,v,p,d,t[r+15],14,-660478335),d=a(d,h,v,p,t[r+4],20,-405537848),p=a(p,d,h,v,t[r+9],5,568446438),v=a(v,p,d,h,t[r+14],9,-1019803690),h=a(h,v,p,d,t[r+3],14,-187363961),d=a(d,h,v,p,t[r+8],20,1163531501),p=a(p,d,h,v,t[r+13],5,-1444681467),v=a(v,p,d,h,t[r+2],9,-51403784),h=a(h,v,p,d,t[r+7],14,1735328473),d=a(d,h,v,p,t[r+12],20,-1926607734),p=s(p,d,h,v,t[r+5],4,-378558),v=s(v,p,d,h,t[r+8],11,-2022574463),h=s(h,v,p,d,t[r+11],16,1839030562),d=s(d,h,v,p,t[r+14],23,-35309556),p=s(p,d,h,v,t[r+1],4,-1530992060),v=s(v,p,d,h,t[r+4],11,1272893353),h=s(h,v,p,d,t[r+7],16,-155497632),d=s(d,h,v,p,t[r+10],23,-1094730640),p=s(p,d,h,v,t[r+13],4,681279174),v=s(v,p,d,h,t[r],11,-358537222),h=s(h,v,p,d,t[r+3],16,-722521979),d=s(d,h,v,p,t[r+6],23,76029189),p=s(p,d,h,v,t[r+9],4,-640364487),v=s(v,p,d,h,t[r+12],11,-421815835),h=s(h,v,p,d,t[r+15],16,530742520),d=s(d,h,v,p,t[r+2],23,-995338651),p=c(p,d,h,v,t[r],6,-198630844),v=c(v,p,d,h,t[r+7],10,1126891415),h=c(h,v,p,d,t[r+14],15,-1416354905),d=c(d,h,v,p,t[r+5],21,-57434055),p=c(p,d,h,v,t[r+12],6,1700485571),v=c(v,p,d,h,t[r+3],10,-1894986606),h=c(h,v,p,d,t[r+10],15,-1051523),d=c(d,h,v,p,t[r+1],21,-2054922799),p=c(p,d,h,v,t[r+8],6,1873313359),v=c(v,p,d,h,t[r+15],10,-30611744),h=c(h,v,p,d,t[r+6],15,-1560198380),d=c(d,h,v,p,t[r+13],21,1309151649),p=c(p,d,h,v,t[r+4],6,-145523070),v=c(v,p,d,h,t[r+11],10,-1120210379),h=c(h,v,p,d,t[r+2],15,718787259),d=c(d,h,v,p,t[r+9],21,-343485551),p=n(p,i),d=n(d,u),h=n(h,f),v=n(v,l);return[p,d,h,v]}function f(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function p(t){return f(u(l(t),8*t.length))}function d(t,e){var n,r,i=l(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(l(e)),512+8*e.length),f(u(a.concat(r),640))}function h(t){var e,n,r="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=r.charAt(e>>>4&15)+r.charAt(15&e);return i}function v(t){return unescape(encodeURIComponent(t))}function g(t){return p(v(t))}function y(t){return h(g(t))}function m(t,e){return d(v(t),v(e))}function w(t,e){return h(m(t,e))}function b(t,e,n){return e?n?m(e,t):w(e,t):n?g(t):y(t)}t.exports?t.exports=b:e.md5=b})(Jt)})),Xt=function(){return function(){return""}}();function Gt(){return!0}var qt=function(t){switch(t){case"iOS":return{filter:function(t){return t.indexOf("[native code]")<0&&t.indexOf("@")>=0}};case"Android":return{filter:function(t,e){return e&&t.indexOf("nonymous")<0&&Gt()}};default:return{filter:function(){return!0}}}},Yt=function(){return(0,f.A)((function t(e){(0,u.A)(this,t),this.env=e||Xt(),this.stackFilter=qt(this.env).filter}),[{key:"makeReg",value:function(){switch(this.env){case"iOS":return new RegExp("(?:\\s*)\\w+(?=@)|(?:@).*?(?=:\\d*:)|(?::)\\d*(?=:)|(?::)\\d*$","g");default:return null}}},{key:"stackFormatter",value:function(t){var e=t.message,n=t.stack,r=[],i="Android"===this.env,o="iOS"===this.env,a=n.split("\n").filter(this.stackFilter);a.shift();var s=a.join("\n"),u=this.makeReg();u?a.map((function(t){var e=t.match(u);if(e){var n=(0,c.A)(e,4),a=n[0],s=void 0===a?"":a,f=n[1],l=void 0===f?"":f,p=n[2],d=void 0===p?"":p,h=n[3],v=void 0===h?"":h,g=i?s.split(".").reverse()[0]:s,y=o?1:0;r.push("at ".concat(g," (").concat(l.substr(y),":").concat(d.substr(y),":").concat(v.substr(y),")"))}else r.push(t);return null})):r=a;var f=this.encryptStack(e,r);return{hash:f,message:e,stackList:r,stackStr:s}}},{key:"encryptStack",value:function(t,e){var n=[].concat((0,s.A)(e.slice(0,6)),(0,s.A)(e.slice(7,8)),(0,s.A)(e.slice(9,10)),(0,s.A)(e.slice(11,12)),(0,s.A)(e.slice(13,14))),r=n.join(";");return Kt("".concat(t,":").concat(r))}}])}(),Wt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Vt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$t=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;function Qt(t){for(var e=t.slice(0,20),n=["",""],r={},i=1,o=0;o<e.length;o+=1){var a=Wt,s=(e[o]||"").match(a);if(null===s&&(a=Vt,s=(e[o]||"").match(a)),null===s&&(a=$t,s=(e[o]||"").match(a)),null!==s){var c=s[1],u=r[c];void 0===u&&(r[c]="#".concat(i,"#"),i+=1,u=r[c]),e[o]=e[o].replace(c,u)}}e.length>0&&(n[1]=e.map((function(t){return t.trim()})).join("\x03"));var f="";for(var l in r)r.hasOwnProperty(l)&&(f+="".concat(l,"@").concat(r[l],";"));return f=f.replace(/;$/,""),n[0]=f,n.join("\x10").replace(/\^/g,"\x04").replace(/=/g,"\x05").replace(/,/g,"\x06")}"undefined"===typeof process||(0,l.A)(process);var Zt=function(t){return Qt(t)};function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ee(t){if(Array.isArray(t))return te(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pe(r.key),r)}}function ie(t,e,n){return e&&re(t.prototype,e),n&&re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oe(t,e,n){return(e=pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function se(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fe(t){return ee(t)||ae(t)||he(t)||se()}function le(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function pe(t){var e=le(t,"string");return"symbol"==typeof e?e:e+""}function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function he(t,e){if(t){if("string"==typeof t)return te(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(t,e):void 0}}function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!e.length)return!0;for(var r=0;r<e.length;r++){var i=e[r];if(null===t[i]||void 0===t[i])return n&&n("Field is required. Log cached."),!1}return!0}function ge(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function ye(t,e){if(!e||"object"!==de(e))return t;var n=t||{};for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(n[r]=e[r]);return n}function me(t,e){for(var n=e.split("."),r=0;r<n.length-1;r++)if(t=t[n[r]],"object"!==de(t)||!t||Array.isArray(t))return"";return t[n.pop()]}function we(t,e,n){for(var r=e.split("."),i=0;i<r.length-1;i++){if("object"!==de(t[r[i]])&&void 0!==t[r[i]])return;if(Array.isArray(t[r[i]]))return;t[r[i]]||(t[r[i]]={}),t=t[r[i]]}t[r.pop()]=n}var be,Se=function(){return ie((function t(){ne(this,t),this.defaults={},this.configs={}}),[{key:"set",value:function(t,e,n){void 0!==n?(this.defaults[t]=n,this.configs[t]=e):(this.defaults[t]=e,delete this.configs[t])}},{key:"process",value:function(t){var e;for(var n in t=ye({},t),this.defaults)if(this.defaults.hasOwnProperty(n))switch(this.configs[n]){case"call":we(t,n,this.defaults[n].call(this,me(t,n),t));break;case"make":void 0===me(t,n)&&we(t,n,this.defaults[n].call(this,t));break;case"append":var r=me(t,n);Array.isArray(r)||(r=[]),(e=r).push.apply(e,fe(this.defaults[n])),we(t,n,r);break;default:void 0===me(t,n)&&we(t,n,this.defaults[n])}return t}}])}();function xe(t){var e,n;try{return e=[].slice.call(t),e}catch(i){e=[],n=t.length;for(var r=0;r<n;r++)e.push(t[r]);return e}}function Ae(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""}function ke(){return be||(be=Re()),be}var Ie=function(t){return function(e){var n;if(!(null===t||void 0===t||null===(n=t.document)||void 0===n?void 0:n.querySelectorAll))return"";for(var r=xe(t.document.querySelectorAll("meta")),i=0;i<r.length;i++){var o=r[i];if(Ae(o,"name")===e)return Ae(o,"content")}return null}}(function(){if(!eval)return"undefined"!==typeof n.g?n.g:window;try{return(0,eval)("this")}catch(t){return"undefined"!==typeof n.g?n.g:window}}()),Ee={_appId:"bm_app_id",yuyanId:"yuyan_id",sprintId:"bm_sprint_id"};function Oe(){var t={};for(var e in Ee)if(Ee.hasOwnProperty(e)){var n=Ie(Ee[e]);n&&(t[e]=n)}return t}function Re(){var t=new Se,e=Oe();return t.set("yuyanId","call",(function(t){return t||e.yuyanId})),t.set("bmAppid","call",(function(t,n){return n.yuyanId?null:t||(n.appid?n.appid:n._appId||e._appId)})),t.set("userId","call",(function(t,e){return e.roleId?e.roleId:t})),t.set("disableInterface","call",(function(t){return t||!1})),t.set("oncePerSession","call",(function(t){return t||!1})),t.set("autoCapture","call",(function(t,e){return!e.hasOwnProperty("autoCapture")||Boolean(e.autoCapture)})),t.set("autoEnv","call",(function(t,e){return!e.hasOwnProperty("autoEnv")||Boolean(e.autoEnv)})),t.set("defaults","call",(function(t){return ye({},t)})),t.set("sprintId","call",(function(t){return t||e.sprintId})),t.set("requiredFields","call",(function(t){return Array.isArray(t)?t:"string"===typeof t?[t]:[]})),t.set("eventId","call",(function(t,e){return"PC"===e.appType?"102022":"102023"})),t.set("beforeLog","call",(function(t){if("function"===typeof t)return t})),t.set("callBridge","call",(function(t){if("function"===typeof t)return t})),t.set("plugins","call",(function(t){return Array.isArray(t)?t:["tracert","performance","buc"]})),t.set("forceHttpReport","call",(function(t){return!!t})),t}var Pe={JS:1,REQUEST:2,PROMISEREJECTION:3,ASSETS:4},Ce=Object.freeze({__proto__:null,ErrorCodeEnums:Pe,CodeLevelEnums:{B:"\u7981\u7528",L:"\u4f4e",M:"\u4e2d",H:"\u9ad8"}}),Te=new Yt;function Le(t,e,n){var r=n.log,i=n._warn,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var a=(null===o||void 0===o?void 0:o.code)||Pe.JS,s="";if(t)if(t.stack){var c=Te.stackFormatter(t),u=c.hash,f=c.stackList;s=u,u&&f&&f.length&&e(u,(function(t,e){if(t)return i("hash\u68c0\u6d4b\u5931\u8d25",t);e||r(ue(ue({},o),{},{code:Pe.JS,s1:u,s2:Zt(f),s3:1}))})),r(ue({code:a,msg:t.message,s10:s},o),{originalError:t})}else r(ue({code:a,msg:t.message||t},o),{originalError:t})}catch(l){i("\u5f02\u5e38\u4e0a\u62a5\u5931\u8d25:",l)}}var je={};function Be(t,e){return String(t)===String(e)}function _e(t){return Number(t)>22e3&&Number(t)<23e3}function De(t,e,n,r){var i,o=e.destroyed,a=e.beforeLog,s=e._warn,c=e.tenant;if(!o){if("function"===typeof a)try{t=a(t,{originalError:null===r||void 0===r?void 0:r.originalError})}catch(x){s("beforeLog \u5931\u8d25\uff1a",x)}if(t&&"object"===de(t)&&!Array.isArray(t)){var u=[t.code,t.msg||"",t.uid].join("_"),f=je[u],l=null!==(i=t.oncePerSession)&&void 0!==i?i:e.oncePerSession;if(!l||!f){var p=t.bmAppid||e.bmAppid;if(p===e.bmAppid){var d,h;if(Be(t.code,"32767")||"MAIN_SITE"!==c)return t;var v=(null===(d=e.monitorOptionMap)||void 0===d?void 0:d[Number(t.code)])||(null===(h=e.monitorOptionMap)||void 0===h?void 0:h["".concat(t.code)]);if(!n&&!e.monitorConfigFailed&&!v&&!_e(t.code))return void e._warn("\u76d1\u63a7\u5e73\u53f0\u6ca1\u6709\u8be5\u76d1\u63a7\u9879\u7684\u914d\u7f6e: ".concat(t.code));if(v&&(!v.isActive||v.isDeleted))return void e._warn("\u8be5\u76d1\u63a7\u9879\u672a\u542f\u7528\u6216\u5df2\u88ab\u5e9f\u5f03: ".concat(t.code));var g=(null===v||void 0===v?void 0:v.sampleRate)&&t.defaultSampleRate?1:t.defaultSampleRate||t.sampleRate||1;if(1!==g&&Math.random()>Number(g))return void s("\u5f53\u524d\u5df2\u8bbe\u7f6e\u4ee3\u7801\u91c7\u6837\u7387 ".concat(g,"\uff0c\u672a\u88ab\u91c7\u96c6"));if(v){var y=v.sampleRate||1;if(1!==y&&Math.random()>Number(y))return void s("\u5f53\u524d\u5df2\u914d\u7f6e\u91c7\u6837\u7387 ".concat(y,"\uff0c\u672a\u88ab\u91c7\u96c6"));ye(t,{sampleRate:y}),v.level&&ye(t,{level:v.level});for(var m={},w=v.fields||[],b=0;b<w.length;b++)m[w[b]]=!0;for(var S in t)!m[S]&&/^[dmc]\d+$/.test(S)&&delete t[S]}}return je[u]=1,t}e._warn("\u5f53\u524d\u7531\u4e8e OncePerSession \u7b56\u7565\uff0c\u672a\u88ab\u91c7\u96c6")}else s("beforeLog\u8fd4\u56de\u503c\u4e0d\u662f\u5bf9\u8c61\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5")}}var Ne=Ht((function(t){(function(e,n){t.exports?t.exports=n():e.timing2=n()})("undefined"!==typeof self?self:Jt,(function(){if("object"===typeof window){var t,e=window,n={0:"navigate",1:"reload",2:"back_forward"},r=["unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart"];return e&&e.performance&&"object"===typeof e.performance&&e.performance.timing?"function"===typeof e.performance.getEntries&&"function"===typeof e.performance.getEntriesByType&&"function"===typeof e.performance.getEntriesByName&&"function"===typeof e.performance.now&&e.performance.timeOrigin?e.performance:(t={_entry:function(){for(var t=e.performance.timing,i=t.navigationStart||t.redirectStart||t.fetchStart,o={entryType:"navigation",initiatorType:"navigation",name:e.location.href,startTime:0,duration:t.loadEventEnd?t.loadEventEnd-i:0,redirectCount:e.performance.navigation.redirectCount,type:n[e.performance.navigation.type]},a=0;a<r.length;a++){var s=r[a],c=t[s];o[s]=c?c-i:0}return o}(),timeOrigin:e.performance.timing.navigationStart,getEntries:function(){return[this._entry]},getEntriesByType:function(t){return"navigation"!==t?[]:[this._entry]},getEntriesByName:function(t){return t!==e.location.href?[]:[this._entry]},now:function(){return Date.now()-e.performance.timing.navigationStart}},t):t}}))}));function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ze(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Fe(o,r,i,a,s,"next",t)}function s(t){Fe(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Me(t,e,n){return e=Ge(e),$e(t,Ye()?Reflect.construct(e,n||[],Ge(t).constructor):e.apply(t,n))}function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,en(r.key),r)}}function Ke(t,e,n){return e&&He(t.prototype,e),n&&He(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return(e=en(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ge(t)}function qe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}function Ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ye=function(){return!!t})()}function We(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?We(Object(n),!0).forEach((function(e){Xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $e(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}function Qe(){Qe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",g={};function y(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(T([])));x&&x!==n&&r.call(x,a)&&(b=x);var A=w.prototype=y.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=p;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=l(e,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator["return"]&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=l(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=w,i(A,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(I.prototype),u(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new I(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),u(A,c,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}function tn(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function en(t){var e=tn(t,"string");return"symbol"==typeof e?e:e+""}function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}var rn=function(t){return encodeURIComponent(t).replace(/'/g,"%27")};function on(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];if(t instanceof Array)i=t;else if(t instanceof Object){var o=r?rn:function(t){return t};for(e in t)if(t.hasOwnProperty(e)){var a=o(t[e]);i.push("".concat(e,"=").concat(a))}}return i.join(n)}function an(){var t=new Date,e=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(t.getFullYear(),"-").concat(e(t.getMonth()+1),"-").concat(e(t.getDate())," ").concat(e(t.getHours()),":").concat(e(t.getMinutes()),":").concat(e(t.getSeconds()),":").concat(t.getMilliseconds())}var sn,cn=function(t){var e={is:!1,name:"",version:""},n=t.match(/AliApp\S+\b\)/gi);e.is=/(T-UA)|(TBIOS)|(WindVane)|(AliApp)/i.test(t);try{e.name=n?n[0].match(/\(\w+\-*\w*/)[0].split("(")[1]:"",e.version=n?n[0].match(/(\d+\.*)+/gi)[0]:""}catch(r){}return e};function un(t){return t.split(/%..|./).length-1}function fn(t){if(!t||"object"!==nn(t))return[];var e=t.eventId,n=t.userId,r=t.ua,i=t.param4,o=t.resolution,a=["D-AE",an(),"","","2","","",n,"1000",e,"H5behavior","2","","","","","","","","","","","","","",o,"","","",r,"","","","","",""];return a.push(on(i,"^",!0)),a}function ln(t,e){var n=t||{};if(!e||"object"!==nn(e))return n;for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(n[r]=e[r]);return n}function pn(t){var e=t&&t.userAgent;if(!e)return!1;var n=cn(e);return["AP","AF","AFW","BK","AM","APHK","KB"].indexOf(n.name)>=0}function dn(t,e,n){var r=e||window.document;r.addEventListener?r.addEventListener(t,n,!0):r.attachEvent?r.attachEvent("on".concat(t),n):r[t]=n}function hn(t,e,n){var r=e||window.document;r.removeEventListener?r.removeEventListener(t,n,!0):r.detachEvent?r.detachEvent("on".concat(t),n):r[t]=n}(function(t){t["stable"]="STABLE",t["test"]="TEST",t["pre"]="PRE",t["prod"]="PROD",t["sandbox"]="SANDBOX",t["unknown"]="UNKNOWN"})(sn||(sn={}));var vn=function(){var t="undefined"!==typeof my;if(t){var e,n,r=t?null===(e=my)||void 0===e||null===(n=e.env)||void 0===n?void 0:n.clientEnv:void 0;switch(r){case"stable":case"test":case"pre":case"prod":return sn[r];case"gray":return sn.prod;default:return sn.unknown}}else if("undefined"!==typeof navigator&&navigator.userAgent&&"undefined"!==typeof window){var i,o;if("undefined"!==typeof window.AlipayJSBridge&&"undefined"!==window.AlipayJSBridge.startupParams){var a,s=window.AlipayJSBridge.startupParams.gateway_env;if("string"===typeof s)return null!==(a=sn[s])&&void 0!==a?a:sn.unknown}if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&-1===navigator.userAgent.indexOf("ProductType/dev"))return sn.prod;if(navigator.userAgent.indexOf("Android")>0&&"undefined"!==typeof window.AlipayJSBridge&&"undefined"!==typeof window.AlipayJSBridge.startupParams&&!(null===(i=window.AlipayJSBridge)||void 0===i||null===(o=i.startupParams)||void 0===o?void 0:o.isSpecialEdition))return sn.prod}return sn.unknown},gn=function(){var t=ze(Qe().mark((function t(){var e;return Qe().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=vn(),e===sn.unknown){t.next=3;break}return t.abrupt("return",e);case 3:if("undefined"===typeof navigator||!navigator.userAgent||"undefined"===typeof window){t.next=6;break}if("undefined"===typeof window.AlipayJSBridge){t.next=6;break}return t.abrupt("return",new Promise((function(t){window.AlipayJSBridge.call("getConfig",{configKeys:["rpcUrl"]},(function(e){var n,r=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.rpcUrl)||"";return r.indexOf("stable.alipay.net")>0?t(sn.stable):r.indexOf("test.alipay.net")>0?t(sn.test):r.indexOf("mobilegwpre.alipay.com")>0?t(sn.pre):r.indexOf("mobilegw.alipaydev.com")>0?t(sn.sandbox):r.indexOf("mobilegw.alipay.com")>0?t(sn.prod):t(sn.unknown)}))})));case 6:return t.abrupt("return",sn.unknown);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),yn=function(t){var e={name:"web",client:null};return"object"===("undefined"===typeof dd?"undefined":nn(dd))&&dd&&"function"===typeof dd.httpRequest?(e.client=dd,e.name="dd"):"object"===("undefined"===typeof my?"undefined":nn(my))&&my&&"function"===typeof my.request?(e.client=my,e.name="my"):"object"===("undefined"===typeof wx?"undefined":nn(wx))&&wx&&"function"===typeof wx.request&&(e.client=wx,e.name="wx"),e[t]};function mn(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""}function wn(t){var e,n;try{return e=[].slice.call(t),e}catch(i){e=[],n=t.length;for(var r=0;r<n;r++)e.push(t[r]);return e}}function bn(t,e){var n=t.id?"".concat(t.id):"",r=t.className?"".concat(t.className):"",i=t.tagName.toLowerCase(),o=n||r,a=[];n&&a.push('[@id="'.concat(n,'"]')),r&&a.push('[@class="'.concat(r,'"]'));var s="".concat(i).concat(o?a.join(""):"");return t.parentNode&&t.parentNode.tagName&&e-1!==0?"".concat(bn(t.parentNode,e-1),">").concat(s):s}function Sn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.src||t.href;return"img"===t.tagName.toLowerCase()&&0===e.indexOf("data:")&&(e=e.split(",")[0]),e}var xn="data-aspm";function An(t){for(var e,n,r,i,o=wn(t||document.getElementsByTagName("meta")),a=o.length,s=0;s<a;s++)if(e=o[s],n=mn(e,"name"),r=mn(e,"content"),n===xn&&r){i=r;break}var c={};return i&&(c.spmAPos=i),c}function kn(){var t=mn(document.body,xn);return t}function In(t){if("undefined"!==typeof window&&"XMLHttpRequest"in window){var e=window.XMLHttpRequest.prototype,n=e.open;e.open=function(t,e){this.__interfaceMonitor__={method:t,url:e||"",status_code:null};for(var r=new Array(arguments.length),i=0;i<r.length;++i)r[i]=arguments[i];n.apply(this,r)};var r=e.send;e.send=function(e){var n=this;function i(){if(n.__interfaceMonitor__&&4===n.readyState)try{var r=n.__interfaceMonitor__.url;if(0===n.status)return;var i=r.split("?")[0],o=r.split("?")[1]||"",a="string"===typeof e?e:JSON.stringify(e),s=String(n.response);if(s.length>2048&&(s="[too large]"),n.status<200||n.status>299){if(i===t.server)return void t._warn("\u4e0a\u62a5\u5f02\u5e38",a);t.logRequestError({type:"http",status:n.status,url:i,method:n.__interfaceMonitor__.method,query:o,data:a,response:s,traceId:t.traceId||""})}}catch(c){t._warn("\u63a5\u53e3\u5f02\u5e38\u4e0a\u62a5\u5931\u8d25:",c)}}if("onreadystatechange"in n&&"function"===typeof n.onreadystatechange){var o=n.onreadystatechange;n.onreadystatechange=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];i.apply(this,t),o.apply(this,t)}}else n.onreadystatechange=i;for(var a=new Array(arguments.length),s=0;s<a.length;++s)a[s]=arguments[s];return r.apply(this,arguments)}}if("undefined"!==typeof window&&"fetch"in window){var i=window.fetch;window.fetch=function(){for(var e=new Array(arguments.length),n=0;n<e.length;++n)e[n]=arguments[n];var r="GET";return e[1]&&e[1].method&&(r=e[1].method.toUpperCase()),e[1]&&e[1].headers&&(e[1].headers["Accept"]||e[1].headers["accept"]||"").includes("stream")?i.apply(this,e):i.apply(this,e).then((function(n){var i=n.headers.get("Content-Type");return i&&i.includes("stream")?n:new Promise((function(i){try{var o=e[0],a=o.split("?")[0],s=o.split("?")[1]||"",c=e[1]&&e[1].body||"",u="string"===typeof c?c:JSON.stringify(c);n.clone().text().then((function(e){if(!n.ok){var i=(e||"").length>2048?"[too large]":e;t.logRequestError({type:"http",status:n.status,url:a,method:r,query:s,data:u,response:i,traceId:n.headers.get("traceid")||n.headers.get("Request-Id")||t.traceId||""})}})).then((function(){i(n)}),(function(){i(n)}))}catch(f){i(n)}}))}))}}}var En,On={main_site:"https://collect.alipay.com/yuyan/",mybank:"https://collect.mybank.cn/yuyan/"},Rn={main_site:"collect.alipay.com",mybank:"collect.mybank.cn"};(function(t){t["WX"]="wx",t["MY"]="my",t["DD"]="dd"})(En||(En={}));var Pn=["connectEnd","connectStart","decodedBodySize","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domainLookupEnd","domainLookupStart","duration","encodedBodySize","fetchStart","loadEventEnd","loadEventStart","redirectCount","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","transferSize","type","unloadEventEnd","unloadEventStart","workerStart","firstPaint","firstContentfulPaint","LargestContentfulPaint","FirstInputDelay"];function Cn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(console&&console.warn){var i=t.split("%s").map((function(t,e){return t&&"[YuyanMonitor]".concat(t).concat(n[e])})).join("");console.warn(i)}}var Tn=Ce.ErrorCodeEnums,Ln=(new Date).getTime(),jn=function(){return Ke((function t(e){var n,r,i=this;Je(this,t),this.eventId=void 0,this.bmAppid=void 0,this.debug=void 0,this.tenant=void 0,this.beforeLog=void 0,this.clientApp=void 0,this.clientName=void 0,this.aggregationPeriod=void 0,this.resolution=void 0,this.userConfig={},this.oncePerSession=void 0,this.defaults={},this.cOfflineVer="",this.cAppId="",this.cUserId="",this.autoEnv=void 0,this.autoCapture=void 0,this.disableInterface=void 0,this.trackedLogs=[],this.requiredFields=[],this.isErrorHandler=!1,this.enabledPlugins=[],this.forceHttpReport=!1,this.fullURL="",this.title="",this.env="",this.monitorConfigInited=!1,this.monitorConfigFailed=!1,this.monitorOptions=[],this.getErrorEventHandler=function(t){i.handleErrorEvent(t,(function(t){i.log(t,{reportDirectly:!0})}))},this._warn=function(){var t=window;if("object"===nn(t)&&t.console&&"function"===typeof t.console.warn&&i.debug){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Array.prototype.slice.call(n);t.console.warn.apply(null,["[Monitor Debug]".concat(o[0]),o.slice(1)])}},this.pcSend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=arguments.length>2?arguments[2]:void 0,r=n&&"number"===typeof n?t.join("$$"):encodeURIComponent(t.join());(i.debug||i.userConfig.debug)&&console.log("[YuyanMonitor]SEND: %s",r);var o="undefined"!==typeof navigator&&navigator;if(o&&o.sendBeacon&&"function"===typeof o.sendBeacon){var a={type:"application/x-www-form-urlencoded",Host:"".concat(Rn[i.tenant.toLowerCase()])},s=new Blob(["data=".concat(r,"&time=").concat((new Date).getTime())],a),c=o.sendBeacon("".concat(On[i.tenant.toLowerCase()],"?biztype=yuyanmonitor").concat(e.toLowerCase()),s);if(c)return}return fetch("".concat(On[i.tenant.toLowerCase()],"?biztype=yuyanmonitor").concat(e.toLowerCase()),{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded",Host:"".concat(Rn[i.tenant.toLowerCase()])},body:"data=".concat(r,"&time=").concat((new Date).getTime())})["catch"]((function(){try{var t=new Image;t.src="".concat(On[i.tenant.toLowerCase()],"?data=").concat(r,"&time=").concat((new Date).getTime())}catch(e){Cn("\u901a\u8fc7 IMG \u4e0a\u62a5\u5931\u8d25: %s",e)}}))},this.clientHttpSend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n={"Content-type":"application/x-www-form-urlencoded",Host:"".concat(Rn[i.tenant.toLowerCase()])},r={url:"".concat(On[i.tenant.toLowerCase()],"?biztype=yuyanmonitor").concat(e.toLowerCase()),method:"POST",data:"data=".concat(t,"&time=").concat((new Date).getTime()),fail:function(e){try{var n=new Image;n.src="".concat(On[i.tenant.toLowerCase()],"?data=").concat(t,"&time=").concat((new Date).getTime())}catch(r){Cn("\u901a\u8fc7 IMG \u4e0a\u62a5\u5931\u8d25: %s",r)}i.debug&&Cn("\u8bf7\u6c42\u53d1\u9001\u5931\u8d25",e)}};i.clientApp&&i.clientApp.canIUse("request")?i.clientName===En.WX?i.clientApp.request(Ve(Ve({},r),{},{header:n})):i.clientApp.request(Ve(Ve({},r),{},{headers:n})):i.clientApp&&i.clientApp.canIUse("httpRequest")?i.clientName===En.DD&&i.clientApp.httpRequest(Ve(Ve({},r),{},{headers:n})):Cn("\u8c03\u7528API\u5931\u8d25\uff0c\u65e0\u6cd5\u5b8c\u6210\u4e0a\u62a5")};var o=ke().process(e);this.userConfig=o,this.eventId=o.eventId||"102022",this.bmAppid=o.bmAppid,this.tenant=o.tenant||"MAIN_SITE",this.resolution=o.resolution||"",this.aggregationPeriod=o.aggregationPeriod,this.debug=o.debug||!1,this.clientApp=yn("client"),this.clientName=yn("name")||"web",this.autoCapture=o.autoCapture,this.autoEnv=o.autoEnv||!0,this.disableInterface=o.disableInterface,this.oncePerSession=o.oncePerSession,this.beforeLog=o.beforeLog,this.defaults=o.defaults||{},this.requiredFields=o.requiredFields||[],this.enabledPlugins=o.plugins,this.forceHttpReport=!!o.forceHttpReport,this.fullURL=(null===(n=o.defaults)||void 0===n?void 0:n.url)||o.url||"",this.title=(null===(r=o.defaults)||void 0===r?void 0:r.title)||o.title||""}),[{key:"handleErrorEvent",value:function(t,e){try{var n=t.target||t.srcElement;if(!n)return;var r=t.type;if("unhandledrejection"===r){var i=t.reason||{};if(i.message&&i.stack)this.logError(i,{code:Tn.PROMISEREJECTION});else{var o=i.message||("string"===typeof i?i:JSON.stringify(i));e({code:Tn.PROMISEREJECTION,msg:o})}return}var a=n instanceof HTMLElement;if(a){var s=Sn(n),c=n.tagName.toLowerCase(),u=n.alt,f=void 0===u?"":u;return void e({code:Tn.ASSETS,msg:s===("undefined"!==typeof location&&location&&location.href)?"__EMPTY__SRC__":s||"",s1:c,s2:bn(n,5),s3:f})}if(t.error&&t.error.stack)return void this.logError(t.error);e({code:Tn.JS,msg:t.message,s3:0})}catch(l){Cn("handleErrorOptions failed: %s",l.message)}}},{key:"handlePreCapture",value:function(){var t=this,e=window.g_monitor;if(e){var n=e.listener,r=void 0===n?{}:n,i=e.events,o=void 0===i?[]:i;for(var a in r)r.hasOwnProperty(a)&&(hn(a,window,r[a]),delete r[a]);for(var s=0;s<o.length;s++)this.handleErrorEvent(o[s],(function(e){t.log(e)}));e.events=[]}}},{key:"register",value:function(){var t=document;if(this.autoCapture)try{if(!t)return this.debug&&Cn("\u5f53\u524d\u4e3a\u975e web \u73af\u5883\uff0c\u4e0d\u652f\u6301\u62a5\u9519\u76d1\u542c\u4e0e\u63d2\u4ef6\u4f7f\u7528"),this;if(this.isErrorHandler)return void(this.debug&&Cn("\u9519\u8bef\u4e8b\u4ef6\u5df2\u76d1\u542c"));dn("error",window,this.getErrorEventHandler),dn("unhandledrejection",window,this.getErrorEventHandler),this.isErrorHandler=!0}catch(e){Cn("\u5f02\u5e38\u76d1\u542c\u4e8b\u4ef6\u6ce8\u518c\u5931\u8d25: %s",e.message)}else this.debug&&Cn("\u5df2\u901a\u8fc7 autoCapture \u7981\u7528\u5f02\u5e38\u6355\u83b7")}},{key:"unregister",value:function(){hn("error",window,this.getErrorEventHandler),hn("unhandledrejection",window,this.getErrorEventHandler),this.isErrorHandler=!1}},{key:"getNetwork",value:function(){var t=navigator;return t&&t.connection&&t.connection.effectiveType?t.connection.effectiveType:""}},{key:"parseParam4",value:function(t){if(!t||"object"!==nn(t))return null;var e=Ve(Ve({},this.defaults),t);(t.bmAppid||this.bmAppid)&&(e.bm_appid=t.bmAppid||this.bmAppid),this.userConfig.sprintId&&(e.bm_sid=this.userConfig.sprintId),this.userConfig.yuyanId&&(e.yuyan_id=this.userConfig.yuyanId),this.userConfig.cClientVer&&(e.c_client_ver=this.userConfig.cClientVer),this.userConfig.os&&(e.os=this.userConfig.os),this.userConfig.deviceModel&&(e.device_model=this.userConfig.deviceModel),this.userConfig.deviceBrand&&(e.device_brand=this.userConfig.deviceBrand),this.userConfig.deviceType&&(e.device_type=this.userConfig.deviceType),e.env=this.userConfig.env||this.env;var n="undefined"!==typeof location&&location?location.href:"";if(e.title=this.title||this.userConfig.title||"",e.fullURL=e.fullURL||n||this.fullURL||this.userConfig.fullURL||"",e.monitor_ver="sdk:".concat("1.2.0"),!this.clientApp&&"undefined"!==typeof document){var r,i;"undefined"!==typeof window&&(this.resolution="".concat(null===(r=window.screen)||void 0===r?void 0:r.width,"x").concat(null===(i=window.screen)||void 0===i?void 0:i.height));var o=document.documentElement;e.title=document.title||this.title,e.dom_cnt=document.getElementsByTagName("*").length,e.delay=(new Date).getTime()-Ln,e.scroll_top=o.scrollTop+document.body.scrollTop,e.content_height=Math.max(o.clientHeight,o.offsetHeight,o.scrollHeight),e.s_c=!this.monitorConfigFailed}e.network=this.getNetwork()||this.userConfig.network||"";var a=this.userConfig.spmAPos&&this.userConfig.spmBPos?"".concat(this.userConfig.spmAPos,".").concat(this.userConfig.spmBPos):"";if(a&&(e.spmId=a),this.cOfflineVer&&(e.c_offline_ver=this.cOfflineVer),this.cAppId&&(e.c_app_id=this.cAppId),"object"===nn(e)){var s=e;for(var c in s)s.hasOwnProperty(c)&&"string"===typeof s[c]&&s[c].replace(/\s+/g," ")}return e}},{key:"bridgeCall",value:function(){if(this.clientApp&&this.clientName===En.MY&&"function"===typeof my.call){var t;(t=my).call.apply(t,arguments)}else{var e,n=window;if(!n.AlipayJSBridge||!n.AlipayJSBridge.call||"function"!==typeof n.AlipayJSBridge.call)return void Cn("\u975e\u5bb9\u5668\u73af\u5883\uff0c\u4e0d\u80fd\u8c03\u7528 handleLoggingAction");(e=n.AlipayJSBridge).call.apply(e,arguments)}}},{key:"bridgeLog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=t||{};this.bridgeCall("handleLoggingAction",{actionType:"reportEvent",params:{eventId:this.eventId,bizType:"yuyanmonitor".concat(e.toLowerCase()),extData:n}})}}])}();function Bn(t){try{var e,n;return null===(e=window)||void 0===e||null===(n=e.localStorage)||void 0===n?void 0:n.getItem(t)}catch(r){return null}}function _n(t,e){try{var n,r;return null===(n=window)||void 0===n||null===(r=n.localStorage)||void 0===r?void 0:r.setItem(t,e)}catch(i){return null}}var Dn="_YUYAN_COOKIE_monitor_config_next",Nn=function(){return Ke((function t(){Je(this,t)}),[{key:"getStorageInfoMap",value:function(){var t=Bn(Dn)||"{}";try{return JSON.parse(t)}catch(e){return{}}}},{key:"getMonitorConfig",value:function(t){var e=this.getStorageInfoMap(),n=e[t];return!n||n.expire<(new Date).valueOf()?null:n.config}},{key:"saveMonitorConfig",value:function(t,e){var n=this.getStorageInfoMap(),r={config:e,expire:(new Date).valueOf()+9e5};n[t]=r,_n(Dn,JSON.stringify(n))}}])}(),Un=function(){return Ke((function t(){Je(this,t),this.monitor=void 0,this.configStorage=new Nn}),[{key:"apply",value:function(t){this.monitor=t;var e=t.bmAppid,n=t.userConfig.yuyanId,r=e||n;this.enhance(t,r);try{this.fetchMonitorConfig(r)}catch(i){this.monitor.onFetchConfigError(i)}}},{key:"enhance",value:function(t,e){var n=this;ye(t,{initMonitorConfigs:function(r){t.setMonitorConfigs(r),n.configStorage.saveMonitorConfig(e,r)},setMonitorConfigs:function(e){var n=e.monitors;t.monitorOptions=n,t.monitorConfigInited=!0,t.onMonitorConfigInited()}})}},{key:"fetchMonitorConfig",value:function(t){var e=this.monitor,n=e.setMonitorConfigs,r=e.tenant;if("MAIN_SITE"===r){var i=this.configStorage.getMonitorConfig(t);if(i)return n(i);this.fetchRemoteConfigJson(t)}}},{key:"fetchRemoteConfigJson",value:function(t){var e=this;fetch("https://render.alipay.com/p/alertserver/".concat(t,"_config/index.json"),{redirect:"follow"}).then((function(t){return t.json()})).then((function(t){e.monitor.initMonitorConfigs(t)}))["catch"]((function(t){e.monitor.onFetchConfigError(t)}))}}])}(),Fn=function(t){if("object"!==nn(t))return[];var e=t.getEntriesByType("paint"),n={};if(e.length){var r=(e.filter((function(t){return"first-paint"===t.name}))[0]||{}).startTime,i=(e.filter((function(t){return"first-contentful-paint"===t.name}))[0]||{}).startTime;n.firstPaint=parseFloat(r),n.firstContentfulPaint=parseFloat(i)}return n};function zn(t,e,n){if("object"!==nn(t)||"function"!==typeof t.getEntriesByType)return null;var r=null===t||void 0===t?void 0:t.getEntriesByType("navigation");if(!r||0===r.length)return null;var i=r[0],o=Fn(t),a={LargestContentfulPaint:e},s={FirstInputDelay:n};return Pn.reduce((function(t,e){var n=i[e]||o[e]||a[e]||s[e];return null==n||"number"===typeof n&&isNaN(n)?Ve(Ve({},t),{},Xe({},"".concat(e),0)):Ve(Ve({},t),{},Xe({},"".concat(e),n))}),{})}function Mn(t,e){return t?Jn({m1:e.duration||parseFloat(t.loadEventEnd)-e.startTime,m2:parseFloat(t.domContentLoadedEventStart)-e.startTime,m3:parseFloat(t.domComplete)-e.startTime,m4:t.firstPaint,m5:t.firstContentfulPaint,m6:t.LargestContentfulPaint,m7:parseFloat(t.redirectEnd)-parseFloat(t.redirectStart),m8:parseFloat(t.domainLookupStart)-parseFloat(t.fetchStart),m9:parseFloat(t.domainLookupEnd)-parseFloat(t.domainLookupStart),m10:parseFloat(t.connectEnd)-parseFloat(t.connectStart),m11:parseFloat(t.connectEnd)-parseFloat(t.secureConnectionStart),m12:parseFloat(t.responseStart)-parseFloat(t.requestStart),m13:parseFloat(t.responseEnd)-parseFloat(t.responseStart),m14:parseFloat(t.domComplete)-parseFloat(t.responseEnd),m15:parseFloat(t.loadEventEnd)-parseFloat(t.responseEnd),m16:parseFloat(t.domInteractive)-e.startTime,m17:parseFloat(t.domContentLoadedEventEnd)-parseFloat(t.domContentLoadedEventStart),m18:t.FirstInputDelay}):{}}function Jn(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(isNaN(t[n])?e[n]=0:e[n]=Math.round(Math.min(Math.max(0,parseFloat(t[n])),3e5)));return e}var Hn=0,Kn=0;function Xn(t,e){if("object"===nn(e)&&!t.metricsSent)try{var n,r,i=e.getEntriesByType("navigation")[0],o=zn(e,Hn,Kn),a={d1:(null===(n=navigator)||void 0===n||null===(r=n.connection)||void 0===r?void 0:r.effectiveType)||"-",d2:0===i.duration?1:0,d3:document.hidden?0:1},s={c1:document.title};t.log(Ve(Ve(Ve({code:"32767",msg:"undefined"!==typeof location?location.href:""},Mn(o,i)),a),s)),t.metricsSent=!0}catch(c){}}var Gn=function(){return Ke((function t(){Je(this,t),this.monitor=void 0}),[{key:"apply",value:function(t){this.monitor=t;try{var e=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){"largest-contentful-paint"===t.entryType?Hn=t.startTime:"first-input"===t.entryType&&(Kn=t.processingStart-t.startTime)}))}));e.observe({type:"largest-contentful-paint",buffered:!0}),e.observe({type:"first-input",buffered:!0})}catch(s){}if("object"===nn(Ne))try{var n,r;"function"===typeof Ne.setResourceTimingBufferSize&&Ne.setResourceTimingBufferSize(500);var i=(null===(n=navigator)||void 0===n?void 0:n.swuserAgent)||(null===(r=navigator)||void 0===r?void 0:r.userAgent)||"",o=!!i.match(/iPhone|iPad|iPod/i),a=o?"pagehide":"beforeunload";window.addEventListener(a,Xn.bind(null,t,Ne))}catch(s){}}}])}(),qn=function(){return Ke((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"l",i=arguments.length>2?arguments[2]:void 0;Je(this,t),this.cache=[],this.cacheSize=0,this.bizType=void 0,this.aggregationPeriod=void 0,this.timer=void 0,this._send=void 0,this.send=function(){n.cache.length&&(n._send(n.cache,n.bizType,n.aggregationPeriod),n.cache.length=0,n.cacheSize=0,n.resetTimer())},this._send=e,this.bizType=r,i&&(this.aggregationPeriod=1e3*i)}),[{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._send(t);this.addToCache(t)}},{key:"sendImmediately",value:function(){this.send()}},{key:"addToCache",value:function(t){var e=encodeURIComponent(t.join(",")),n=un(e);this.cacheSize+n>1048476&&this.send(),this.cache.push(e),this.cacheSize+=n,this.resetTimer()}},{key:"resetTimer",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.send,this.aggregationPeriod)}}])}(),Yn={};function Wn(t,e){if(Yn[t])return e(null,!0);fetch("https://dataservice.alipayobjects.com/alertserver/hash/".concat(t)).then((function(n){return 200===n.status||304===n.status?(Yn[t]=!0,e(null,!0)):e(null,!1)}))["catch"]((function(t){return e(t,!1)}))}function Vn(t){return Promise.resolve(!1)}var $n,Qn=Ce.ErrorCodeEnums,Zn=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{appType:"H5"};return Je(this,e),t=Me(this,e,[n]),t.isAlipay=void 0,t.jsBridgeReady=!1,t.commandCache=[],t.requestQueue={l:new qn(t.pcSend,"l",t.aggregationPeriod),m:new qn(t.pcSend,"m",t.aggregationPeriod),h:new qn(t.pcSend,"h",t.aggregationPeriod)},t.monitorOptionMap={},t.UserConfig={},t.destroyed=!1,t.clientApp=yn("client"),t.clientName=yn("name")||"web",t.pageChangeEventHandler=function(){"undefined"!==typeof document&&"hidden"===document.visibilityState&&t.requestQueue.l.sendImmediately()},t.isAlipay=!("undefined"===typeof window||!window)&&pn(window.navigator),t.initJsBridge(),t.clientApp||"undefined"===typeof document||"undefined"===typeof window||((new Un).apply(t),-1!==t.enabledPlugins.indexOf("performance")&&(new Gn).apply(t),t.fetchConfig(),t.handlePreCapture(),t.register(),t.pageChangeEvent()),t}return qe(e,t),Ke(e,[{key:"log",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(t){var n=this.isAlipay&&!this.jsBridgeReady;return(null===e||void 0===e?void 0:e.forceHttpReport)||!n&&("MAIN_SITE"!==this.tenant||this.monitorConfigInited||this.clientApp)?ve(this.userConfig,this.requiredFields,this._warn.bind(this))?(null===e||void 0===e?void 0:e.forceHttpReport)||this.jsBridgeReady||this.monitorConfigInited||!this.clientApp||this.clientName!==En.MY?void this._log(t,e):(this.commandCache.push([t,e]),void(this.debug&&Cn("\u5c0f\u7a0b\u5e8f\u521d\u59cb\u5316\u53c2\u6570\u672a\u83b7\u53d6\uff0c\u4e0a\u62a5\u4fe1\u606f\u8fdb\u5165\u7f13\u5b58"))):(this.commandCache.push([t,e]),void(this.debug&&Cn("\u5fc5\u8981\u9879\u672a\u51c6\u5907\u597d\uff0c\u4e0a\u62a5\u8fdb\u5165\u7f13\u5b58"))):(this.commandCache.push([t,e]),void(this.debug&&Cn("\u4e3b\u7ad9\u79df\u6237\u4e14\u76d1\u63a7\u914d\u7f6e\u521d\u59cb\u5316\u672a\u5b8c\u6210\uff0c\u4e0a\u62a5\u4fe1\u606f\u8fdb\u5165\u7f13\u5b58")))}}},{key:"logError",value:function(t,e){Le(t,this.clientApp?Vn:Wn,{log:this.log.bind(this),_warn:this._warn.bind(this)},e)}},{key:"logRequestError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!t||this.clientApp)return;var e=t.type,n=void 0===e?"http":e;if("http"===n){var r=t.status,i=t.url,o=t.method,a=t.query,s=t.data,c=t.response,u=t.traceId,f=t.code,l="".concat(o.toUpperCase()," ").concat(i),p={code:f||2,msg:l};r&&(p.s1=r),a&&(p.s2=a),s&&(p.s3=s),c&&(p.s4=c),u&&(p.s5=u),this.log(p)}}catch(d){Cn("\u63a5\u53e3\u5f02\u5e38\u4e0a\u62a5\u5931\u8d25:%s",d)}}},{key:"config",value:function(t){t&&"object"===nn(t)&&(ge(this.userConfig,t),t.beforeLog&&(this.beforeLog=t.beforeLog),t.tenant&&(this.tenant=t.tenant),ve(this.userConfig,this.requiredFields,this._warn.bind(this))&&this.logCache())}},{key:"pageChangeEvent",value:function(){this.aggregationPeriod&&"number"===typeof this.aggregationPeriod&&dn("visibilitychange",document,this.pageChangeEventHandler)}},{key:"destroy",value:function(){this.unregister(),this.aggregationPeriod&&"number"===typeof this.aggregationPeriod&&hn("visibilitychange",document,this.pageChangeEventHandler),this.destroyed=!0}},{key:"isBridgeReport",value:function(){return this.clientApp?!(!this.clientApp||this.clientName!==En.MY):"undefined"!==typeof window&&!!window.AlipayJSBridge}},{key:"logCache",value:function(){for(var t=this.commandCache,e=0;e<t.length;e++){var n=t[e];Array.isArray(n)&&this._log(n[0],n[1])}this.commandCache=[]}},{key:"_log",value:function(t,e){var n,r,i,o=De(t,this,!!this.clientApp,{originalError:null===e||void 0===e?void 0:e.originalError});if(o){var a=this.parseParam4(o);this.clientApp||this.getExtraInfo();var s=this.userConfig.forceHttpReport||!!(null===e||void 0===e?void 0:e.forceHttpReport),c=null!==(n=(null===(r=navigator)||void 0===r?void 0:r.swuserAgent)||(null===(i=navigator)||void 0===i?void 0:i.userAgent))&&void 0!==n?n:"",u=c?c.replace(/,/g,"%2C"):"";if(s||!this.isBridgeReport()){var f=o.roleId||this.userConfig.userId||this.cUserId||"",l=o.resolution||this.resolution||"";delete o.roleId;var p=fn({eventId:this.eventId,userId:f,param4:a,ua:u,resolution:l});if(!p.length)return;if(this.clientApp){for(var d=0,h=Object.keys(p);d<h.length;d++){var v=h[d];p[v]=rn(p[v])}return void this.clientHttpSend(p)}if(this.aggregationPeriod&&"number"===typeof this.aggregationPeriod){var g=o.level,y=this.requestQueue[g]||this.requestQueue.l;return y.add(p,null===e||void 0===e?void 0:e.reportDirectly)}return this.pcSend(p,"l",this.aggregationPeriod)}a._ua=u;for(var m=0,w=Object.keys(a);m<w.length;m++){var b=w[m];a[b]=rn(a[b])}this.bridgeLog(a,o.level)}}},{key:"getExtraInfo",value:function(){var t=window._to||{};if(!this.userConfig.spmAPos){var e=An().spmAPos||t.spmAPos;e&&(this.userConfig.spmAPos=e)}if(!this.userConfig.spmBPos){var n=kn()||t.spmBPos;n&&(this.userConfig.spmBPos=n)}}},{key:"initJsBridge",value:function(){var t=this;if(this.clientApp&&this.clientName===En.MY){var e=function(){t.jsBridgeReady||(t.jsBridgeReady=!0,t.logCache())};this.getInfoFromBridge(e),setTimeout(e,3e3)}else this.clientApp||"undefined"===typeof document||"undefined"===typeof window?this.jsBridgeReady=!0:document.addEventListener("AlipayJSBridgeReady",(function(){t.onJsBridgeReady()}))}},{key:"getInfoFromBridge",value:function(){var t=ze(Qe().mark((function t(e){var n,r=this;return Qe().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.autoEnv&&!this.userConfig.autoEnv){t.next=5;break}return t.next=4,gn();case 4:this.env=t.sent;case 5:"undefined"!==typeof window&&"undefined"!==typeof window.AlipayJSBridge&&"undefined"!==typeof window.AlipayJSBridge.startupParams?(n=window.AlipayJSBridge.startupParams,this.registerParamsFromStartupParams(n),e()):this.bridgeCall("getStartupParams",(function(t){r.registerParamsFromStartupParams(t),e()})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e(),Cn("\u8c03\u7528\u5bb9\u5668\u63a5\u53e3\u83b7\u53d6\u4fe1\u606f\u5931\u8d25:%s",t.t0.message);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"registerParamsFromStartupParams",value:function(t){this.cOfflineVer=t.version||t.appVersion||"",(t.version||t.appVersion)&&(this.cAppId=t.appId),this.fullURL=this.fullURL||t.url||"",this.title=this.title||t.defaultTitle||""}},{key:"onJsBridgeReady",value:function(){var t=this;this.getInfoFromBridge((function(){t.jsBridgeReady=!0,t.monitorConfigInited&&t.logCache()}))}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ln(this,t)}},{key:"setMonitorConfigs",value:function(){}},{key:"initMonitorConfigs",value:function(t){}},{key:"fetchConfig",value:function(){}},{key:"fetchConfigByRequest",value:function(){}},{key:"fetchConfigByJSBridge",value:function(){}},{key:"onMonitorConfigInited",value:function(){var t=this;this.monitorOptions&&this.monitorOptions.forEach((function(e){e&&e.code&&(t.monitorOptionMap[e.code]=e)}));var e=this.monitorOptionMap[Qn.REQUEST];if(!this.disableInterface&&e){var n=e.code,r=e.isActive,i=e.isDeleted;n===Qn.REQUEST&&r&&!i&&In(this)}this.isAlipay&&!this.jsBridgeReady||this.logCache()}},{key:"onFetchConfigError",value:function(t){this.monitorConfigInited=!0,this.monitorConfigFailed=!0,this.onMonitorConfigInited(),Cn("\u83b7\u53d6\u670d\u52a1\u7aef\u914d\u7f6e\u5931\u8d25\uff1a%s",t.message)}}])}(jn);function tr(){return er.apply(this,arguments)}function er(){return er=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",t.prev=1,t.next=4,pt(x());case 4:n=t.sent,e=n.userId,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),er.apply(this,arguments)}var nr=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,$n){t.next=6;break}return t.next=4,tr();case 4:e=t.sent,$n=new Zn({yuyanId:"180020010101167009",userId:e});case 6:return t.abrupt("return",$n);case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),rr=function(t){try{$n&&t&&$n.log((0,r.A)({},t))}catch(e){}};function ir(t,e,n){return or.apply(this,arguments)}function or(){return or=(0,i.A)(a().mark((function t(e,n,r){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n={}),void 0===r&&(r={});try{rr({code:2e3,msg:e,d1:JSON.stringify(n),d2:JSON.stringify(r)})}catch(i){}case 3:case"end":return t.stop()}}),t)}))),or.apply(this,arguments)}function ar(t,e,n){return sr.apply(this,arguments)}function sr(){return sr=(0,i.A)(a().mark((function t(e,n,r){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n={}),void 0===r&&(r={});try{rr({code:3e3,msg:e,d1:JSON.stringify(n),d2:JSON.stringify(r)})}catch(i){}case 3:case"end":return t.stop()}}),t)}))),sr.apply(this,arguments)}function cr(t){if("undefined"!==typeof window.AlipayJSBridge)return t();document.addEventListener("AlipayJSBridgeReady",t,!1)}function ur(t,e,n,i){void 0===e&&(e={}),cr((function(){var o;i=(0,r.A)({wait:0},i);var a=i,s=a.wait,c=a.onTimeout;s>0&&(o=setTimeout((function(){c&&c()}),s));var u=function(t){o&&(clearTimeout(o),o=null),"function"===typeof n&&n(t)};e?window.AlipayJSBridge.call(t,e,u):window.AlipayJSBridge.call(t,u)}))}function fr(t,e,n,r){void 0===e&&(e={}),P?my.call(t,e,n,r):C?ur(t,e,n,r):r.onTimeout()}var lr={call:fr,callAsync:function(t,e,n){return void 0===n&&(n={}),new Promise((function(i,o){fr(t,e,(function(t){!t||t.error?o(t):i(t)}),(0,r.A)({},n,{onTimeout:function(){o({_timedOut:!0})}}))}))}};function pr(t,e){var n=e.onTimeout;window.WindVane.call("TBDeviceInfo","getInfo",{},(function(e){t((0,r.A)({"device.id":e.deviceID},e))}),(function(t){n(t)}))}function dr(t,e,n){void 0===t&&(t={});var i=n.onTimeout;window.WindVane.call("SharedData","getSharedData",t,(function(t){var n=t.data;if("string"===typeof n)try{n=JSON.parse(n)}catch(i){}e((0,r.A)({},t,{data:n}))}),(function(t){i(t)}))}function hr(t){void 0===t&&(t={}),window.WindVane.call("SharedData","setSharedData",t)}function vr(t){var e=navigator.userAgent,n=e.match(/AliApp\(([\w-]+)\/([\d.]+)\)/i),r=n[1],i=n[2];t({name:r,version:i})}function gr(t,e){var n=t.url,r=new XMLHttpRequest,i=function(){200===r.status&&r.responseText?e(r.responseText):e({type:"xhr",data:r,error:r})};r.open("GET",n,!0),r.onload=i,r.onerror=i,r.ontimeout=i,r.send()}function yr(t){return"[object Array]"===toString.call(t)?t.join(","):t}function mr(t,e){var n=e.onTimeout;window.WindVane.call("MtopWVPlugin","send",{api:"mtop.user.getUserSimple",v:"1.0"},(function(e){var r=e.ret,i=e.data,o=yr(r);o.indexOf("SUCCESS")>-1?t({userId:i.userNumId}):n()}),(function(t){n(t)}))}var wr=function(){function t(){this.getClientInfo=pr,this.getSharedData=dr,this.setSharedData=hr,this.getSystemInfo=vr,this.httpRequest=gr,this.getUserInfo=mr}var e=t.prototype;return e.call=function(t,e,n,i){var o;i=(0,r.A)({wait:0},i);var a=i,s=a.wait,c=a.onTimeout;s>0&&(o=setTimeout((function(){c&&c()}),s));var u=function(t){o&&(clearTimeout(o),o=null),"function"===typeof n&&n(t)};this[t]?e?this[t](e,u,i):this[t](u,i):c()},t}(),br=new wr,Sr={call:function(){return br.call.apply(br,arguments)},callAsync:function(t,e,n){return void 0===n&&(n={}),new Promise((function(i,o){br.call(t,e,(function(t){!t||t.error?o(t):i(t)}),(0,r.A)({},n,{onTimeout:function(){o({_timedOut:!0})}}))}))}};function xr(t,e){var n=e.onTimeout;this.jSBridge("getClientInfo",(function(e){t(e)}),(function(t){n(t)}))}function Ar(t,e,n){void 0===t&&(t={});var i=n.onTimeout;this.jSBridge("getSharedData",t,(function(t){var n=t.data;if("string"===typeof n)try{n=JSON.parse(n)}catch(i){}e((0,r.A)({},t,{data:n}))}),(function(t){i(t)}))}function kr(t,e,n){void 0===t&&(t={});var r=n.onTimeout;this.jSBridge("setSharedData",t,(function(t){e(t)}),(function(t){r(t)}))}function Ir(t,e){var n=e.onTimeout;this.jSBridge("getSystemInfo",(function(e){t(e)}),(function(t){n(t)}))}function Er(t,e){var n=e.onTimeout;this.jSBridge("getUserInfo",(function(e){t(e)}),(function(t){n(t)}))}var Or=function(){function t(t){this.getClientInfo=xr,this.getSharedData=Ar,this.setSharedData=kr,this.getSystemInfo=Ir,this.getUserInfo=Er,this.jSBridge=t}var e=t.prototype;return e.call=function(t,e,n,i){var o;i=(0,r.A)({wait:0},i);var a=i,s=a.wait,c=a.onTimeout;s>0&&(o=setTimeout((function(){c&&c()}),s));var u=function(t){o&&(clearTimeout(o),o=null),"function"===typeof n&&n(t)};this[t]?e?this[t](e,u,i):this[t](u,i):c()},t}(),Rr=function(t){function e(){return t.apply(this,arguments)||this}(0,p.A)(e,t);var n=e.prototype;return n.ready=function(t){if("undefined"!==typeof this.jSBridge)return t();document.addEventListener("AlipayJSBridgeReady",t,!1)},n.call=function(){var t;(t=this.jSBridge).call.apply(t,arguments)},e}(Or),Pr=new Rr(A?void 0:window.AlipayJSBridge),Cr={call:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Pr.ready((function(){Pr.call.apply(Pr,e)}))},callAsync:function(t,e,n){var i=this;return void 0===n&&(n={}),new Promise((function(o,a){i.call(t,e,(function(t){!t||t.error?a(t):o(t)}),(0,r.A)({},n,{onTimeout:function(){a({_timedOut:!0})}}))}))}},Tr="APAY_BAOXIAN",Lr="STALKER";function jr(t){void 0===t&&(t={});var e=t||{},n=e.key,r=e.data;return new Promise((function(t,e){try{var i=Tr+"-"+Lr+"-"+n;localStorage.setItem(i,JSON.stringify({data:r})),t()}catch(o){e(o)}}))}function Br(t,e,n){void 0===t&&(t={}),void 0===n&&(n={});var r=t||{},i=r.keys,o=null==i?void 0:i[0],a=n,s=a.onTimeout;try{var c=Tr+"-"+Lr+"-"+o,u=JSON.parse(localStorage.getItem(c))||{};e({data:u.data})}catch(f){"function"===typeof s&&s(f)}}function _r(t){t({name:"web",version:""})}function Dr(t){t({userId:(null==st?void 0:st.userId)||""})}var Nr,Ur,Fr=function(){function t(){this.getSharedData=Br,this.setSharedData=jr,this.getSystemInfo=_r,this.getUserInfo=Dr}var e=t.prototype;return e.call=function(t,e,n,i){var o;i=(0,r.A)({wait:0},i);var a=i,s=a.wait,c=a.onTimeout;s>0&&(o=setTimeout((function(){c&&c()}),s));var u=function(t){o&&(clearTimeout(o),o=null),"function"===typeof n&&n(t)};this[t]?e?this[t](e,u,i):this[t](u,i):c()},t}(),zr=new Fr,Mr={call:function(){return zr.call.apply(zr,arguments)},callAsync:function(t,e,n){return void 0===n&&(n={}),new Promise((function(i,o){zr.call(t,e,(function(t){!t||t.error?o(t):i(t)}),(0,r.A)({},n,{onTimeout:function(){o({_timedOut:!0})}}))}))}},Jr=function(t){return t&&t.Math===Math&&t},Hr=Jr("object"==typeof globalThis&&globalThis)||Jr("object"==typeof window&&window)||Jr("object"==typeof self&&self)||Jr("object"==typeof Jt&&Jt)||Jr("object"==typeof Jt&&Jt)||function(){return this}()||Function("return this")(),Kr=function(t){try{return!!t()}catch(e){return!0}},Xr=!Kr((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),Gr=!Kr((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),qr=Function.prototype.call,Yr=Gr?qr.bind(qr):function(){return qr.apply(qr,arguments)},Wr={}.propertyIsEnumerable,Vr=Object.getOwnPropertyDescriptor,$r=Vr&&!Wr.call({1:2},1),Qr=$r?function(t){var e=Vr(this,t);return!!e&&e.enumerable}:Wr,Zr={f:Qr},ti=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ei=Function.prototype,ni=ei.call,ri=Gr&&ei.bind.bind(ni,ni),ii=Gr?ri:function(t){return function(){return ni.apply(t,arguments)}},oi=ii({}.toString),ai=ii("".slice),si=function(t){return ai(oi(t),8,-1)},ci=Object,ui=ii("".split),fi=Kr((function(){return!ci("z").propertyIsEnumerable(0)}))?function(t){return"String"===si(t)?ui(t,""):ci(t)}:ci,li=function(t){return null===t||void 0===t},pi=TypeError,di=function(t){if(li(t))throw new pi("Can't call method on "+t);return t},hi=function(t){return fi(di(t))},vi="object"==typeof document&&document.all,gi="undefined"==typeof vi&&void 0!==vi?function(t){return"function"==typeof t||t===vi}:function(t){return"function"==typeof t},yi=function(t){return"object"==typeof t?null!==t:gi(t)},mi=function(t){return gi(t)?t:void 0},wi=function(t,e){return arguments.length<2?mi(Hr[t]):Hr[t]&&Hr[t][e]},bi=ii({}.isPrototypeOf),Si=Hr.navigator,xi=Si&&Si.userAgent,Ai=xi?String(xi):"",ki=Hr.process,Ii=Hr.Deno,Ei=ki&&ki.versions||Ii&&Ii.version,Oi=Ei&&Ei.v8;Oi&&(Nr=Oi.split("."),Ur=Nr[0]>0&&Nr[0]<4?1:+(Nr[0]+Nr[1])),!Ur&&Ai&&(Nr=Ai.match(/Edge\/(\d+)/),(!Nr||Nr[1]>=74)&&(Nr=Ai.match(/Chrome\/(\d+)/),Nr&&(Ur=+Nr[1])));var Ri=Ur,Pi=Hr.String,Ci=!!Object.getOwnPropertySymbols&&!Kr((function(){var t=Symbol("symbol detection");return!Pi(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ri&&Ri<41})),Ti=Ci&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Li=Object,ji=Ti?function(t){return"symbol"==typeof t}:function(t){var e=wi("Symbol");return gi(e)&&bi(e.prototype,Li(t))},Bi=String,_i=function(t){try{return Bi(t)}catch(e){return"Object"}},Di=TypeError,Ni=function(t){if(gi(t))return t;throw new Di(_i(t)+" is not a function")},Ui=function(t,e){var n=t[e];return li(n)?void 0:Ni(n)},Fi=TypeError,zi=function(t,e){var n,r;if("string"===e&&gi(n=t.toString)&&!yi(r=Yr(n,t)))return r;if(gi(n=t.valueOf)&&!yi(r=Yr(n,t)))return r;if("string"!==e&&gi(n=t.toString)&&!yi(r=Yr(n,t)))return r;throw new Fi("Can't convert object to primitive value")},Mi=Object.defineProperty,Ji=function(t,e){try{Mi(Hr,t,{value:e,configurable:!0,writable:!0})}catch(n){Hr[t]=e}return e},Hi=Ht((function(t){var e="__core-js_shared__",n=t.exports=Hr[e]||Ji(e,{});(n.versions||(n.versions=[])).push({version:"3.39.0",mode:"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})})),Ki=function(t,e){return Hi[t]||(Hi[t]=e||{})},Xi=Object,Gi=function(t){return Xi(di(t))},qi=ii({}.hasOwnProperty),Yi=Object.hasOwn||function(t,e){return qi(Gi(t),e)},Wi=0,Vi=Math.random(),$i=ii(1..toString),Qi=function(t){return"Symbol("+(void 0===t?"":t)+")_"+$i(++Wi+Vi,36)},Zi=Hr.Symbol,to=Ki("wks"),eo=Ti?Zi["for"]||Zi:Zi&&Zi.withoutSetter||Qi,no=function(t){return Yi(to,t)||(to[t]=Ci&&Yi(Zi,t)?Zi[t]:eo("Symbol."+t)),to[t]},ro=TypeError,io=no("toPrimitive"),oo=function(t,e){if(!yi(t)||ji(t))return t;var n,r=Ui(t,io);if(r){if(void 0===e&&(e="default"),n=Yr(r,t,e),!yi(n)||ji(n))return n;throw new ro("Can't convert object to primitive value")}return void 0===e&&(e="number"),zi(t,e)},ao=function(t){var e=oo(t,"string");return ji(e)?e:e+""},so=Hr.document,co=yi(so)&&yi(so.createElement),uo=function(t){return co?so.createElement(t):{}},fo=!Xr&&!Kr((function(){return 7!==Object.defineProperty(uo("div"),"a",{get:function(){return 7}}).a})),lo=Object.getOwnPropertyDescriptor,po=Xr?lo:function(t,e){if(t=hi(t),e=ao(e),fo)try{return lo(t,e)}catch(n){}if(Yi(t,e))return ti(!Yr(Zr.f,t,e),t[e])},ho={f:po},vo=Xr&&Kr((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),go=String,yo=TypeError,mo=function(t){if(yi(t))return t;throw new yo(go(t)+" is not an object")},wo=TypeError,bo=Object.defineProperty,So=Object.getOwnPropertyDescriptor,xo="enumerable",Ao="configurable",ko="writable",Io=Xr?vo?function(t,e,n){if(mo(t),e=ao(e),mo(n),"function"===typeof t&&"prototype"===e&&"value"in n&&ko in n&&!n[ko]){var r=So(t,e);r&&r[ko]&&(t[e]=n.value,n={configurable:Ao in n?n[Ao]:r[Ao],enumerable:xo in n?n[xo]:r[xo],writable:!1})}return bo(t,e,n)}:bo:function(t,e,n){if(mo(t),e=ao(e),mo(n),fo)try{return bo(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new wo("Accessors not supported");return"value"in n&&(t[e]=n.value),t},Eo={f:Io},Oo=Xr?function(t,e,n){return Eo.f(t,e,ti(1,n))}:function(t,e,n){return t[e]=n,t},Ro=Function.prototype,Po=Xr&&Object.getOwnPropertyDescriptor,Co=Yi(Ro,"name"),To=Co&&"something"===function(){}.name,Lo=Co&&(!Xr||Xr&&Po(Ro,"name").configurable),jo={EXISTS:Co,PROPER:To,CONFIGURABLE:Lo},Bo=ii(Function.toString);gi(Hi.inspectSource)||(Hi.inspectSource=function(t){return Bo(t)});var _o,Do,No,Uo=Hi.inspectSource,Fo=Hr.WeakMap,zo=gi(Fo)&&/native code/.test(String(Fo)),Mo=Ki("keys"),Jo=function(t){return Mo[t]||(Mo[t]=Qi(t))},Ho={},Ko="Object already initialized",Xo=Hr.TypeError,Go=Hr.WeakMap;if(zo||Hi.state){var qo=Hi.state||(Hi.state=new Go);qo.get=qo.get,qo.has=qo.has,qo.set=qo.set,_o=function(t,e){if(qo.has(t))throw new Xo(Ko);return e.facade=t,qo.set(t,e),e},Do=function(t){return qo.get(t)||{}},No=function(t){return qo.has(t)}}else{var Yo=Jo("state");Ho[Yo]=!0,_o=function(t,e){if(Yi(t,Yo))throw new Xo(Ko);return e.facade=t,Oo(t,Yo,e),e},Do=function(t){return Yi(t,Yo)?t[Yo]:{}},No=function(t){return Yi(t,Yo)}}var Wo,Vo={set:_o,get:Do,has:No,enforce:function(t){return No(t)?Do(t):_o(t,{})},getterFor:function(t){return function(e){var n;if(!yi(e)||(n=Do(e)).type!==t)throw new Xo("Incompatible receiver, "+t+" required");return n}}},$o=Ht((function(t){var e=jo.CONFIGURABLE,n=Vo.enforce,r=Vo.get,i=String,o=Object.defineProperty,a=ii("".slice),s=ii("".replace),c=ii([].join),u=Xr&&!Kr((function(){return 8!==o((function(){}),"length",{value:8}).length})),f=String(String).split("String"),l=t.exports=function(t,r,l){"Symbol("===a(i(r),0,7)&&(r="["+s(i(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),l&&l.getter&&(r="get "+r),l&&l.setter&&(r="set "+r),(!Yi(t,"name")||e&&t.name!==r)&&(Xr?o(t,"name",{value:r,configurable:!0}):t.name=r),u&&l&&Yi(l,"arity")&&t.length!==l.arity&&o(t,"length",{value:l.arity});try{l&&Yi(l,"constructor")&&l.constructor?Xr&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(d){}var p=n(t);return Yi(p,"source")||(p.source=c(f,"string"==typeof r?r:"")),t};Function.prototype.toString=l((function(){return gi(this)&&r(this).source||Uo(this)}),"toString")})),Qo=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(gi(n)&&$o(n,o,r),r.global)i?t[e]=n:Ji(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(a){}i?t[e]=n:Eo.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},Zo=Math.ceil,ta=Math.floor,ea=Math.trunc||function(t){var e=+t;return(e>0?ta:Zo)(e)},na=function(t){var e=+t;return e!==e||0===e?0:ea(e)},ra=Math.max,ia=Math.min,oa=function(t,e){var n=na(t);return n<0?ra(n+e,0):ia(n,e)},aa=Math.min,sa=function(t){var e=na(t);return e>0?aa(e,9007199254740991):0},ca=function(t){return sa(t.length)},ua=function(t){return function(e,n,r){var i=hi(e),o=ca(i);if(0===o)return!t&&-1;var a,s=oa(r,o);if(t&&n!==n){while(o>s)if(a=i[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},fa={includes:ua(!0),indexOf:ua(!1)},la=fa.indexOf,pa=ii([].push),da=function(t,e){var n,r=hi(t),i=0,o=[];for(n in r)!Yi(Ho,n)&&Yi(r,n)&&pa(o,n);while(e.length>i)Yi(r,n=e[i++])&&(~la(o,n)||pa(o,n));return o},ha=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],va=ha.concat("length","prototype"),ga=Object.getOwnPropertyNames||function(t){return da(t,va)},ya={f:ga},ma=Object.getOwnPropertySymbols,wa={f:ma},ba=ii([].concat),Sa=wi("Reflect","ownKeys")||function(t){var e=ya.f(mo(t)),n=wa.f;return n?ba(e,n(t)):e},xa=function(t,e,n){for(var r=Sa(e),i=Eo.f,o=ho.f,a=0;a<r.length;a++){var s=r[a];Yi(t,s)||n&&Yi(n,s)||i(t,s,o(e,s))}},Aa=/#|\.prototype\./,ka=function(t,e){var n=Ea[Ia(t)];return n===Ra||n!==Oa&&(gi(e)?Kr(e):!!e)},Ia=ka.normalize=function(t){return String(t).replace(Aa,".").toLowerCase()},Ea=ka.data={},Oa=ka.NATIVE="N",Ra=ka.POLYFILL="P",Pa=ka,Ca=ho.f,Ta=function(t,e){var n,r,i,o,a,s,c=t.target,u=t.global,f=t.stat;if(r=u?Hr:f?Hr[c]||Ji(c,{}):Hr[c]&&Hr[c].prototype,r)for(i in e){if(a=e[i],t.dontCallGetSet?(s=Ca(r,i),o=s&&s.value):o=r[i],n=Pa(u?i:c+(f?".":"#")+i,t.forced),!n&&void 0!==o){if(typeof a==typeof o)continue;xa(a,o)}(t.sham||o&&o.sham)&&Oo(a,"sham",!0),Qo(r,i,a,t)}},La=!Kr((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ja=Jo("IE_PROTO"),Ba=Object,_a=Ba.prototype,Da=La?Ba.getPrototypeOf:function(t){var e=Gi(t);if(Yi(e,ja))return e[ja];var n=e.constructor;return gi(n)&&e instanceof n?n.prototype:e instanceof Ba?_a:null},Na=function(t,e,n){try{return ii(Ni(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(r){}},Ua=function(t){return yi(t)||null===t},Fa=String,za=TypeError,Ma=function(t){if(Ua(t))return t;throw new za("Can't set "+Fa(t)+" as a prototype")},Ja=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Na(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(r){}return function(n,r){return di(n),Ma(r),yi(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0),Ha=Object.keys||function(t){return da(t,ha)},Ka=Xr&&!vo?Object.defineProperties:function(t,e){mo(t);var n,r=hi(e),i=Ha(e),o=i.length,a=0;while(o>a)Eo.f(t,n=i[a++],r[n]);return t},Xa={f:Ka},Ga=wi("document","documentElement"),qa="prototype",Ya="script",Wa=Jo("IE_PROTO"),Va=function(){},$a=function(t){return"<"+Ya+">"+t+"</"+Ya+">"},Qa=function(t){t.write($a("")),t.close();var e=t.parentWindow.Object;return t=null,e},Za=function(){var t,e=uo("iframe"),n="java"+Ya+":";return e.style.display="none",Ga.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write($a("document.F=Object")),t.close(),t.F},ts=function(){try{Wo=new ActiveXObject("htmlfile")}catch(e){}ts="undefined"!=typeof document?document.domain&&Wo?Qa(Wo):Za():Qa(Wo);var t=ha.length;while(t--)delete ts[qa][ha[t]];return ts()};Ho[Wa]=!0;var es=Object.create||function(t,e){var n;return null!==t?(Va[qa]=mo(t),n=new Va,Va[qa]=null,n[Wa]=t):n=ts(),void 0===e?n:Xa.f(n,e)},ns=function(t,e){yi(e)&&"cause"in e&&Oo(t,"cause",e.cause)},rs=Error,is=ii("".replace),os=function(){return String(new rs("zxcasd").stack)}(),as=/\n\s*at [^:]*:[^\n]*/,ss=as.test(os),cs=function(t,e){if(ss&&"string"==typeof t&&!rs.prepareStackTrace)while(e--)t=is(t,as,"");return t},us=!Kr((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",ti(1,7)),7!==t.stack)})),fs=Error.captureStackTrace,ls=function(t,e,n,r){us&&(fs?fs(t,e):Oo(t,"stack",cs(n,r)))},ps=function(t){if("Function"===si(t))return ii(t)},ds=ps(ps.bind),hs=function(t,e){return Ni(t),void 0===e?t:Gr?ds(t,e):function(){return t.apply(e,arguments)}},vs={},gs=no("iterator"),ys=Array.prototype,ms=function(t){return void 0!==t&&(vs.Array===t||ys[gs]===t)},ws=no("toStringTag"),bs={};bs[ws]="z";var Ss="[object z]"===String(bs),xs=no("toStringTag"),As=Object,ks="Arguments"===si(function(){return arguments}()),Is=function(t,e){try{return t[e]}catch(n){}},Es=Ss?si:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Is(e=As(t),xs))?n:ks?si(e):"Object"===(r=si(e))&&gi(e.callee)?"Arguments":r},Os=no("iterator"),Rs=function(t){if(!li(t))return Ui(t,Os)||Ui(t,"@@iterator")||vs[Es(t)]},Ps=TypeError,Cs=function(t,e){var n=arguments.length<2?Rs(t):e;if(Ni(n))return mo(Yr(n,t));throw new Ps(_i(t)+" is not iterable")},Ts=function(t,e,n){var r,i;mo(t);try{if(r=Ui(t,"return"),!r){if("throw"===e)throw n;return n}r=Yr(r,t)}catch(o){i=!0,r=o}if("throw"===e)throw n;if(i)throw r;return mo(r),n},Ls=TypeError,js=function(t,e){this.stopped=t,this.result=e},Bs=js.prototype,_s=function(t,e,n){var r,i,o,a,s,c,u,f=n&&n.that,l=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=hs(e,f),g=function(t){return r&&Ts(r,"normal",t),new js(!0,t)},y=function(t){return l?(mo(t),h?v(t[0],t[1],g):v(t[0],t[1])):h?v(t,g):v(t)};if(p)r=t.iterator;else if(d)r=t;else{if(i=Rs(t),!i)throw new Ls(_i(t)+" is not iterable");if(ms(i)){for(o=0,a=ca(t);a>o;o++)if(s=y(t[o]),s&&bi(Bs,s))return s;return new js(!1)}r=Cs(t,i)}c=p?t.next:r.next;while(!(u=Yr(c,r)).done){try{s=y(u.value)}catch(m){Ts(r,"throw",m)}if("object"==typeof s&&s&&bi(Bs,s))return s}return new js(!1)},Ds=String,Ns=function(t){if("Symbol"===Es(t))throw new TypeError("Cannot convert a Symbol value to a string");return Ds(t)},Us=function(t,e){return void 0===t?arguments.length<2?"":e:Ns(t)},Fs=no("toStringTag"),zs=Error,Ms=[].push,Js=function(t,e){var n,r=bi(Hs,this);Ja?n=Ja(new zs,r?Da(this):Hs):(n=r?this:es(Hs),Oo(n,Fs,"Error")),void 0!==e&&Oo(n,"message",Us(e)),ls(n,Js,n.stack,1),arguments.length>2&&ns(n,arguments[2]);var i=[];return _s(t,Ms,{that:i}),Oo(n,"errors",i),n};Ja?Ja(Js,zs):xa(Js,zs,{name:!0});var Hs=Js.prototype=es(zs.prototype,{constructor:ti(1,Js),message:ti(1,""),name:ti(1,"AggregateError")});Ta({global:!0,constructor:!0,arity:2},{AggregateError:Js});var Ks=Eo.f,Xs=no("unscopables"),Gs=Array.prototype;void 0===Gs[Xs]&&Ks(Gs,Xs,{configurable:!0,value:es(null)});var qs,Ys,Ws,Vs=function(t){Gs[Xs][t]=!0},$s=no("iterator"),Qs=!1;[].keys&&(Ws=[].keys(),"next"in Ws?(Ys=Da(Da(Ws)),Ys!==Object.prototype&&(qs=Ys)):Qs=!0);var Zs=!yi(qs)||Kr((function(){var t={};return qs[$s].call(t)!==t}));Zs&&(qs={}),gi(qs[$s])||Qo(qs,$s,(function(){return this}));var tc={IteratorPrototype:qs,BUGGY_SAFARI_ITERATORS:Qs},ec=Eo.f,nc=no("toStringTag"),rc=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Yi(t,nc)&&ec(t,nc,{configurable:!0,value:e})},ic=tc.IteratorPrototype,oc=function(){return this},ac=function(t,e,n,r){var i=e+" Iterator";return t.prototype=es(ic,{next:ti(+!r,n)}),rc(t,i,!1),vs[i]=oc,t},sc=jo.PROPER,cc=jo.CONFIGURABLE,uc=tc.IteratorPrototype,fc=tc.BUGGY_SAFARI_ITERATORS,lc=no("iterator"),pc="keys",dc="values",hc="entries",vc=function(){return this},gc=function(t,e,n,r,i,o,a){ac(n,e,r);var s,c,u,f=function(t){if(t===i&&v)return v;if(!fc&&t&&t in d)return d[t];switch(t){case pc:return function(){return new n(this,t)};case dc:return function(){return new n(this,t)};case hc:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,d=t.prototype,h=d[lc]||d["@@iterator"]||i&&d[i],v=!fc&&h||f(i),g="Array"===e&&d.entries||h;if(g&&(s=Da(g.call(new t)),s!==Object.prototype&&s.next&&(Da(s)!==uc&&(Ja?Ja(s,uc):gi(s[lc])||Qo(s,lc,vc)),rc(s,l,!0))),sc&&i===dc&&h&&h.name!==dc&&(cc?Oo(d,"name",dc):(p=!0,v=function(){return Yr(h,this)})),i)if(c={values:f(dc),keys:o?v:f(pc),entries:f(hc)},a)for(u in c)(fc||p||!(u in d))&&Qo(d,u,c[u]);else Ta({target:e,proto:!0,forced:fc||p},c);return d[lc]!==v&&Qo(d,lc,v,{name:i}),vs[e]=v,c},yc=function(t,e){return{value:t,done:e}},mc=Eo.f,wc="Array Iterator",bc=Vo.set,Sc=Vo.getterFor(wc),xc=(gc(Array,"Array",(function(t,e){bc(this,{type:wc,target:hi(t),index:0,kind:e})}),(function(){var t=Sc(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,yc(void 0,!0);switch(t.kind){case"keys":return yc(n,!1);case"values":return yc(e[n],!1)}return yc([n,e[n]],!1)}),"values"),vs.Arguments=vs.Array);if(Vs("keys"),Vs("values"),Vs("entries"),Xr&&"values"!==xc.name)try{mc(xc,"name",{value:"values"})}catch(Cl){}var Ac=Ss?{}.toString:function(){return"[object "+Es(this)+"]"};Ss||Qo(Object.prototype,"toString",Ac,{unsafe:!0});var kc=function(t){return Ai.slice(0,t.length)===t},Ic=function(){return kc("Bun/")?"BUN":kc("Cloudflare-Workers")?"CLOUDFLARE":kc("Deno/")?"DENO":kc("Node.js/")?"NODE":Hr.Bun&&"string"==typeof Bun.version?"BUN":Hr.Deno&&"object"==typeof Deno.version?"DENO":"process"===si(Hr.process)?"NODE":Hr.window&&Hr.document?"BROWSER":"REST"}(),Ec="NODE"===Ic,Oc=function(t,e,n){return n.get&&$o(n.get,e,{getter:!0}),n.set&&$o(n.set,e,{setter:!0}),Eo.f(t,e,n)},Rc=no("species"),Pc=TypeError,Cc=function(t,e){if(bi(e,t))return t;throw new Pc("Incorrect invocation")},Tc=function(){},Lc=wi("Reflect","construct"),jc=/^\s*(?:class|function)\b/,Bc=ii(jc.exec),_c=!jc.test(Tc),Dc=function(t){if(!gi(t))return!1;try{return Lc(Tc,[],t),!0}catch(Cl){return!1}},Nc=function(t){if(!gi(t))return!1;switch(Es(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _c||!!Bc(jc,Uo(t))}catch(Cl){return!0}};Nc.sham=!0;var Uc,Fc,zc,Mc,Jc=!Lc||Kr((function(){var t;return Dc(Dc.call)||!Dc(Object)||!Dc((function(){t=!0}))||t}))?Nc:Dc,Hc=TypeError,Kc=function(t){if(Jc(t))return t;throw new Hc(_i(t)+" is not a constructor")},Xc=no("species"),Gc=function(t,e){var n,r=mo(t).constructor;return void 0===r||li(n=mo(r)[Xc])?e:Kc(n)},qc=Function.prototype,Yc=qc.apply,Wc=qc.call,Vc="object"==typeof Reflect&&Reflect.apply||(Gr?Wc.bind(Yc):function(){return Wc.apply(Yc,arguments)}),$c=ii([].slice),Qc=TypeError,Zc=function(t,e){if(t<e)throw new Qc("Not enough arguments");return t},tu=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ai),eu=Hr.setImmediate,nu=Hr.clearImmediate,ru=Hr.process,iu=Hr.Dispatch,ou=Hr.Function,au=Hr.MessageChannel,su=Hr.String,cu=0,uu={},fu="onreadystatechange";Kr((function(){Uc=Hr.location}));var lu=function(t){if(Yi(uu,t)){var e=uu[t];delete uu[t],e()}},pu=function(t){return function(){lu(t)}},du=function(t){lu(t.data)},hu=function(t){Hr.postMessage(su(t),Uc.protocol+"//"+Uc.host)};eu&&nu||(eu=function(t){Zc(arguments.length,1);var e=gi(t)?t:ou(t),n=$c(arguments,1);return uu[++cu]=function(){Vc(e,void 0,n)},Fc(cu),cu},nu=function(t){delete uu[t]},Ec?Fc=function(t){ru.nextTick(pu(t))}:iu&&iu.now?Fc=function(t){iu.now(pu(t))}:au&&!tu?(zc=new au,Mc=zc.port2,zc.port1.onmessage=du,Fc=hs(Mc.postMessage,Mc)):Hr.addEventListener&&gi(Hr.postMessage)&&!Hr.importScripts&&Uc&&"file:"!==Uc.protocol&&!Kr(hu)?(Fc=hu,Hr.addEventListener("message",du,!1)):Fc=fu in uo("script")?function(t){Ga.appendChild(uo("script"))[fu]=function(){Ga.removeChild(this),lu(t)}}:function(t){setTimeout(pu(t),0)});var vu={set:eu,clear:nu},gu=Object.getOwnPropertyDescriptor,yu=function(){this.head=null,this.tail=null};yu.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return null===e&&(this.tail=null),t.item}}};var mu,wu,bu,Su,xu,Au=yu,ku=/ipad|iphone|ipod/i.test(Ai)&&"undefined"!=typeof Pebble,Iu=/web0s(?!.*chrome)/i.test(Ai),Eu=vu.set,Ou=Hr.MutationObserver||Hr.WebKitMutationObserver,Ru=Hr.document,Pu=Hr.process,Cu=Hr.Promise,Tu=function(t){if(!Xr)return Hr[t];var e=gu(Hr,t);return e&&e.value}("queueMicrotask");if(!Tu){var Lu=new Au,ju=function(){var t,e;Ec&&(t=Pu.domain)&&t.exit();while(e=Lu.get())try{e()}catch(Cl){throw Lu.head&&mu(),Cl}t&&t.enter()};tu||Ec||Iu||!Ou||!Ru?!ku&&Cu&&Cu.resolve?(Su=Cu.resolve(void 0),Su.constructor=Cu,xu=hs(Su.then,Su),mu=function(){xu(ju)}):Ec?mu=function(){Pu.nextTick(ju)}:(Eu=hs(Eu,Hr),mu=function(){Eu(ju)}):(wu=!0,bu=Ru.createTextNode(""),new Ou(ju).observe(bu,{characterData:!0}),mu=function(){bu.data=wu=!wu}),Tu=function(t){Lu.head||mu(),Lu.add(t)}}var Bu,_u,Du,Nu=Tu,Uu=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(Cl){}},Fu=function(t){try{return{error:!1,value:t()}}catch(Cl){return{error:!0,value:Cl}}},zu=Hr.Promise,Mu=(zu&&zu.prototype,no("species")),Ju=!1,Hu=gi(Hr.PromiseRejectionEvent),Ku=Pa("Promise",(function(){var t=Uo(zu),e=t!==String(zu);if(!e&&66===Ri)return!0;if(!Ri||Ri<51||!/native code/.test(t)){var n=new zu((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},i=n.constructor={};if(i[Mu]=r,Ju=n.then((function(){}))instanceof r,!Ju)return!0}return!e&&("BROWSER"===Ic||"DENO"===Ic)&&!Hu})),Xu={CONSTRUCTOR:Ku,REJECTION_EVENT:Hu,SUBCLASSING:Ju},Gu=TypeError,qu=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new Gu("Bad Promise constructor");e=t,n=r})),this.resolve=Ni(e),this.reject=Ni(n)},Yu={f:function(t){return new qu(t)}},Wu=vu.set,Vu="Promise",$u=Xu.CONSTRUCTOR,Qu=Xu.REJECTION_EVENT,Zu=Xu.SUBCLASSING,tf=Vo.getterFor(Vu),ef=Vo.set,nf=zu&&zu.prototype,rf=zu,of=nf,af=Hr.TypeError,sf=Hr.document,cf=Hr.process,uf=Yu.f,ff=uf,lf=!!(sf&&sf.createEvent&&Hr.dispatchEvent),pf="unhandledrejection",df=function(t){var e;return!(!yi(t)||!gi(e=t.then))&&e},hf=function(t,e){var n,r,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&wf(e),e.rejection=1),!0===s?n=o:(f&&f.enter(),n=s(o),f&&(f.exit(),i=!0)),n===t.promise?u(new af("Promise-chain cycle")):(r=df(n))?Yr(r,n,c,u):c(n)):u(o)}catch(Cl){f&&!i&&f.exit(),u(Cl)}},vf=function(t,e){t.notified||(t.notified=!0,Nu((function(){var n,r=t.reactions;while(n=r.get())hf(n,t);t.notified=!1,e&&!t.rejection&&yf(t)})))},gf=function(t,e,n){var r,i;lf?(r=sf.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),Hr.dispatchEvent(r)):r={promise:e,reason:n},!Qu&&(i=Hr["on"+t])?i(r):t===pf&&Uu("Unhandled promise rejection",n)},yf=function(t){Yr(Wu,Hr,(function(){var e,n=t.facade,r=t.value,i=mf(t);if(i&&(e=Fu((function(){Ec?cf.emit("unhandledRejection",r,n):gf(pf,n,r)})),t.rejection=Ec||mf(t)?2:1,e.error))throw e.value}))},mf=function(t){return 1!==t.rejection&&!t.parent},wf=function(t){Yr(Wu,Hr,(function(){var e=t.facade;Ec?cf.emit("rejectionHandled",e):gf("rejectionhandled",e,t.value)}))},bf=function(t,e,n){return function(r){t(e,r,n)}},Sf=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,vf(t,!0))},xf=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new af("Promise can't be resolved itself");var r=df(e);r?Nu((function(){var n={done:!1};try{Yr(r,e,bf(xf,n,t),bf(Sf,n,t))}catch(Cl){Sf(n,Cl,t)}})):(t.value=e,t.state=1,vf(t,!1))}catch(Cl){Sf({done:!1},Cl,t)}}};if($u&&(rf=function(t){Cc(this,of),Ni(t),Yr(Bu,this);var e=tf(this);try{t(bf(xf,e),bf(Sf,e))}catch(Cl){Sf(e,Cl)}},of=rf.prototype,Bu=function(t){ef(this,{type:Vu,done:!1,notified:!1,parent:!1,reactions:new Au,rejection:!1,state:0,value:null})},Bu.prototype=Qo(of,"then",(function(t,e){var n=tf(this),r=uf(Gc(this,rf));return n.parent=!0,r.ok=!gi(t)||t,r.fail=gi(e)&&e,r.domain=Ec?cf.domain:void 0,0===n.state?n.reactions.add(r):Nu((function(){hf(r,n)})),r.promise})),_u=function(){var t=new Bu,e=tf(t);this.promise=t,this.resolve=bf(xf,e),this.reject=bf(Sf,e)},Yu.f=uf=function(t){return t===rf||void 0===t?new _u(t):ff(t)},gi(zu)&&nf!==Object.prototype)){Du=nf.then,Zu||Qo(nf,"then",(function(t,e){var n=this;return new rf((function(t,e){Yr(Du,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete nf.constructor}catch(Cl){}Ja&&Ja(nf,of)}Ta({global:!0,constructor:!0,wrap:!0,forced:$u},{Promise:rf}),rc(rf,Vu,!1),function(t){var e=wi(t);Xr&&e&&!e[Rc]&&Oc(e,Rc,{configurable:!0,get:function(){return this}})}(Vu);var Af=no("iterator"),kf=!1;try{var If=0,Ef={next:function(){return{done:!!If++}},return:function(){kf=!0}};Ef[Af]=function(){return this},Array.from(Ef,(function(){throw 2}))}catch(Cl){}var Of=Xu.CONSTRUCTOR,Rf=Of||!function(){try{if(!kf)return!1}catch(Cl){return!1}var t=!1;try{var e={};e[Af]=function(){return{next:function(){return{done:t=!0}}}},function(t){zu.all(t).then(void 0,(function(){}))}(e)}catch(Cl){}return t}();Ta({target:"Promise",stat:!0,forced:Rf},{all:function(t){var e=this,n=Yu.f(e),r=n.resolve,i=n.reject,o=Fu((function(){var n=Ni(e.resolve),o=[],a=0,s=1;_s(t,(function(t){var c=a++,u=!1;s++,Yr(n,e,t).then((function(t){u||(u=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var Pf=Xu.CONSTRUCTOR,Cf=zu&&zu.prototype;if(Ta({target:"Promise",proto:!0,forced:Pf,real:!0},{catch:function(t){return this.then(void 0,t)}}),gi(zu)){var Tf=wi("Promise").prototype["catch"];Cf["catch"]!==Tf&&Qo(Cf,"catch",Tf,{unsafe:!0})}Ta({target:"Promise",stat:!0,forced:Rf},{race:function(t){var e=this,n=Yu.f(e),r=n.reject,i=Fu((function(){var i=Ni(e.resolve);_s(t,(function(t){Yr(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Lf=Xu.CONSTRUCTOR;Ta({target:"Promise",stat:!0,forced:Lf},{reject:function(t){var e=Yu.f(this),n=e.reject;return n(t),e.promise}});var jf=function(t,e){if(mo(t),yi(e)&&e.constructor===t)return e;var n=Yu.f(t),r=n.resolve;return r(e),n.promise},Bf=Xu.CONSTRUCTOR;wi("Promise"),Ta({target:"Promise",stat:!0,forced:Bf},{resolve:function(t){return jf(this,t)}}),Ta({target:"Promise",stat:!0,forced:Rf},{allSettled:function(t){var e=this,n=Yu.f(e),r=n.resolve,i=n.reject,o=Fu((function(){var n=Ni(e.resolve),i=[],o=0,a=1;_s(t,(function(t){var s=o++,c=!1;a++,Yr(n,e,t).then((function(t){c||(c=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){c||(c=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var _f="No one promise resolved";Ta({target:"Promise",stat:!0,forced:Rf},{any:function(t){var e=this,n=wi("AggregateError"),r=Yu.f(e),i=r.resolve,o=r.reject,a=Fu((function(){var r=Ni(e.resolve),a=[],s=0,c=1,u=!1;_s(t,(function(t){var f=s++,l=!1;c++,Yr(r,e,t).then((function(t){l||u||(u=!0,i(t))}),(function(t){l||u||(l=!0,a[f]=t,--c||o(new n(a,_f)))}))})),--c||o(new n(a,_f))}));return a.error&&o(a.value),r.promise}});var Df=Hr.Promise,Nf=!1,Uf=!Df||!Df["try"]||Fu((function(){Df["try"]((function(t){Nf=8===t}),8)})).error||!Nf;Ta({target:"Promise",stat:!0,forced:Uf},{try:function(t){var e=arguments.length>1?$c(arguments,1):[],n=Yu.f(this),r=Fu((function(){return Vc(Ni(t),void 0,e)}));return(r.error?n.reject:n.resolve)(r.value),n.promise}}),Ta({target:"Promise",stat:!0},{withResolvers:function(){var t=Yu.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var Ff=zu&&zu.prototype,zf=!!zu&&Kr((function(){Ff["finally"].call({then:function(){}},(function(){}))}));if(Ta({target:"Promise",proto:!0,real:!0,forced:zf},{finally:function(t){var e=Gc(this,wi("Promise")),n=gi(t);return this.then(n?function(n){return jf(e,t()).then((function(){return n}))}:t,n?function(n){return jf(e,t()).then((function(){throw n}))}:t)}}),gi(zu)){var Mf=wi("Promise").prototype["finally"];Ff["finally"]!==Mf&&Qo(Ff,"finally",Mf,{unsafe:!0})}var Jf=ii("".charAt),Hf=ii("".charCodeAt),Kf=ii("".slice),Xf=function(t){return function(e,n){var r,i,o=Ns(di(e)),a=na(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=Hf(o,a),r<55296||r>56319||a+1===s||(i=Hf(o,a+1))<56320||i>57343?t?Jf(o,a):r:t?Kf(o,a,a+2):i-56320+(r-55296<<10)+65536)}},Gf={codeAt:Xf(!1),charAt:Xf(!0)},qf=Gf.charAt,Yf="String Iterator",Wf=Vo.set,Vf=Vo.getterFor(Yf);gc(String,"String",(function(t){Wf(this,{type:Yf,string:Ns(t),index:0})}),(function(){var t,e=Vf(this),n=e.string,r=e.index;return r>=n.length?yc(void 0,!0):(t=qf(n,r),e.index+=t.length,yc(t,!1))}));var $f=Hr;function Qf(){var t=window.location.hostname;if(!0===/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(t)||"localhost"===t)return t;var e=t.match(/([^]*).*/);if("undefined"!==typeof e&&null!==e&&(t=e[1]),"undefined"!==typeof t&&null!==t){var n=t.split(".");n.length>1&&(t=n[n.length-2]+"."+n[n.length-1])}return"."+t}function Zf(t,e,n){try{var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires="+r.toGMTString(),o="domain="+Qf();document.cookie=t+"="+e+"; "+o+"; "+i}catch(Cl){console.error("stalker setCookie failed!")}}function tl(t){try{for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){var i=n[r].trim();if(0===i.indexOf(e))return i.substring(e.length,i.length)}}catch(Cl){console.error("stalker getCookie failed!")}return""}$f.Promise;var el=function(){function t(t){var e=this;if(void 0===t&&(t={}),this.cacheServerSetItem=function(){var t=(0,i.A)(a().mark((function t(n){var i,o,s;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.recordType!==F){t.next=13;break}if(i=e.userId,o=e.prodNo,!i){t.next=12;break}if(!e.cacheServerBff){t.next=10;break}return t.next=7,Mt({url:e.cacheServerBff+"/stalker/setItem.json",data:{_args:(0,r.A)({userId:i,prodNo:o,isRefresh:e.isRefresh?"1":"0"},n||{})}});case 7:s=t.sent;try{s=JSON.parse(s)}catch(Cl){}return t.abrupt("return",s);case 10:t.next=13;break;case 12:console.error("\u7f3a\u5c11userId,\u7aef\u5916\u573a\u666f\u5f3a\u4f9d\u8d56userId");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.cacheServerGetItem=function(){var t=(0,i.A)(a().mark((function t(n){var i,o,s;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.recordType!==F){t.next=13;break}if(i=e.userId,o=e.prodNo,!i){t.next=12;break}if(!e.cacheServerBff){t.next=10;break}return t.next=7,Mt({url:e.cacheServerBff+"/stalker/getItem.json",data:{_args:(0,r.A)({userId:i,prodNo:o},n||{})}});case 7:s=t.sent;try{s=JSON.parse(s)}catch(Cl){}return t.abrupt("return",s);case 10:t.next=13;break;case 12:console.error("\u7f3a\u5c11userId,\u7aef\u5916\u573a\u666f\u5f3a\u4f9d\u8d56userId");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.bridge=x(),this.lock=!1,this.isRefresh=t.isRefresh,this.cacheServerBff=t.cacheServerBff,this.resumeSessionIdAndDataFunc=t.resumeSessionIdAndDataFunc,this.webviewResumeHandlerInited=!1,t.userId&&"web"===L()){var n=t.outerAppName;n||(n=tl(at)),n&&Zf(at,n,1),this.userId=(n||"outerName")+"_"+t.userId}this.prodNo=t.prodNo}var e=t.prototype;return e.addWebviewResumeHandler=function(){var t=this;if(!this.webviewResumeHandlerInited)try{document.addEventListener("resume",(function(){t.resumeGlobalSharedBiz(),t.resumeGlobalSessionId()}),!1),document.addEventListener("WindVane.fromWebViewPop",(function(){t.resumeGlobalSharedBiz(),t.resumeGlobalSessionId()}),!1),this.webviewResumeHandlerInited=!0,console.log("stalker webviewResumeHandlerInited ")}catch(Cl){console.error("stalker addWebviewResumeHandler failed")}},e.resumeGlobalSharedBiz=function(){this.setGlobalActiveSharedBiz(this.sharedBiz)},e.resumeGlobalSessionId=function(){this.resumeSessionIdAndDataFunc&&this.resumeSessionIdAndDataFunc(this.sessionId)},e.resetSessionId=function(t){this.sessionId=t},e.resetUuid=function(t){this.uuid=t},e.getSessionKey=function(t){return(t||this.sessionId)+"_stalker_ids"},e.getSessionDataKey=function(t){return(t||this.sessionId)+"_stalker_data"},e.getSessionSharedBizKey=function(t){return(t||this.sessionId)+"_stalker_shared_biz"},e.getGlobalSharedBizKey=function(){return"_global_stalker_shared_biz"},e.init=function(){var t=(0,i.A)(a().mark((function t(e){var n,r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.sessionId,r=e.recordType,this.sessionId=n||this.sessionId,t.next=4,Ut(this.bridge);case 4:return this.uuid=t.sent,this.recordType=r,this.addWebviewResumeHandler(),t.abrupt("return",this.uuid);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getSessionSharedBiz=function(){var t=(0,i.A)(a().mark((function t(e){var n,r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,mt(this.bridge,this.getSessionSharedBizKey(e));case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:r=t.t0,n=r.sharedBiz,t.next=13;break;case 11:t.prev=11,t.t1=t["catch"](1);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),e.setSessionSharedBiz=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sharedBiz=e,t.next=3,bt(this.bridge,this.getSessionSharedBizKey(),{sharedBiz:e});case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getGlobalActiveSharedBiz=function(){var t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",t.prev=1,t.next=4,mt(this.bridge,this.getGlobalSharedBizKey());case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:n=t.t0,e=n.sharedBiz,t.next=13;break;case 11:t.prev=11,t.t1=t["catch"](1);case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),e.setGlobalActiveSharedBiz=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sharedBiz=e,t.next=3,bt(this.bridge,this.getGlobalSharedBizKey(),{sharedBiz:e});case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getSessionIds=function(){var t=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt(this.bridge,this.getSessionKey(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.addSessionIds=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.lock){t.next=2;break}return t.abrupt("return");case 2:return this.lock=!0,t.next=5,this.getSessionIds();case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=[];case 8:e=t.t0,e.push(this.uuid),bt(this.bridge,this.getSessionKey(),e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.setSessionData=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.next=3,bt(this.bridge,this.getSessionDataKey(),e);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getSessionData=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mt(this.bridge,this.getSessionDataKey());case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",{});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),e.resetSessionData=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt(this.bridge,this.getSessionDataKey(),{});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getUUIDData=function(){var t=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt(this.bridge,this.getUuidKey(e));case 2:if(n=t.sent,n){t.next=6;break}return ar("RECORD_ERROR:getUUIDData\u672a\u83b7\u53d6\u5230\u9875\u9762\u6570\u636e",{recordId:e,uuid:this.uuid}),t.abrupt("return",{logs:[],recordIds:[rt],recordType:F});case 6:return t.abrupt("return",{recordIds:n.recordIds,logs:n.logs,recordType:n.recordType,snapshots:n.snapshots});case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getCacheServerUUIDData=function(){var t=(0,i.A)(a().mark((function t(){var e,n,i,o,s,c,u;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cacheServerGetItem({});case 3:if(t.t2=e=t.sent,t.t1=null==t.t2,t.t1){t.next=7;break}t.t1=null==(e=e.result);case 7:if(!t.t1){t.next=11;break}t.t3=void 0,t.next=12;break;case 11:t.t3=e.pageRecords;case 12:if(t.t0=t.t3,t.t0){t.next=15;break}t.t0=[];case 15:if(n=t.t0,i=[],!((null==n?void 0:n.length)>0)){t.next=29;break}o=0;case 19:if(!(o<n.length)){t.next=29;break}if(s=n[o],c=(null==s?void 0:s.recordId)||"",u=null==s?void 0:s.isRefresh,c&&i.push({recordIds:[s.recordId],recordType:F,logs:(0,r.A)({},s)}),"1"!==u){t.next=26;break}return t.abrupt("break",29);case 26:o+=1,t.next=19;break;case 29:return t.abrupt("return",i);case 32:t.prev=32,t.t4=t["catch"](0);case 34:return t.abrupt("return",[]);case 35:case"end":return t.stop()}}),t,this,[[0,32]])})));return function(){return t.apply(this,arguments)}}(),e.setUUIDData=function(){var t=(0,i.A)(a().mark((function t(e){var n,i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this.getUuidKey(),this.recordIds=e.recordIds,this.logs=e.logs,this.recordType=e.recordType,this.snapshots=e.snapshots,t.next=7,bt(this.bridge,i,e);case 7:this.cacheServerSetItem((0,r.A)({storageKey:"UUID_"+i,recordId:(null==e||null==(n=e.recordIds)?void 0:n.join(","))||""},this.logs||{})),this.saveStalkIdsContentCache();case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.addRecordId=function(){var t=(0,i.A)(a().mark((function t(e,n){var r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this.recordIds||[],r.push(e),t.next=4,this.setUUIDData({recordIds:Tt(r),recordType:n||F,logs:this.logs,snapshots:this.snapshots});case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.addSnapshots=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setUUIDData({recordIds:this.recordIds,recordType:this.recordType||F,logs:this.logs,snapshots:e||{}});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.addlog=function(){var t=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.logs||[],n.push(e),t.next=4,this.setUUIDData({logs:n,recordType:this.recordType||F,recordIds:this.recordIds,snapshots:this.snapshots});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.addlogs=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setUUIDData({logs:e});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getUuidKey=function(t){return t||this.uuid},e.getPageslogs=function(){var t=(0,i.A)(a().mark((function t(){var e,n,r,o,s,c,u,f,l,p,d,h,v,g,y,m=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=z[L()]||"",n="",t.prev=2,r=function(){var t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.getSessionIds();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return e=t.t0,t.next=8,Promise.all(Tt(e).map((function(t){return m.getUUIDData(t)})));case 8:return n=t.sent,t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.getCacheServerUUIDData();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:return t.abrupt("return",t.t0);case 9:return t.prev=9,t.t1=t["catch"](0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),t.t0=Promise,t.next=8,mt(this.bridge,"KAEL_STORAGE");case 8:return t.t1=t.sent,t.next=11,this.getSessionSharedBiz();case 11:return t.t2=t.sent,t.next=14,r();case 14:return t.t3=t.sent,t.next=17,o();case 17:return t.t4=t.sent,t.next=20,this.getSessionData();case 20:return t.t5=t.sent,t.t6=[t.t1,t.t2,t.t3,t.t4,t.t5],t.next=24,t.t0.all.call(t.t0,t.t6);case 24:s=t.sent,c=s[0],u=s[1],f=s[3],l=s[4],p=s[2],n=null==l?void 0:l.prodNo,console.log("[pageLogs]",p),d=[],this.recordType===F&&((p||[]).forEach((function(t){var e=t||{},n=e.logs,r=e.recordType;if(r===U)d.push(t);else{var i=null==n?void 0:n.cTime,o=i?parseInt(i,32):(new Date).getTime();(new Date).getTime()-o<216e5&&d.push(t)}})),console.log("[recentPageLogs]",d),p=d);try{(f||[]).forEach((function(t){p.find((function(e){var n,r;return(null==e||null==(n=e.recordIds)||null==n.indexOf?void 0:n.indexOf(null==t||null==(r=t.recordIds)?void 0:r[0]))>=0}))||p.push(t)}))}catch(w){}return h=p.reduce((function(t,e){var n=t.logs,r=t.recordingIds,i=t.offLineRecordingIds;e.recordIds||ar("RECORD_ERROR:\u9875\u9762\u65e5\u5fd7\u4e2d\u7f3a\u5c11recordIds",e);var o=e.recordIds||rt,a=i;return e.recordType===U&&(a=a.concat(o)),{logs:(n||[]).concat(e.logs||[]),recordingIds:(r||[]).concat(o),offLineRecordingIds:a}}),{logs:[],recordingIds:[],offLineRecordingIds:[]}),v=h.logs,g=h.recordingIds,y=h.offLineRecordingIds,t.abrupt("return",{logs:v,recordingIds:g,offLineRecordingIds:y,actionEndTime:(new Date).getTime()+1e3,userProcessType:"1",containType:e,sessionId:this.sessionId,sharedBiz:u,pageLogs:p,kael:c,prodNo:n});case 36:return t.prev=36,t.t7=t["catch"](2),ar("getPageslogs\u83b7\u53d6\u53ef\u56de\u6eaf\u65e5\u5fd7\u5f02\u5e38",{message:null==t.t7?void 0:t.t7.message}),t.abrupt("return",{logs:[],recordingIds:[],offLineRecordingIds:[],actionEndTime:(new Date).getTime()+1e3,userProcessType:"1",containType:e,pageLogs:[],sessionId:this.sessionId,sharedBiz:this.sharedBiz,prodNo:n});case 40:case"end":return t.stop()}}),t,this,[[2,36]])})));return function(){return t.apply(this,arguments)}}(),e.resetSessionContent=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt(this.bridge,this.getSessionKey(),[]);case 2:return t.next=4,this.resetSessionData();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.cleanPageContentByUUID=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt(this.bridge,e,{recordIds:[],logs:[]});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.cleanPageContentBySessionId=function(){var t=(0,i.A)(a().mark((function t(e){var n,r=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSessionIds(e);case 2:return n=t.sent,t.next=5,Promise.all((n||[]).map((function(t){return r.cleanPageContentByUUID(t)})));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.saveStalkIdsContentCache=function(){var t=(0,i.A)(a().mark((function t(){var e,n=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getSessionIds();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:return e=t.t0,t.next=9,Promise.all(Tt(e).map(function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.getUUIDData(e);case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{data:t.t0,id:t.t1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 9:this.pageLogsCache=t.sent,console.log("[pageLogsCache]",this.pageLogsCache),t.next=15;break;case 13:t.prev=13,t.t1=t["catch"](0);case 15:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),e.resumePageContentBySessionId=function(){var t=(0,i.A)(a().mark((function t(e){var n,r=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.pageLogsCache&&this.pageLogsCache.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getSessionIds(e);case 4:return n=t.sent,console.log("[ resumePageContentBySessionId ids ] >",n),t.next=8,Promise.all((n||[]).map((function(t){return r.resumeUUIDData(t)})));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.resumeUUIDData=function(){var t=(0,i.A)(a().mark((function t(e){var n,r,i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=null==(n=this.pageLogsCache)||null==(n=n.filter((function(t){return t.id===e})))?void 0:n[0],console.log("[ resumeUUIDData pageData ] >",e,r),r&&r.data){t.next=4;break}return t.abrupt("return");case 4:return i=r.data,t.next=7,bt(this.bridge,e,i);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}();function nl(t){return rl.apply(this,arguments)}function rl(){return rl=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.xr){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=7;break}return t.next=5,(0,d.kG)([e]);case 5:t.next=9;break;case 7:return t.next=9,(0,d.kG)(["https://gw.alipayobjects.com/render/p/yuyan_npm/@alipay_xreplay-recorder-api/1.0.4/dist/xreplay-recorder-api.min.js"]);case 9:case"end":return t.stop()}}),t)}))),rl.apply(this,arguments)}var il=function(t,e){void 0===e&&(e=toString);var n={};return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=e.apply(void 0,i),s=n[a];return s||(s={value:t.apply(this,i)},n[a]=s),s.value}}((function(t){return nl(t)})),ol=function(){function t(t){void 0===t&&(t={}),this.env=t.env,this.xreplayUrl=t.xreplayUrl,il(t.xreplayUrl)}var e=t.prototype;return e.getXr=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,il(this.xreplayUrl);case 2:return t.abrupt("return",window.xr||{});case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.init=function(){var t=(0,i.A)(a().mark((function t(e,n,i){var o,s,c,u,f,l,p,d,h,v,g;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),void 0===i&&(i=D),o="",t.prev=3,t.next=6,pt(x());case 6:s=t.sent,o=s.userId,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),ar("xrGetUserInfo\u5931\u8d25",t.t0);case 13:if(t.prev=13,o){t.next=18;break}return t.next=17,ht(x());case 17:o=t.sent;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](13),ar("xrGetDeviceId\u5931\u8d25",t.t1);case 23:if(c=e||{},u=c.prodNo,f=c.isForceUseWebsocket,this.prodNo=u,t.t2=this.env,t.t2){t.next=30;break}return t.next=29,ft();case 29:t.t2=t.sent;case 30:return l=t.t2,t.next=33,Ut(x());case 33:return this.uuid=t.sent,t.next=36,this.getXr();case 36:if(p=t.sent,this.xr=p,t.prev=38,d=this.xr.isReady(),!d){t.next=42;break}return t.abrupt("return",this.context);case 42:t.next=47;break;case 44:t.prev=44,t.t3=t["catch"](38),ar("xr\u521d\u59cb\u5316\u5931\u8d25",t.t3);case 47:return t.next=49,Bt();case 49:if(h=t.sent,v=i[l]||i.prod,g={id:o,name:o,type:101},f||h!==U||!e.sharedBiz){t.next=57;break}return t.next=55,this.initOffLine(e,(0,r.A)({},v,{user:g,trackerConfigs:n}));case 55:t.next=59;break;case 57:return t.next=59,this.initOnline(e,(0,r.A)({},v,{user:g,trackerConfigs:n}));case 59:return t.prev=59,this.context.addTag(this.uuid),this.logXRError(p),t.abrupt("return",this.context);case 65:t.prev=65,t.t4=t["catch"](59),ar("xr\u542f\u52a8\u9519\u8bef",t.t4);case 68:case"end":return t.stop()}}),t,this,[[3,10],[13,20],[38,44],[59,65]])})));return function(e,n,r){return t.apply(this,arguments)}}(),e.initOffLine=function(){var t=(0,i.A)(a().mark((function t(e,n){var i,o=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===n&&(n=D),this.XREPLAY_TYPE=U,i=e.sharedBiz,t.prev=4,this.xr.init((0,r.A)({environment:"PRE",appKey:"10wuetzd"},n,{interceptors:{createRecording:function(){return{id:"aliNative_bx_"+o.uuid,storageConfig:{type:"ali-pay",sharedBiz:i}}}}}),(0,r.A)({},e,{uuid:this.uuid})),t.next=8,this.xr.startNativeRecording();case 8:this.context=t.sent,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),ar("OffLineXR\u521d\u59cb\u5316\u9519\u8bef",t.t0),this.initOnline(e,n,!0);case 15:case"end":return t.stop()}}),t,this,[[4,11]])})));return function(e,n){return t.apply(this,arguments)}}(),e.initOnline=function(){var t=(0,i.A)(a().mark((function t(e,n,i){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===n&&(n=D),this.XREPLAY_TYPE=F,t.prev=2,this.xr.init((0,r.A)({environment:"PRE",appKey:"10wuetzd"},n),(0,r.A)({},e,{uuid:this.uuid})),t.next=6,this.xr.startStreamingRecording();case 6:this.context=t.sent,i&&ar("offline\u964d\u7ea7\u5230online",this.getRecordingId()),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),ar("OnlineXR\u521d\u59cb\u5316\u9519\u8bef",t.t0);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),e.getCtx=function(){return this.context},e.getRecordingId=function(){var t=this.getCtx();return t||ar("RECORD_ERROR: getRecordingId \u7f3a\u5c11context"),null!=t&&t.recordingId||ar("RECORD_ERROR: getRecordingId context\u4e2d\u7f3a\u5c11recordingId"),t?t.recordingId:rt},e.getMarkerKey=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.next=3,this.getRecordingId();case 3:e=t.sent;case 4:return t.abrupt("return","STALKER_XP_MARKER_"+e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.addMarker=function(){var t=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getXr();case 3:n=t.sent,n.global.addMarker(e),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.addLogMarker=function(){var t=(0,i.A)(a().mark((function t(e){var n,r,i,o,s,c,u;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e["aId"],r=e["bId"],i=e[K],o=e[X],s=e[q],c=e[G],u=[n,r,i,o].filter(Boolean).join("."),t.next=9,this.addMarker(m({type:s,time:c,spm:u}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.stopRecordings=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getXr();case 3:e=t.sent,e.global.stopRecordings(),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),e.stopNowRecording=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getXr();case 3:e=t.sent,e.stopRecording(),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),e.pauseRecording=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e=this.context.pauseRecording(),e.stopRecording()}catch(n){}case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.resumeRecording=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e=this.context.resumeRecording(),e.stopRecording()}catch(n){}case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.logXRError=function(){var t=(0,i.A)(a().mark((function t(e){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getCtx().on(e.RecordingEvent.ERROR,(function(t){ir("["+(t.type||"xreplay\u5f02\u5e38")+"]"+J[t.type],t.message,t.error)}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.captureSnapshot=function(){var t=(0,i.A)(a().mark((function t(e){var n,r;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getXr();case 3:return n=t.sent,t.next=6,n.captureHTMLSnapshot(e);case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t["catch"](0),ar("\u751f\u6210\u5feb\u7167\u5f02\u5e38",{message:null==t.t0?void 0:t.t0.message});case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),t}(),al=function(){function t(t){var e=t.isRefresh;this.isRefresh=e,this.zipTime=null,this.bridge=x()||null}var e=t.prototype;return e.init=function(){var t=(0,i.A)(a().mark((function t(e){var n,r,i,o;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.storage,t.next=3,n.getSessionSharedBiz();case 3:return r=t.sent,t.next=6,n.getGlobalActiveSharedBiz();case 6:return i=t.sent,t.next=9,this.create(r,i);case 9:return o=t.sent,o||ar("\u672c\u5730\u5b58\u50a8\u7a7a\u95f4\u4e3a\u7a7a\uff0c\u65e0\u6cd5\u5f55\u5236"),n.setSessionSharedBiz(o),this.isRefresh&&n.setGlobalActiveSharedBiz(o),t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=(0,i.A)(a().mark((function t(e,n){var r,i,o,s,c;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n||e,this.isRefresh||r||ar("isRefresh\u8bbe\u7f6e\u9519\u8bef"),!this.isRefresh&&r){t.next=29;break}return t.prev=3,t.next=6,this.createSharedBiz();case 6:return i=t.sent,o=i.sharedBiz,this.sharedBiz=o,t.abrupt("return",o);case 12:t.prev=12,t.t0=t["catch"](3),ar("\u7b2c\u4e00\u6b21\u521b\u5efasharedBiz\u5931\u8d25",t.t0);case 15:return t.prev=15,t.next=18,this.createSharedBiz();case 18:return s=t.sent,c=s.sharedBiz,this.sharedBiz=c,t.abrupt("return",c);case 24:t.prev=24,t.t1=t["catch"](15),ar("\u7b2c\u4e8c\u6b21\u521b\u5efasharedBiz\u5931\u8d25",t.t1);case 27:t.next=31;break;case 29:return this.sharedBiz=r,t.abrupt("return",this.getSharedBiz());case 31:case"end":return t.stop()}}),t,this,[[3,12],[15,24]])})));return function(e,n){return t.apply(this,arguments)}}(),e.getSharedBiz=function(){return this.sharedBiz},e.setSharedBiz=function(t){this.sharedBiz=t},e.createSharedBiz=function(){var t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt(this.bridge,{validTime:1440});case 2:return e=t.sent,n=e.sharedBiz,t.abrupt("return",{sharedBiz:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.fileSystemManagerZip=function(){var t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.getSharedBiz(),this.zipTime=(new Date).getTime(),n="https://shared/baoxian_stalker_"+this.zipTime+"_"+e+".zip",t.next=5,Et(this.bridge,{sharedBiz:e,targetPath:n,zipFilePaths:["https://shared/"]});case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.zipFile=function(){var t=(0,i.A)(a().mark((function t(){var e,n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fileSystemManagerZip();case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0),ar("zip\u6253\u5305\u6587\u4ef6\u5f02\u5e38",t.t0);case 10:return t.prev=10,t.next=13,this.fileSystemManagerZip();case 13:return n=t.sent,t.abrupt("return",n);case 17:t.prev=17,t.t1=t["catch"](10),ar("\u91cd\u8bd5zip\u6253\u5305\u6587\u4ef6\u5f02\u5e38",t.t1);case 20:case"end":return t.stop()}}),t,this,[[0,7],[10,17]])})));return function(){return t.apply(this,arguments)}}(),e.uploadZipFileToAliCloud=function(){var t=(0,i.A)(a().mark((function t(e){var n,r,i,o;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.sessionId,t.next=3,this.zipFile();case 3:r=t.sent,i=this.getSharedBiz(),o=this.zipTime;try{Rt(this.bridge,{headers:{baoxiansharedbiz:this.sharedBiz,baoxiansessionid:n,baoxianprocesstime:""+o},sharedBiz:i,filePath:r,bizType:"ins_chainproc",hideLoading:!0,needRetry:!0,needDelete:!0,isPrivate:!0,fileType:"zip"}).then((function(t){null!=t&&t.fileUrl||ar("upload\u6587\u4ef6\u8fd4\u56de\u5f02\u5e38",t,{sharedBiz:i,sessionId:n,zipTime:o})}))["catch"]((function(t){ar("upload\u6587\u4ef6\u5f02\u5e38",t,{sharedBiz:i,sessionId:n,zipTime:o})}))}catch(a){ar("upload\u6267\u884c\u5f02\u5e38",a)}return t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}(),sl=["pageSnapshot"],cl=function(){function t(t){var e=t.session,n=t.storage,r=t.XR,i=t.isRefresh,o=t.resolveURL,a=t.userId;this.Session=e,this.Storage=n,this.XR=r,this.resolveURL=o,this.isRefresh=i,this.snapshotTime=+new Date,this.userId=a}var e=t.prototype;return e.init=function(t){var e=this;try{document.addEventListener("visibilitychange",(0,i.A)(a().mark((function n(){return a().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("hidden"!==document.visibilityState){n.next=12;break}return n.prev=1,n.next=4,e.captureHTMLSnapshot();case 4:e.upload({sessionId:t}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.info("errorSnapshot",n.t0);case 10:n.next=16;break;case 12:if("visible"!==document.visibilityState||e.isRefresh){n.next=16;break}return e.snapshotTime=+new Date,n.next=16,e.cacheSnapshotPos();case 16:case"end":return n.stop()}}),n,null,[[1,7]])}))))}catch(n){}},e.cacheSnapshotPos=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Storage.addSnapshots({pageSnapshotId:this.Storage.getUuidKey(),snapshotTime:this.snapshotTime});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),ar("\u4fdd\u5b58\u5feb\u7167\u7d22\u5f15\u5f02\u5e38",{message:null==t.t0?void 0:t.t0.message});case 8:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),e.getCacheSnapshotPos=function(){return{pageSnapshotId:this.Storage.getUuidKey(),snapshotTime:this.snapshotTime}},e.captureHTMLSnapshot=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.XR){t.next=6;break}return t.next=3,this.XR.captureSnapshot({resolveURL:this.resolveURL?this._resolveUrl.bind(this):null});case 3:return e=t.sent,this.pageSnapshot=e,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e._resolveUrl=function(t){var e;if("IMG"===t.tagName?e="src":"A"===t.tagName&&(e="href"),e){var n=t[e];n&&t.setAttribute(e,this.resolveURL(n))}},e.getUploadData=function(t){try{var e=t||{},n=e.pageSnapshot,r=(0,h.A)(e,sl),i=new FormData;Object.keys(r).forEach((function(t){r[t]&&i.append(t,r[t])}));var o=t.sessionId+"&"+t.pageSnapshotId+"&"+t.snapshotTime+".zip";return i.append("name",o),i.append("file",n,o),i}catch(a){ar("\u751f\u6210\u5feb\u7167\u4e0a\u4f20\u6587\u4ef6\u6570\u636e\u5f02\u5e38",{message:null==a?void 0:a.message})}},e.upload=function(){var t=(0,i.A)(a().mark((function t(e){var n,i;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.pageSnapshot){t.next=9;break}return n=(0,r.A)({},e,{userId:this.userId,snapshotTime:this.snapshotTime,pageSnapshot:this.pageSnapshot,pageSnapshotId:this.Storage.getUuidKey()}),console.info("gen snapshot params"),t.next=5,this.cacheSnapshotPos();case 5:return i=this.getUploadData(n),console.info("start upload",i),i&&fetch("https://insbffweb.alipay.com/h5/ajax/insprod/stalker/uploadSnapshotFile.json",{method:"POST",keepalive:!0,body:i,credentials:"include"})["catch"]((function(t){ar("\u4e0a\u4f20\u5feb\u7167\u5f02\u5e38",{message:null==t?void 0:t.message})})),t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}(),ul=["dParams"],fl=function(){function t(t){var e=t.AId,n=t.BId,r=t.params,i=void 0===r?{}:r,o=t.addLogCallBack;this.AId=e,this.BId=n,this.logs=[],this.isDebug=i.isDebug,this.metaData=i.metaData||{},this.addLogCallBack=o||Boolean}var e=t.prototype;return e.getTime=function(){return Date.now().toString(32)},e.set=function(t){var e=t.AId,n=t.BId;this.AId=e||this.AId,this.BId=n||this.BId},e.addLog=function(t,e,n){var i=e[0],o=e[1],a=n.dParams,s=(0,h.A)(n,ul);if($.indexOf(t)>-1){var c,u=(0,r.A)({},s,(c={},c["aId"]=this.AId,c["bId"]=this.BId,c[K]=i,c[X]=o,c[q]=t,c[G]=this.getTime(),c["cParams"]=a,c["aVersion"]=H,c)),f=b(u);if(Y===u[q]&&!u[K])return;if(W===u[q]&&!u[X])return;this.isDebug&&console.log(f),this.logs.push(f);try{this.addLogCallBack(f,this.logs)}catch(l){}}},e.clickLog=function(t,e){"string"===typeof t&&(t=t.split(".")),this.addLog("click",t||[],{cParams:e})},e.expoLog=function(t,e){"string"===typeof t&&(t=t.split(".")),this.addLog("expo",t||[],{cParams:e})},e.pageFinishLog=function(){this.addLog("pageFinish",[],{})},e.pageMonitorLog=function(t){this.addLog("pageMonitor",[],(0,r.A)({},t,{dParams:this.metaData}))},t}();function ll(t,e,n){var r=e||window.document;r.addEventListener(t,n,!0)}function pl(t,e,n){var r=e||window.document;r.removeEventListener(t,n,!0)}function dl(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""}function hl(t){return null!==t&&"object"===typeof t&&1===t.nodeType}function vl(t){return!(!t||!hl(t)||t===document.body||t===document.documentElement)}function gl(t,e){var n=t;if(!vl(n))return null;var r=null;while(n&&n!==document.body){if(r=dl(n,e),r)break;n=n.parentNode}return n===document.body?null:n}function yl(t){return gl(t,Q)}function ml(t){return gl(t,Z)}function wl(t){var e=yl(t);return dl(e,Q)}function bl(t){var e=ml(t);return dl(e,Z)}function Sl(t){var e=bl(t).split(".");return e.length>1?e:[wl(t),e[0]]}function xl(t){var e=t&&t.getAttribute&&t.getAttribute("data-aspm-param")||"";return w(e)}var Al,kl=function(t,e,n){var r;return t<-e?r=-1:t<0?r=t/e:t+e<n?r=0:t<n?r=(t+e-n)/e:t>=n&&(r=1),r},Il=function(t){var e=t.getBoundingClientRect(),n=window,r=n.document,i=r.documentElement;return kl(e.top,e.height,i.clientHeight)},El=function(t){var e=t.getBoundingClientRect(),n=window,r=n.document,i=r.documentElement;return kl(e.left,e.width,i.clientWidth)},Ol={expoObj:{},_getYStatus:function(t){return Il(t)},_getXStatus:function(t){return El(t)},_doExpo:function(t,e,n,r){var i=tt[0],o=tt[1],a="",s=this.expoObj;if(e&&e.getBoundingClientRect){var c=e.getBoundingClientRect();if(!c.height||!c.width)return}if(!1!==s[t]&&e.offsetParent){void 0===s[t]&&(s[t]=[-1,-1]);var u=this._getYStatus(n),f=this._getXStatus(n);if(u>=i&&u<=o&&f>=i&&f<=o){var l=s[t][0],p=s[t][1];return r&&(s[t]=!1),p<i?a="up":p>o?a="down":l<i?a="left":l>o&&(a="right"),s[t]=!!s[t]&&[f,u],a}}}},Rl=function(){function t(t){var e=this,n=t.isAutoExpo,i=t.isDebug,o=t.metaData,a=t.addLogCallBack;this.handlerClick=function(t){t.target&&(t=t.target);var n=ml(t),r=Sl(n),i=xl(n);e.BLog.clickLog(r,i)},this.handlerScroll=function(){for(var t=document.querySelectorAll("[data-aspm-expo]")||[],n=0;n<t.length;n+=1){var i=t[n],o=e.getExpoPos(i),a=o.BCPos,s=o.dom,c=o.param;if(s){var u,f=Ol._doExpo(a,s,i,e.expoOnce);f&&e.BLog.expoLog(a,(0,r.A)({},c,(u={},u[q]=f,u)))}}},this.handlerPageFinish=function(){var t=window.document,n=t.documentElement;n.scrollHeight<=t.body.scrollTop+n.clientHeight+e.bDistance&&e.BLog.pageFinishLog()};var s=document.querySelector("meta[name=data-aspm]");this.AId=s?s.getAttribute("content"):"",this.BId=document.body.dataset.aspm,this.isAutoExpo=n||!0,this.isDebug=i,this.metaData=o,this.addLogCallBack=a||Boolean}var e=t.prototype;return e.init=function(){var t=(0,i.A)(a().mark((function t(){return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.BLog=new fl({AId:this.AId,BId:this.BId,params:{isDebug:this.isDebug,metaData:this.metaData||{}},addLogCallBack:this.addLogCallBack||Boolean}),this.isAutoExpo&&this.autoExpo(),this.onClick(),this.onExpo(),this.onPageMonitor(),this.onPageFinish();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getExpoPos=function(t){var e=ml(t),n="",r="";e&&(n=Sl(e),r=xl(e));var i=yl(t);return!e&&i&&(e=i,n=[wl(e)],r=xl(e)),{dom:e,BCPos:n,param:r||{}}},e.onPageMonitor=function(){this.BLog.pageMonitorLog()},e.onPageFinish=function(){pl("scroll",window.document,this.handlerPageFinish),ll("scroll",window.document,this.handlerPageFinish)},e.onClick=function(){pl("click",window.document,this.handlerClick),ll("click",window.document,this.handlerClick)},e.onExpo=function(){pl("scroll",window.document,this.handlerScroll),ll("scroll",window.document,this.handlerScroll)},e.autoExpo=function(t){void 0===t&&(t=Boolean),this.handlerScroll(),this.handlerPageFinish(),t()},e.clickLog=function(){var t;(t=this.BLog).clickLog.apply(t,arguments)},e.expoLog=function(){var t;(t=this.BLog).expoLog.apply(t,arguments)},t}();(function(t){S=t})(function(){var t=L();return"alipay"===t?lr:"taobao"===t?R?Cr:Sr:"web"===t?Mr:void 0}()),nr();var Pl=function(){function t(t,e,n){var r=this;void 0===t&&(t={}),void 0===e&&(e={}),this.resumeSessionIdAndData=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.Session.getOldSessionId();case 2:if(e=t.sent,console.log("[resumeSessionIdAndData oldSessionId ] >",e,r.sessionId),e!==r.sessionId){t.next=9;break}return t.next=7,r.Session.resumeStorageSessionId();case 7:return t.next=9,r.Storage.resumePageContentBySessionId();case 9:case"end":return t.stop()}}),t)}))),this.addLogCallBack=function(){var t=(0,i.A)(a().mark((function t(e){var n;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.Xreplay.addLogMarker(e),e[q]!==V){t.next=5;break}return r.Snapshot&&(n=r.Snapshot.getCacheSnapshotPos()),t.next=5,r.Storage.setUUIDData({logs:e,recordIds:[r.recordingId],recordType:r.Xreplay.XREPLAY_TYPE,snapshots:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var o=t,s=o.isRefresh,c=o.isAutoExpo,u=o.appName,f=o.appId,l=o.env,p=o.outerAppName,d=o.useRealtimeReplay,h=o.captureCanvas,v=o.canvasDebounceTime,g=o.xreplayUrl,y=o.useSnapshot,m=void 0===y||y,w=e,b=w.isDebug,S=w.metaData;this.appName=u,this.appId=f,this.isAutoExpo=c,this.isDebug=b,this.metaData=S||{},this.option=e,this.isRefresh=s,this.env=l,this.outerAppName=p,this.cacheServerBff=M[l||"prod"],this.isForceUseWebsocket=!!d,this.offReplay=n,this.captureCanvas=h,this.canvasDebounceTime=v,this.xreplayUrl=g,this.useSnapshot=m}var e=t.prototype;return e.init=function(){var t=(0,i.A)(a().mark((function t(e){var n,r,i,o,s;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Al){t.next=3;break}return ar("\u91cd\u590d\u6267\u884c\u521d\u59cb\u5316"),t.abrupt("return",!1);case 3:if(Al=!0,n=e||{},r=n.prodNo,i=n.userId,"web"===L()&&(i||(i=tl(it)),r||(r=tl(ot)),i&&Zf(it,i,1),r&&Zf(ot,r,1)),st.userId=i,this.userId=i,this.Session=new zt({isRefresh:this.isRefresh}),this.OffClient=new al({isRefresh:this.isRefresh}),this.Storage=new el({cacheServerBff:this.cacheServerBff,userId:i,prodNo:r,outerAppName:this.outerAppName,isRefresh:this.isRefresh,resumeSessionIdAndDataFunc:this.resumeSessionIdAndData}),this.Xreplay=new ol({env:this.env,xreplayUrl:this.xreplayUrl}),t.t0=this.env,t.t0){t.next=17;break}return t.next=16,ft();case 16:t.t0=t.sent;case 17:return o=t.t0,this.useSnapshot&&(this.Snapshot=new cl({session:this.Session,storage:this.Storage,XR:this.Xreplay,isRefresh:this.isRefresh,resolveURL:this.resolveURL(o),userId:i})),this.prodNo=r,t.prev=20,t.next=23,Lt();case 23:if(!t.sent){t.next=28;break}return t.next=26,this.initialization({prodNo:r});case 26:return s=t.sent,t.abrupt("return",s);case 28:t.next=34;break;case 30:return t.prev=30,t.t1=t["catch"](20),ar("stalker\u521d\u59cb\u5316\u5f02\u5e38",{message:null==t.t1?void 0:t.t1.message}),t.abrupt("return",!1);case 34:case"end":return t.stop()}}),t,this,[[20,30]])})));return function(e){return t.apply(this,arguments)}}(),e.initialization=function(){var t=(0,i.A)(a().mark((function t(e){var n,i,o,s,c,u,f;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.prodNo,i=this.offReplay,!0!==i){t.next=4;break}return t.abrupt("return",!1);case 4:if(t.t0=this.env,t.t0){t.next=9;break}return t.next=8,ft();case 8:t.t0=t.sent;case 9:if(o=t.t0,"pre"!==o&&(this.isForceUseWebsocket=!1),!this.isForceUseWebsocket){t.next=15;break}t.t1=F,t.next=18;break;case 15:return t.next=17,Bt();case 17:t.t1=t.sent;case 18:return this.recordType=t.t1,t.next=21,this.Session.init();case 21:return this.sessionId=t.sent,t.next=24,this.Storage.init({sessionId:this.sessionId,recordType:this.recordType});case 24:if(this.storageId=t.sent,this.recordType!==U){t.next=28;break}return t.next=28,this.OffClient.init({storage:this.Storage});case 28:return s="",t.prev=29,t.next=32,this.Storage.getSessionData();case 32:c=t.sent,s=c.prodNo,t.next=38;break;case 36:t.prev=36,t.t2=t["catch"](29);case 38:if(s){t.next=42;break}return s=n,t.next=42,this.Storage.setSessionData({prodNo:n});case 42:return t.next=44,this.Storage.addSessionIds();case 44:return t.prev=44,u=this.OffClient.getSharedBiz(),this.recordType!==U||u||ar("\u79bb\u7ebf\u5f55\u5236\u7f3a\u5c11sharedBiz"),t.next=49,this.Xreplay.init({version:H,sessionId:this.sessionId,prodNo:s,sharedBiz:u,isForceUseWebsocket:this.isForceUseWebsocket},{HTML:{resolveURL:this.resolveURL(o),captureCanvas:this.captureCanvas,canvasDebounceTime:this.canvasDebounceTime}},N);case 49:t.next=54;break;case 51:t.prev=51,t.t3=t["catch"](44),ar("xreplay\u521d\u59cb\u5316\u5f02\u5e38",{message:null==t.t3?void 0:t.t3.message});case 54:this.recordingId=rt;try{this.recordingId=this.Xreplay.getRecordingId()}catch(a){ar("\u83b7\u53d6recordingId\u9519\u8bef",a)}return this.Spm=new Rl({isAutoExpo:this.isAutoExpo,isDebug:this.isDebug,metaData:(0,r.A)({},this.metaData,{getRecordingId:this.recordingId}),addLogCallBack:this.addLogCallBack}),t.next=59,this.Spm.init();case 59:if(!this.isRefresh){t.next=64;break}return t.next=62,this.Session.getOldSessionId();case 62:f=t.sent,f&&this.Storage.cleanPageContentBySessionId(f);case 64:if(this.Snapshot&&this.Snapshot.init(this.sessionId),this.recordingId===rt){t.next=67;break}return t.abrupt("return",!0);case 67:return ar("RECORD_ERROR:xreplay\u521d\u59cb\u5316\u672a\u83b7\u53d6\u5230recordingId"),t.abrupt("return",!1);case 69:case"end":return t.stop()}}),t,this,[[29,36],[44,51]])})));return function(e){return t.apply(this,arguments)}}(),e.resolveURL=function(t){var e,n=this.appName,r=this.appId,i=null==(e=this.option)?void 0:e.resolveURL;return function(e){if("function"===typeof i)return i(e);switch(t){case"dev":if(-1!==e.indexOf(r+".")){var o=e.lastIndexOf("/"),a="http://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/s_dev/dev/"+n+"/www/"+e.slice(o+1);return a}break;case"test":if(-1!==e.indexOf(r+".")){var s=e.lastIndexOf("/"),c="http://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/s_dev/dev/"+n+"/www/"+e.slice(s+1);return c}break;case"pre":if(-1!==e.indexOf(r+".")){var u=e.lastIndexOf("/"),f="https://gw.alipayobjects.com/os/h5/prod/"+n+"/www/"+e.slice(u+1);return f}break;case"prod":if(-1!==e.indexOf(r+".")){var l=e.lastIndexOf("/"),p="https://gw.alipayobjects.com/os/h5/prod/"+n+"/www/"+e.slice(l+1);return p}break}return e}},e.autoExpo=function(){this.Spm&&this.Spm.autoExpo()},e.clickLog=function(){var t;this.Spm&&(t=this.Spm).clickLog.apply(t,arguments)},e.expoLog=function(){var t;this.Spm&&(t=this.Spm).expoLog.apply(t,arguments)},e.getPageslogs=function(){var t=(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPagesLogs();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getPagesLogs=function(){var t=(0,i.A)(a().mark((function t(){var e,n,o=this;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",t.t0=this.recordType,t.t0){t.next=6;break}return t.next=5,Bt();case 5:t.t0=t.sent;case 6:if(this.recordType=t.t0,this.isForceUseWebsocket||this.recordType!==U){t.next=11;break}return t.next=10,Dt(100,(0,i.A)(a().mark((function t(){var e;return a().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.OffClient.uploadZipFileToAliCloud({sessionId:o.sessionId});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))));case 10:e=t.sent;case 11:return t.next=13,this.Storage.getPageslogs();case 13:return n=t.sent,t.abrupt("return",(0,r.A)({},n,{zipTime:e}));case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.stopRecordings=function(){this.Xreplay&&this.Xreplay.stopRecordings()},e.pauseRecording=function(){this.Xreplay&&this.Xreplay.pauseRecording()},e.resumeRecording=function(){this.Xreplay&&this.Xreplay.resumeRecording()},e.cleanPageContentBySessionId=function(){this.Storage&&this.Storage.cleanPageContentBySessionId()},t}()}}]);
//# sourceMappingURL=alipay-stalker.87b12fece.js.map