!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.dmmma?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).__tracert=t.__tracert||{},t.__tracert.starter=e())}(this,(function(){"use strict";var t=function(){function t(){this._ready=new Promise((function(t){window.AlipayJSBridge?t():document.addEventListener("AlipayJSBridgeReady",t,!1)}))}return t.prototype.call=function(t,e){window.AlipayJSBridge.call(t,e)},t.prototype.ready=function(){return this._ready},t.prototype.getStartupParams=function(){return window.AlipayJSBridge.startupParams},t.prototype.isH5Env=function(){return!window.AlipayJSBridge.startupParams.enableDSL},t}();function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o="_TRACERT_COOKIE_";var a="data-aspm",c="data-aspm-click",s=/^a|area$/i;function u(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""}function l(t){return null!==t&&"object"===e(t)&&1===t.nodeType}function f(t){return!(!t||!l(t)||t===document.body||t===document.documentElement)}function p(t){var e=t;if(!f(e))return"";if(s.test(e.tagName)||e.hasAttribute(c)||(e=function(t){var e=t;if(!f(e))return"null";do{if(s.test(e.tagName)||e.hasAttribute(c))return e}while((e=e.parentNode)&&e&&e.tagName&&"BODY"!==e.tagName&&e!==document.body&&!u(e,a));return null}(e)),!e)return"";t=u(e,c);var n=e.tagName;if(("string"==typeof t||s.test(n))&&!t){for(var r=0,i=e;l(i)&&n===i.tagName&&r++,i=i.previousSibling;);t=r}return"".concat(t)}function d(){for(var t=0,e={};arguments.length>t;t++){var n,r=arguments[t];for(n in r)e[n]=r[n]}return e}var h=function t(e){function n(t,r,i){var o,a;if("undefined"!=typeof document){if(arguments.length>1){"number"==typeof(i=d({path:"/"},n.defaults,i)).expires&&((a=new Date).setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a),i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(t){}r=e.write?e.write(r,t):encodeURIComponent(r+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(t+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c,s="";for(c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=t+"="+r+s}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;u.length>f;f++){var p=u[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(l,decodeURIComponent);h=e.read?e.read(h,m):e(h,m)||h.replace(l,decodeURIComponent);if(this.json)try{h=JSON.parse(h)}catch(t){}if(t===m){o=h;break}t||(o[m]=h)}catch(t){}}return o}}return(n.set=n).get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,e){n(t,"",d(e,{expires:-1}))},n.withConverter=t,n}((function(){}));function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e.length<400||!n.cookie&&window.localStorage)if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(r){h.set(t,e,n)}else h.set(t,e,n);else console&&console.warn&&console.warn("Tracert cookie set too long")}var v=function(){function t(){n(this,t)}return i(t,[{key:"set",value:function(){var t=[].slice.call(arguments);2>t.length?this._set(t):this._set(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t[0],t[1]),t[2]||{})}},{key:"get",value:function(t,e,n){return e=arguments.length>1&&void 0!==e?e:{},n=arguments.length>2&&void 0!==n&&n,e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.localStorage&&window.localStorage.getItem(t)||h.get(t,e);if(h.get(t,e)&&window.localStorage)try{window.localStorage.setItem(t,n),h.remove(t,e)}catch(t){console&&console.warn&&console.warn("localstorage error")}return n}(t="".concat(o,"_").concat(t),e),n&&function(t,e){window.localStorage&&window.localStorage.removeItem(t),h.remove(t,e)}(t),e}},{key:"_set",value:function(t,e){var n=arguments.length>1&&void 0!==e?e:{};if(t&&0!==Object.keys(t).length)for(var r in t)t.hasOwnProperty(r)&&m("".concat(o,"_").concat(r),t[r],n)}}]),t}(),g=(new v,function(){function t(){n(this,t),this._iframe=null}return i(t,[{key:"initIframe",value:function(){if(this._iframe)return this._iframe;var t=document.createElement("iframe");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.left="-100px",t.style.bottom="-100px",t.style.width="-100px",t.setAttribute("src","https://tracert.alipay.com/cross.html"),t.onload=function(){t.style.display="none"};try{document.body.appendChild(t)}catch(t){}return this._iframe=t}}]),t}()),y=(new g,function(){function t(t){this._manager=t}return t.prototype._getTracertData=function(t){return window.Tracert&&window.Tracert.ready?window.Tracert[t]:""},t.prototype._getMateValue=function(t){return(t=document.querySelector('meta[name="'+t+'"]')||null)?t.content:""},t.prototype.getSpmAPos=function(){return this._getTracertData("spmAPos")||this._getMateValue("data-aspm")},t.prototype.getSpmBPos=function(){return this._getTracertData("spmBPos")||u(document.body,a)||""},t.prototype.getSpmCDPos=function(t){var e=function(t){var e=t;if(!f(e))return"";for(var n="";e&&e!==document.body&&!(n=u(e,a));)e=e.parentNode;return n}(t);t=p(t);return e?!t||e.indexOf(".")>-1?e:e+"."+t:""},t.prototype.getBizType=function(){return this._getTracertData("bizType")||this._getMateValue("data-bizType")},t.prototype.getParams=function(t){return t=function(t){var e={};if(t=t&&t.getAttribute&&t.getAttribute("data-aspm-param")||""){var n=t.split("^");if(-1===t.indexOf("="))e=n;else for(var r,i=n.length,o=0;i>o;o++)(r=n[o])&&(e[(r=r.split("="))[0]]=r[1]||"")}return e}(t),Array.isArray(t)?t.reduce((function(t,e){return t[e]="",t}),{}):t},t.prototype.getScmParams=function(t){return(t=function(t){if(!(t&&t.hasAttribute&&t.hasAttribute("data-aspm-content")))return{};var e=t&&t.getAttribute&&t.getAttribute("data-anewChinfo")||"";return t=t&&t.getAttribute&&t.getAttribute("data-ascm")||"",{param5:"newChinfo=".concat(e,"^scm=").concat(t)}}(t))&&t.param5?(t=function(t){if("string"!=typeof t)return null;var e=t.split(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^");if(-1===t.indexOf("="))return e;for(var n,r=e.length,i={},o=0;r>o;o++)(n=e[o])&&(i[(n=n.split("="))[0]]=n[1]||"");return i}(t.param5),t&&t.scm):""},t}()),b="INPUT",w="SELECT",_="TEXTAREA",P="LABEL",E="text",S="checkbox",T="radio",A="password",O="email",I="tel",x="search",C="number",k="0.1.19",j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function M(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;r>n;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function L(t){for(var e,n,r=[];t&&1===t.nodeType;t=t.parentNode){for(e=1,n=t.previousSibling;n;n=n.previousSibling)n.localName===t.localName&&e++;r.unshift(t.localName.toLowerCase()+"["+e+"]")}return r.length?"/"+r.join("/"):""}function D(t,e,n){var r,i,o,a,c,s,u=0,l=!1,f=!1,p=!0,d=!e&&0!==e&&"function"==typeof requestAnimationFrame;function h(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function m(t,e){return d?requestAnimationFrame(t):setTimeout(t,e)}function v(t){var n=t-s;return void 0===s||n>=e||0>n||f&&t-u>=o}function g(){var t,n=Date.now();if(v(n))return y(n);c=m(g,(n=(t=n)-u,t=e-(t-s),f?Math.min(t,o-n):t))}function y(t){return c=void 0,p&&r?h(t):(r=i=void 0,a)}return e=+e||0,n&&(l=n.leading,o=(f="maxWait"in n)?Math.max(+n.maxWait||0,e):o,p="trailing"in n?n.trailing:p),n=function(){for(var t=[],n=0;arguments.length>n;n++)t[n]=arguments[n];var o=Date.now(),p=v(o);if(r=t,i=this,s=o,p){if(void 0===c)return u=p=s,c=m(g,e),l?h(p):a;if(f)return c=m(g,e),h(s)}return void 0===c&&(c=m(g,e)),a},n.cancel=function(){void 0!==c&&function(t){if(d)return cancelAnimationFrame(t);clearTimeout(t)}(c),r=s=i=c=void(u=0)},n.flush=function(){return void 0===c?a:y(Date.now())},n.pending=function(){return void 0!==c},n}function B(t,e,n){var r=!0,i=!0;return n&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),D(t,e,{leading:r,maxWait:e,trailing:i})}var R="__uepElementId",U=0,F=function(){function t(t){this._manager=t,this._init()}return t.prototype._getTargetCode=function(t){return t&&!t[R]&&(t[R]=++U+""),t[R]||""},t.prototype._getSPM=function(t){var e=this._manager.getConfig(),n=e.getSpmAPos(),r=e.getSpmBPos();t=e.getSpmCDPos(t);return n&&r&&t?n+"."+r+"."+t:""},t.prototype._getDomParam=function(t){return this._manager.getConfig().getParams(t)},t.prototype._getDomScmParams=function(t){return this._manager.getConfig().getScmParams(t)},t.prototype.getElementInfo=function(t){if(!t||1!==t.nodeType)return{};var e={xpath:L(t),target:this._getTargetCode(t)},n=this._getSPM(t);return n&&(e.spm=n),(n=this._getDomParam(t))&&(e.params=n),(t=this._getDomScmParams(t))&&(e.scm=t),e},t.prototype._getToken=function(){return this._manager.getToken()},t}(),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype._init=function(){var t=this;document.addEventListener("click",(function(e){if(e.target){var n=e.target;if(n.tagName===P){if(!(r=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")}(n)))return;if(r.type!==S&&r.type!==T)return}var r=t.getElementInfo(n);e=N(N({},r),{type:"click",timestamp:Date.now(),text:t._getText(n),clickable:!0,subPageToken:t._getToken(),xPos:e.clientX,yPos:e.clientY});t._manager.getReport().report(e)}}),{passive:!0,capture:!0})},e.prototype._getText=function(t){return t.tagName!==w||(t=t.options[t.selectedIndex])?(t.textContent||"").trim().slice(0,20):""},e}(F),z="__uepExposureData",Y=function(t){function e(e){return t.call(this,e)||this}return M(e,t),e.prototype._init=function(){this._checkExposure=B(this.checkExposure.bind(this),500,{leading:!1,trailing:!0}),this.checkExposure();var t,e=window.MutationObserver||window.WebKitMutationObserver;!e||(t=document.querySelector("body"))&&(new e(this._checkExposure).observe(t,{attributes:!0,childList:!0,subtree:!0}),document.addEventListener("scroll",this._checkExposure,{capture:!0,passive:!0}))},e.prototype.checkExposure=function(){for(var t=document.querySelectorAll("[data-aspm-expo]"),e=0;t.length>e;e++)this.exposureEleHandle(t[e])},e.prototype.exposureEleHandle=function(t){t[z]||(t[z]={show:!1,percent:0});var e,n=this.checkEleExpoPercent(t),r="none";r=n>0?"start":"end";t[z].percent!==n&&(e=this.getElementInfo(t),r=N(N({},e),{percent:n,type:"exposure",subPageToken:this._getToken(),timestamp:Date.now(),state:r}),this._manager.getReport().report(r),t[z].percent=n)},e.prototype.checkEleExpoPercent=function(t){var e=t.clientWidth;if(0>=(c=t.clientHeight)||0>=e)return 0;var n=t.getBoundingClientRect(),r=n.left,i=n.top,o=n.right,a=n.bottom,c=window.innerHeight;e=window.innerWidth;return 0>a||i>c||0>o||r>e?0:(t=Math.max(0,i),n=Math.max(0,r),c=Math.min(c,a),Math.floor((t=(Math.min(e,o)-n)*(c-t))/(i=(o-r)*(a-i))*100))},e}(F),V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._curInputtingElement=null,e._originalValue=null,e._eleType="",e}return M(e,t),e.prototype._init=function(){document.addEventListener("focus",this._focusEvent.bind(this),{passive:!0,capture:!0}),document.addEventListener("blur",this._blurEvent.bind(this),{passive:!0,capture:!0})},e.prototype._focusEvent=function(t){var e=t.target;t="";e.tagName===_?t="textarea":e.tagName!==b||e.type!==E&&e.type!==A&&e.type!==O&&e.type!==x&&e.type!==I&&e.type!==C||(t="text"),""!==t&&(this._curInputtingElement=e,this._originalValue=e.value,this._eleType=t)},e.prototype._clearCache=function(){this._curInputtingElement=null,this._originalValue=null,this._eleType=""},e.prototype._blurEvent=function(t){var e=t.target;this._curInputtingElement===e&&(t=this.getElementInfo(e),e=N(N({},t),{subPageToken:this._getToken(),type:"input",inputType:this._eleType,timestamp:Date.now(),changed:this._originalValue!==e.value}),this._manager.getReport().report(e)),this._clearCache()},e}(F),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype._init=function(){var t=this,e=!1,n=D((function(){(e=!e)&&setTimeout((function(){n()}),0);var r=t.getElementInfo(document.documentElement);t._manager.getReport().report(N(N({},r),{timestamp:Date.now(),type:"scroll",subPageToken:t._getToken(),state:e?"start":"end",xOffset:window.scrollX,yOffset:window.scrollY}))}),500,{leading:!0,trailing:!0});document.addEventListener("scroll",n)},e}(F),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype._init=function(){function t(t){return function(n){n={state:t,xPos:(n=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||{}).clientX,yPos:n.clientY,subPageToken:e._getToken(),type:"touch",timestamp:Date.now()},e._manager.getReport().report(n)}}var e=this;document.addEventListener("touchstart",t("start"),{passive:!0,capture:!0}),document.addEventListener("touchend",t("end"),{passive:!0,capture:!0})},e}(F),q=function(t){function e(e,n){return void 0===n&&(n={}),(e=t.call(this,e)||this).tracert=n,e}return M(e,t),e.prototype._init=function(){this._cacheURL=window.location.href,this._reportPV(this._cacheURL,!1)},e.prototype._reportPV=function(t,e){void 0===e&&(e=!0);var n=(o=this._manager.getConfig()).getSpmAPos(),r=o.getSpmBPos(),i=o.getBizType(),o=void 0===(c=(a=window.AlipayJSBridge.startupParams).appId)?"":c,a=void 0===(c=a.appVersion)?"":c,c=(this.tracert||window.Tracert||{})._v;c={sdkVersion:k,timestamp:Date.now(),subPageToken:this._getToken(),url:t,params:{tracertVersion:c}};n&&r&&(c.spm=n+"."+r),i&&(c.bizCode=i),o&&(c.appId=o),a&&(c.appVersion=a),this._manager.getReport().reportPV(c,e)},e}(F),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype._init=function(){document.addEventListener("change",this._changeHandle.bind(this),{passive:!0,capture:!0})},e.prototype._changeHandle=function(t){var e=t.target;t="";e.tagName===w?t="select":e.tagName===b&&(e.type===S?t="checkbox":e.type===T&&(t="radio")),""!==t&&(e=this.getElementInfo(e),t=N(N({},e),{type:"input",subPageToken:this._getToken(),inputType:t,timestamp:Date.now(),changed:!0}),this._manager.getReport().report(t))},e}(F),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype._init=function(){var t=this;window.addEventListener("unload",(function(){t._manager.getReport().flushData()}),{passive:!0,capture:!0})},e}(F);var $,Q,G,Z=(Q=function(t){function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return 1;if(c(t)&&0===t.length)return 1;if("string"!=typeof t){for(var n in t)if(e(t,n))return;return 1}}function r(t){return a.call(t)}function i(t){var e=parseInt(t);return""+e===t?e:t}function o(t){t=t||{};var o=function(t){return Object.keys(o).reduce((function(e,n){return"create"===n||"function"==typeof o[n]&&(e[n]=o[n].bind(o,t)),e}),{})};function a(n,r){return t.includeInheritedProps||"number"==typeof r&&Array.isArray(n)||e(n,r)}function s(t,e){if(a(t,e))return t[e]}function u(t,e,n,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return u(t,e.split(".").map(i),n,r);var o=e[0],a=s(t,o);return 1===e.length?(void 0!==a&&r||(t[o]=n),a):(void 0===a&&(t[o]="number"==typeof e[1]?[]:{}),u(t[o],e.slice(1),n,r))}return o.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var o=0;r.length>o;o++){var a=i(r[o]);if(!("number"==typeof a&&c(n)&&n.length>a||(t.includeInheritedProps?a in Object(n):e(n,a))))return!1;n=n[a]}return!0},o.ensureExists=function(t,e,n){return u(t,e,n,!0)},o.set=u,o.insert=function(t,e,n,r){var i=o.get(t,e);r=~~r,c(i)||o.set(t,e,i=[]),i.splice(r,0,n)},o.empty=function(t,e){var i,s,u;if(!n(e)&&null!=t&&(i=o.get(t,e))){if("string"==typeof i)return o.set(t,e,"");if("boolean"==typeof(u=i)||"[object Boolean]"===r(u))return o.set(t,e,!1);if("number"==typeof i)return o.set(t,e,0);if(c(i))i.length=0;else{if("object"!=typeof(u=i)||"[object Object]"!==r(u))return o.set(t,e,null);for(s in i)a(i,s)&&delete i[s]}}},o.push=function(t,e){var n=o.get(t,e);c(n)||o.set(t,e,n=[]),n.push.apply(n,Array.prototype.slice.call(arguments,2))},o.coalesce=function(t,e,n){for(var r,i=0,a=e.length;a>i;i++)if(void 0!==(r=o.get(t,e[i])))return r;return n},o.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return o.get(t,e.split("."),n);var r=i(e[0]),a=s(t,r);return void 0===a?n:1===e.length?a:o.get(t[r],e.slice(1),n)},o.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return o.del(t,e.split("."));var r=i(e[0]);return a(t,r)?1!==e.length?o.del(t[r],e.slice(1)):(c(t)?t.splice(r,1):delete t[r],t):t},o}var a,c;t.exports=(a=Object.prototype.toString,c=Array.isArray||function(t){return"[object Array]"===a.call(t)},(t=o()).create=o,t.withInheritedProps=o({includeInheritedProps:!0}),t)},Q(G={exports:{}},G.exports),G.exports);!function(t){t.Global="global",t.QueryString="queryString",t.Element="element"}($=$||{});var tt=/(\.h5app)?\.alipay\.(com|net)$/,et=["render","shandie"],nt=function(){function t(){var t=this;this._isRenderPage=!1,this._statusCheckResult={},this._statusRuleTypes=[$.Global,$.QueryString,$.Element],this._statusRuleProcessConfig={global:{getOriginValue:function(t){return Z.get(window,t)},checkValue:function(t,e){return t===e}},queryString:{getOriginValue:function(e){return t._getParamValue(e)},checkValue:function(t,e){return t===e}},element:{checkValue:function(t){return(t=document.querySelectorAll(t))&&t.length}}};var e=this._configServiceKey(),n=location.host;tt.test(n)&&window.AlipayJSBridge.call("configService.getConfig",{configKey:e},(function(e){try{t._statConfigs=e&&e.configKey?JSON.parse(e.configKey):null}catch(e){t._console("info","[UEP] getPageStatusConfigs error:",e)}}))}return t.prototype._getParamValue=function(t){var e="";t=RegExp("(?:\\b"+t+"=)([^&]*)");return(t=(location.search||"").match(t))&&(e=t[1]),e},t.prototype._configServiceKey=function(){var t=location.host,e=location.pathname,n=location.hash,r=t.split(".")[0]||"default";return this._pageId=e+(n?"_"+n.slice(1):""),tt.test(t)&&(r=t.replace(tt,""),et.indexOf(r)>-1&&(this._isRenderPage=!0,r=r+"_"+e.replace(/\//g,"")+"_"+n.slice(1))),r},t.prototype._ruleValuePreProgress=function(t){var e=[];return t.split("||").map((function(t){e.push(t.split("&&"))})),e},t.prototype._statusRuleHandler=function(t){var e={key:t[0],ruleValue:t[1],type:t[2]},n=this._statusRuleProcessConfig[t[2]],r=!n.getOriginValue||n.getOriginValue(t[0]);if(!(e.pageValue=r))return!1;for(var i=this._ruleValuePreProgress(t[1]),o=!1,a=0;i.length>a;a+=1){for(var c=!1,s=i[a],u=0;s.length>u;u+=1){var l=s[u].trim(),f=!1;if(/^!/.test(l)&&(f=!0,l=l.substr(1)),!(c=!f==!!n.checkValue(l,r)))break}if(o=c)break}return e.checkRes=o,this._statusCheckResult[this._pageStatusChecking]||(this._statusCheckResult[this._pageStatusChecking]=[]),this._statusCheckResult[this._pageStatusChecking].push(e),o},t.prototype._ruleValidate=function(t){var e=3===t.length,n=t[1]&&!/^\|\|/.test(t[1]);t=this._statusRuleTypes.indexOf(t[2])>-1;return e&&n&&t},t.prototype._pageStatusRulesCheck=function(t){var e=!0;if(t&&t.length)for(var n=0;t.length>n;n+=1){var r=!1,i=t[n];if(this._ruleValidate(i)&&(r=this._statusRuleHandler(i)),!(e=r))break}return e},t.prototype.pageStatusIdentify=function(){var t="default",e=this._statConfigs;if(this._isRenderPage||(e=this._statConfigs&&this._statConfigs[this._pageId]),!e)return"";try{this._statusCheckResult={};for(var n=Object.keys(e),r=0;n.length>r;r+=1)if(this._pageStatusChecking=n[r],this._pageStatusRulesCheck(e[this._pageStatusChecking])){t=this._pageStatusChecking;break}}catch(e){t="",this._console("info","[UEP] pageStatusIdentify error:",e)}return this._console("info","[UEP] __uep_page_status__ result: "+t),this._getParamValue("__uep_debug__")&&this._console("info","[UEP] __uep_debug__: "+JSON.stringify(this._statusCheckResult,null,2)),t},t.prototype._console=function(t){for(var e=[],n=1;arguments.length>n;n++)e[n-1]=arguments[n];console&&"function"==typeof console[t]&&console[t].apply(console,e)},t}(),rt=function(){function t(t){this._manager=t,this._cacheData=[],this._doFlushData=B(this.flushData.bind(this),500,{leading:!1})}return t.prototype.report=function(t){var e;(e=(e=this._manager.getPageStatus())&&e.pageStatusIdentify())&&(t.params||(t.params={}),t.params.__uep_page_status_=e),this._cacheData.push(N({},t)),"click"===t.type?this.flushData():this._doFlushData()},t.prototype.flushData=function(){this._cacheData.length&&(this._manager.getBridge().call("handleUEPEvent",{eventArray:this._cacheData}),this._cacheData=[])},t.prototype.reportPV=function(t,e){this._manager.getBridge().call("reportUEPData",{type:"h5",update:e,uep:N({},t)})},t}(),it=function(){function e(e){var n=this;this._token=Date.now()+"",this._uepReport=new rt(this),this._uepConfig=new y(this),this._bridge=new t,this._bridge.ready().then((function(){n._bridge.isH5Env()&&n._init(e)}))}return e.prototype._init=function(t){this._uepPageStatus=new nt,this._pvFeature=new q(this,t),this._clickFeature=new H(this),this._exposureFeature=new Y(this),this._inputFeature=new V(this),this._scrollFeature=new J(this),this._touchFeature=new W(this),this._changeFeature=new K(this),this._unloadFeature=new X(this)},e.prototype.getReport=function(){return this._uepReport},e.prototype.getConfig=function(){return this._uepConfig},e.prototype.getToken=function(){return this._token},e.prototype.getBridge=function(){return this._bridge},Object.defineProperty(e.prototype,"version",{get:function(){return k},enumerable:!1,configurable:!0}),e.prototype.getPageStatus=function(){return this._uepPageStatus},e}(),ot=function(t,e){return(t=t||window.Tracert)._uep||(t._uep=new it(t)),e(),t};function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ut(t,e,n){if(t){var r=e||window.document;r.addEventListener?r.addEventListener(t,n,3>=arguments.length||void 0===arguments[3]||arguments[3]):r.attachEvent?r.attachEvent("on".concat(t),n):r[t]=n}}function lt(t,e,n){if(t){var r=e||window.document;r.removeEventListener?r.removeEventListener(t,n,3>=arguments.length||void 0===arguments[3]||arguments[3]):r.detachEvent?r.detachEvent("on".concat(t),n):r[t]=n}}function ft(t,e,n){var r=3>=arguments.length||void 0===arguments[3]||arguments[3];return ut(t,e,n,r),function(){lt(t,e,n,r)}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wt(r.key),r)}}function mt(t,e,n){return e&&ht(t.prototype,e),n&&ht(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vt(t,e,n){return(e=wt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t){return function(t){if(Array.isArray(t))return pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}var Pt=function(){var t,e,n;((null===(t=window.Tracert)||void 0===t?void 0:t.debug)||(null===(e=window._to)||void 0===e?void 0:e.debug))&&(n=console).error.apply(n,["TRACERT_ERROR"].concat(Array.prototype.slice.call(arguments)))},Et=function(){var t,e,n;((null===(t=window.Tracert)||void 0===t?void 0:t.debug)||(null===(e=window._to)||void 0===e?void 0:e.debug))&&(n=console).warn.apply(n,["TRACERT_WARN"].concat(Array.prototype.slice.call(arguments)))};function St(t,e){t&&(e||Et("当前页面尚未配置 spmb，请参考以下文章进行配置：https://yuque.antfin-inc.com/tracert/4.x/unwecdc4z7n0g4bx#AufIe；如项目无需埋点，请忽略此提示"))}function Tt(t){"interactive"===document.readyState||"complete"===document.readyState?t():ut("DOMContentLoaded",document,t)}function At(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in t){if(t.hasOwnProperty(r))n[0===r.indexOf(e)?r:e+r]=t[r]}return n}function Ot(t,e){var n=t||{};for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(n[r]=e[r]);return n}function It(t,e){var n="";try{n=RegExp("(?=\\?|\\&|\\b|^)".concat(t,"\\=(.+?)(?=\\&|$)")).exec(e),n=decodeURIComponent(n=n?"".concat(n[1]):"")}catch(t){Et(t)}return n}function xt(t){var e=window.AlipayJSBridge;return e&&e.startupParams&&e.startupParams[t]}function Ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.search;if(!t)return"";var n="";return""===(n=It(t,e))&&(n=xt(t)),n}var kt="_TRACERT_COOKIE_";function jt(t){Et("Tracert deprecated：".concat(t))}function Mt(t,e,n){var r=void 0,i=void 0;try{return"function"==typeof e?i=e:r=e,void 0!==n&&(r=n),JSON.parse(t,i)}catch(t){return r}}function Nt(){}var Lt=Ot;function Dt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^",r=[];if(t instanceof Array)r=t;else if(t instanceof Object)for(e in t)t.hasOwnProperty(e)&&r.push("".concat(e,"=").concat(t[e]));return r.join(n)}function Bt(t){if("string"!=typeof t)return null;var e=t.split(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^");if(-1===t.indexOf("="))return e;for(var n,r=e.length,i={},o=0;r>o;o++)if(n=e[o]){var a=n.indexOf("=");if(a>0){var c=n.substring(0,a),s=n.substr(a+1)||"";i[c]=s}}return i||{}}function Rt(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,"".concat(t.getFullYear()).substr(4-RegExp.$1.length))),n)RegExp("(".concat(r,")")).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[r]:"00".concat(n[r]).substr("".concat(n[r]).length)));return e}function Ut(t){return t?encodeURIComponent(t).replace(/'/g,"%27"):t}var Ft=Dt,Ht={AUTO:"auto",MIX:"mix",MANUAL:"manual"},zt={CLICK:"clicked",EXPOSURE:"exposure",INPUT:"input",SCROLL:"scroll",TOUCH:"touch"},Yt=[zt.CLICK,zt.EXPOSURE,zt.INPUT,zt.SCROLL,zt.TOUCH],Vt={DISAPPEAR:0,START:1,HAFT:2,WHOLE:4,EXPOSURED:8},Jt="data-aspm",Wt="data-aspm-click",qt="data-ascm",Kt="data-new-ascm",Xt="data-aspm-entityid",$t="data-aspm-slrc",Qt=Object.freeze({__proto__:null,INPUT_TYPE:{NONE:"",TEXT:"text",SELECT:"select",TEXTAREA:"textarea",CHECKBOX:"checkbox",RADIO:"radio"},TAG_NAME:{INPUT:"INPUT",SELECT:"SELECT",TEXTAREA:"TEXTAREA",LABEL:"LABEL"},INPUT_ELEMENT_TYPES:{TEXT:"text",TEXTAREA:"textarea",CHECKBOX:"checkbox",RADIO:"radio",PASSWORD:"password",URL:"url",EMAIL:"email",TEL:"tel",FILE:"file",SEARCH:"search",NUMBER:"number",DATETIME:"datetime",DATE:"date",MONTH:"month",WEEK:"week",DATETIME_LOCAL:"datetime-local",RANGE:"range"},COMBINE_TYPE:Ht,EVENT_TYPE:zt,EVENT_TYPES:Yt,APP_TYPE:{AP:"alipay",TB:"taobao",FM:"idlefishx",TM:"tmall",QN:"qianniu",LX:"fliggy",KB:"koubei",AM:"koubeimerchant",AFW:"afwealth",ELMC:"elemec"},SPM_CHECK_COVER:{NONE:"none",TITLE_BAR:"titleBar",STICKY:"sticky"},EXPO_AREA_STATE:Vt,DATA_ASPM:Jt,DATA_ASPM_CLICK:Wt,DATA_ASPM_EXPO:"data-aspm-expo",DATA_ASPM_PARAM:"data-aspm-param",DATA_ASPM_VISUAL:"data-aspm-visual",DATA_ASCM:qt,DATA_NEW_ASCM:Kt,DATA_ASPM_UEP:"data-aspm-uep",DATA_ASPM_A:"data-aspm-a",DATA_ASPM_B:"data-aspm-b",DATA_ASPM_C:"data-aspm-c",DATA_ASPM_D:"data-aspm-d",DATA_ASPM_ENTITYID:Xt,DATA_ASPM_SLRC:$t});function Gt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}var Zt=Lt,te=Ft;function ee(t,e){var n=t||{},r=e||{};if(!r.spmId||"mergeExpose"!==r.actionId)return n;if(3===r.spmId.split(".").length){var i=r.spmId;n[i]||(n[i]={},n[i]=Zt({},r))}return n}function ne(t,e){var n=t||{},r=e||{};if(!r.spmId||"mergeExpose"!==r.actionId)return null;if(3===r.spmId.split(".").length){var i=r.spmId;n[i]||(n[i]={});var o="";r.param4&&r.param4.rid?(o=r.param4.rid,delete r.param4.rid):o="",n[i][o]||(n[i][o]=[]),n[i][o].push(r.param4)}return n}function re(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=["fullURL","mBizScenario","mPageState","mPageName","version"];if("object"===_t(t))for(var o in t)if(t.hasOwnProperty(o)){var a={};e?a=Zt(a,e[o]):(a.spmId=o,a.actionId="mergeExpose");var c=[];if(t[o].options)a.param4=te(t[o].options.param4);else{for(var s in t[o])if(t[o].hasOwnProperty(s)){for(var u=[],l=t[o][s],f=0;l.length>f;f++){var p=[],d=l[f];for(var h in d)d.hasOwnProperty(h)&&-1===i.indexOf(h)&&p.push("".concat(h,"|").concat(d[h]));u.push(p.join(";"))}c.push("rid|".concat(s,":").concat(u.join("&")))}a.param4="exposed=".concat(c.join("__"))}r.push({ExObj:a,currentConfig:n})}return r}function ie(t,e,n,r,i){var o,a,c=0,s=Vt.DISAPPEAR;if(t&&(s=1===e?Vt.WHOLE:.5>e?Vt.START:Vt.HAFT,c=Math.floor(100*e),s===Vt.START&&"number"==typeof n.endExpoPercent&&n.endExpoPercent>=e&&(null===(o=r[n._instanceId])||void 0===o||null===(a=o[i])||void 0===a?void 0:a.percent)>c)){var u,l,f,p,d=r.getAttribute("data-aspm-expo-end-percent"),h=null===(u=r.parentNode)||void 0===u||null===(l=u.getAttribute)||void 0===l||null===(f=l.call(u,"class"))||void 0===f||null===(p=f.indexOf)||void 0===p?void 0:p.call(f,n.swiperSlideCommonClassName);(d||"number"==typeof h&&-1!==h)&&(s=Vt.DISAPPEAR,c=0)}return{nextStatus:s,percent:c}}function oe(t,e,n,r){var i=ae(t,e,n._instanceId),o=i.status;return ce(r,o)?null:{oldStatus:o,expoElDs:i}}function ae(t,e,n){t[n]||(t[n]={}),t[n][e]||(t[n][e]={uuid:Gt(),status:0,percent:0,direction:[-1,-1]});var r=t[n][e];return r.direction=r.direction||[-1,-1],t[n].current=e,r}function ce(t,e){return 0===t?!(7&e):t===(e&t)}function se(t,e){return t!==Vt.DISAPPEAR?e|t:ue(e)?Vt.EXPOSURED:e>>3<<3}function ue(t){return!!(t&(Vt.HAFT|Vt.WHOLE))}var le=["A","AREA"];function fe(t){var e,n;try{return e=[].slice.call(t)}catch(i){e=[],n=t.length;for(var r=0;n>r;r++)e.push(t[r]);return e}}function pe(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""}function de(t){return null!==t&&"object"===_t(t)&&1===t.nodeType}function he(t){return!(!t||!de(t)||t===document.body||t===document.documentElement)}function me(t,e){for(var n,r,i,o,a,c=e||document,s=fe(t||c.getElementsByTagName("meta")),u=s.length,l=0;u>l;l++){switch(r=pe(n=s[l],"name"),i=pe(n,"content"),r){case Jt:a=i;break;case"data-bizType":o=i}if(a&&o)break}var f={};return a&&(f.spmAPos=a),o&&(f.bizType=o),f}function ve(){return pe(document.body,Jt)}function ge(t){var e=t;if(!he(e))return"";for(var n="";e&&e!==document.body&&!(n=pe(e,Jt));)e=e.parentNode;return n}function ye(t){var e=t;if(!he(e))return"null";do{if(-1!==le.indexOf(e.tagName)||e.hasAttribute(Wt))return e}while((e=e.parentNode)&&e&&e.tagName&&"BODY"!==e.tagName&&e!==document.body&&!pe(e,Jt));return null}function be(t){var e=t;if(!he(e))return"";if(-1!==le.indexOf(e.tagName)||e.hasAttribute(Wt)||(e=ye(e)),!e)return"";var n=pe(e,Wt),r=e.tagName;if(("string"==typeof n||-1!==le.indexOf(r))&&!n){var i=0,o=e;do{de(o)&&r===o.tagName&&i++,o=o.previousSibling}while(o);n=i}return"".concat(n)}function we(t){return Bt(t&&t.getAttribute?t.getAttribute("data-aspm-param"):"")||{}}function _e(t){return Bt(t&&t.getAttribute?t.getAttribute("data-aspm-config"):"")||{}}function Pe(t){if(!t||!t.hasAttribute)return{};if(!t.hasAttribute("data-aspm-content"))return{};var e=t.getAttribute("data-new-chinfo")||t.getAttribute("data-anewChinfo")||"",n=t.getAttribute(Kt)||"",r=t.getAttribute(qt)||n;return t[qt]=t.getAttribute(qt),t[Kt]=n,{param5:"newChinfo=".concat(e,"^scm=").concat(r),newScm:n}}function Ee(t){if(!t||!t.hasAttribute)return"";if(!t.hasAttribute(Xt))return"";var e=t.getAttribute(Xt);return t[Xt]=e,e}function Se(t){return t&&1===t.nodeType&&"BODY"!==t.tagName&&"HTML"!==t.tagName?"function"==typeof t.getAttribute&&t.getAttribute("id")?"#".concat(t.getAttribute("id")):"string"==typeof t.className&&t.className?".".concat(t.className.split(/\s+/).join(" .")):"":""}function Te(t){if(!t)return"";for(var e=[];t&&1===t.nodeType&&"BODY"!==t.tagName&&"HTML"!==t.tagName;){for(var n=1,r=t.previousSibling;r;)r.localName===t.localName&&n++,r=r.previousSibling;e.unshift("".concat(t.localName.toLowerCase(),"[").concat(n,"]")),t=t.parentNode}return e.length?"/".concat(e.join("/")):""}function Ae(t){return t&&t.tagName&&"string"==typeof t.tagName?t.tagName:""}for(var Oe=Object.create(null),Ie="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot".split(","),xe=0;110>xe;xe++)Oe[Ie[xe]]=!0;function Ce(t){var e=t.getAttribute("src")||"",n=e.trim().substring(e.length-200);return{isBase64:0===e.indexOf("data:"),src:n}}function ke(t){if(!t||"function"!=typeof t.getAttribute&&"#text"!==t.nodeName)return{text:""};var e={};switch("string"==typeof t.nodeName?t.nodeName.toLowerCase():""){case"img":var n=je((t.getAttribute("alt")||"").trim()),r=Ce(t);e.text=n||r.src,r.isBase64||(e.src=r.src);break;case"source":var i=Ce(t);e.text=i.src,i.isBase64||(e.src=i.src);break;case"button":e.text=je(t.getAttribute("value")||t.textContent);break;case"svg":for(var o=t.children||[],a=0;o.length>a;a++){var c=o[a];if(c&&"use"===c.nodeName){e.text=je("function"==typeof c.getAttribute?c.getAttribute("xlink:href"):"");break}}break;default:e.text=je(t.textContent)}return e}function je(t){return"string"!=typeof t?"":/^(\d)|(\d)$/.test(t)?t.trim().substring(0,200).replace(/\d+/g,""):t.trim().substring(0,200)}function Me(t){return{text:t.map((function(t){return t.text})).join(""),src:t.filter((function(t){return t.src})).map((function(t){return t.src})).join("；")}}function Ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!t.children||1>t.children.length||"svg"===t.tagName)return Me([ke(t)]);for(var n=[],r=e>3?3:e,i=t.children[0];i&&r>n.length&&i!==t;){for(;i&&i.children&&i.children.length>0&&"svg"!==i.tagName;)i=i.children[0];var o=ke(i);if(o.text&&(n.push(o),n.length>=r))return Me(n);for(;i;){if(i.nextSibling){i=i.nextSibling;break}if(!(i=i.parentNode)||i===t)return Me(n)}}return Me(n)}function Le(t){var e=bt((null==t?void 0:t.childNodes)||[]),n=[];return e.forEach((function(t){3===t.nodeType&&n.push(t.textContent||"")})),JSON.stringify(n)}function De(){return Rt(new Date,"yyyy-MM-dd hh:mm:ss.S")}function Be(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ut(t.role_id||t.roleId||t.backupUserId||t.bucUserId||"")}var Re="180020010000000339";function Ue(t,e){if(!t||!e)return"";var n,r;Et("[Tracker]",t),n={code:11,msg:Ye(t),d1:ze(t),d2:Ve(t),d3:e.v,d4:He(e),d5:Fe(),d6:xt("appId"),fullURL:Je(),spm:He(e),spma:e.spmAPos||"",spmb:e.spmBPos||"",userId:Be(e)},qe({yuyan_id:Re,code:n.code,msg:n.msg,d1:n.d1,d2:n.d2,d3:n.d3,d4:n.d4,d5:n.d5,d6:n.d6,fullURL:n.fullURL,spm:r=n.spm,spma:n.spma,spmb:n.spmb},r,n.userId,n.sampleRate)}function Fe(){return navigator&&navigator.connection&&navigator.connection.effectiveType?Ut(navigator.connection.effectiveType):""}function He(t){if(!t)return"";var e=t.spmAPos||"",n=t.spmBPos||"";return e&&n?Ut("".concat(e,".").concat(n)):""}function ze(t){return t?Ut(t.name||""):""}function Ye(t){return t?Ut(t.message||""):""}function Ve(t){var e=t.stack,n=t.message,r=t.name,i=void 0===r?"":r,o=(void 0===e?"":e).replace(void 0===n?"":n,"");return(o=o.replace(i,""))&&o.length&&o.length>250&&(o=o.slice(0,250)),Ut(o)}function Je(){return location?Ut(location&&location.href||""):""}var We="";function qe(t,e,n,r){if(function(t){return Math.ceil(1e3*Math.random())<=t}(r||100)&&Xe()){var i=["D-AE",De(),"","","2","","",We||n,r||"100","102023","yuyanmonitorl","2",e,"","","","","","","","","","","","","","","","",navigator&&navigator.userAgent?Ut(navigator.userAgent.replace(/,/g,"-")):"","","","","","","",Object.keys(t).map((function(e){return"".concat(Ut(e),"=").concat(Ut(t[e]))})).join("^")],o=window.AlipayJSBridge;if(!We&&o&&"function"==typeof o.call)try{return void o.call("getUserInfo",(function(t){i[7]=We=t?t.userId:"",Ke(i)}))}catch(t){Et("[Tracker]",t)}Ke(i)}}function Ke(t){var e="https://collect.alipay.com/yuyan/";try{var n=Xe();n.open("POST","".concat(e,"?bizType=yuyanmonitorl"),!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("data=".concat(t,"&time=").concat((new Date).getTime()))}catch(n){try{(new Image).src="".concat("".concat(e,"?bizType=yuyanmonitorl"),"&data=").concat(t,"&time=").concat((new Date).getTime())}catch(t){Et("[Tracker]",t)}}}function Xe(){var t=null;try{t=new XMLHttpRequest}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}}}return t}function $e(t){var e={is:!1,name:"",version:""};try{var n=t.match(/AliApp\S+\b\)/gi);e.is=/(T-UA)|(TBIOS)|(WindVane)|(AliApp)/i.test(t),e.name=n?n[0].match(/\(\w+-*\w*/)[0].split("(")[1]:"",e.version=n?n[0].match(/(\d+\.*)+/gi)[0]:""}catch(t){}return e}function Qe(t){var e=function(t){return window?$e(t=t||window.navigator.userAgent):{name:"non-browser"}}(t);return["AF","AFW","BK","AM","APHK","KB","Snail"].indexOf(e.name)>-1}var Ge={},Ze="-1",tn=navigator&&navigator.userAgent||"",en=navigator&&navigator.appVersion||"",nn=navigator&&navigator.vendor||"";function rn(t){return Object.prototype.toString.call(t)}var on=[["wp",function(t){return-1!==t.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==t.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==t.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["ios",function(t){return/\bcpu(?: iphone)? os /.test(t)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==t.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["linux","linux"]],an=[["qq",/\bm?qqbrowser\/([0-9.]+)/],["ie",/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(t){return 0>t.indexOf("ucbrowser/")?/\buc\/[0-9]/.test(t)?/\buc\/([0-9.]+)/:0>t.indexOf("ucweb")?/\b(?:ucbrowser|uc)\b/:/\bucweb[\/]?([0-9.]+)?/:/\bucbrowser\/([0-9.]+)/}],["android",function(t){if(-1!==t.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/]];function cn(t,e,n){var r="[object Function]"===rn(e)?e.call(null,n):e;if(!r)return null;var i={name:t,version:Ze,codename:""};"android"===t&&(i.type=n.indexOf("Mobi")>-1?"phone":"pad"),"ios"===t&&(i.type=n.indexOf("iPhone")>-1?"phone":"pad");var o=rn(r);if(!0===r)return i;if("[object String]"===o){if(-1!==n.indexOf(r))return i}else{if(function(t){return"[object Object]"===rn(t)}(r))return r.hasOwnProperty("version")&&(i.version=r.version),i;if(r.exec){var a=r.exec(n);if(a)return i.version=a.length>=2&&a[1]?a[1].replace(/_/g,"."):Ze,i}}}var sn={name:"na",version:Ze};function un(t,e,n,r){var i=sn;!function(t,e){for(var n=0,r=t.length;r>n&&!1!==e.call(t,t[n],n);n++);}(e,(function(e){var n=cn(e[0],e[1],t);if(n)return i=n,!1})),n.call(r,i.name,i.version)}var ln=function(t){t=(t||"").toLowerCase();var e={};return un(t,on,(function(t,n){var r=parseFloat(n);e.os={name:t,version:r,fullVersion:n},e.os[t]=r}),e),un(t,an,(function(t,n){var r=parseFloat(n);e.browser={name:t,version:r,fullVersion:n},e.browser[t]=r}),e),e};(Ge=ln("".concat(tn," ").concat(en," ").concat(nn))).parse=ln,Ge._checkApp=$e,Ge.app=Ge._checkApp(tn);var fn=Ge,pn={},dn={},hn=null;var mn=(hn||(hn=new(function(){return mt((function t(){dt(this,t)}),[{key:"getEventSequence",value:function(t,e){return dn[e]||(dn[e]={}),dn[e]&&dn[e][t]?++dn[e][t]:dn[e]?(dn[e][t]=1,dn[e][t]):(dn[e]={},dn[e][t]=1,dn[e][t])}},{key:"getSequence",value:function(t){return pn[t]?++pn[t]:(pn[t]=1,pn[t])}}])}())),hn),vn="__tracert_event_sequence",gn={http:"http",AlipayJSBridge:"AlipayJSBridge"};Object.freeze(gn);var yn={autoClick:"autoClick",remoteLog:"remoteLog",pageMonitor:"pageMonitor",reportData:"reportData",semLog:"semLog",handleUEPEvent:"handleUEPEvent",reportUEPData:"reportUEPData"};function bn(t,e){var n=e.v,r=void 0===n?"":n,i=e._instanceId,o=t;if(o&&o.length){var a=o[0];"D-AE"===a&&(o[36]=wn(o[36],o[9],r,i)),"DW-COOKIE"===a&&(o[8]=wn(o[8],o[3],r,i))}return o}function wn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i="string"==typeof t,o=i?Bt(t):t;return o.sdkVersion=n,o.__tracert_sequence_id=r,o.__tracert_sequence=mn.getSequence(r),o[vn]=mn.getEventSequence(e,r),i?Dt(o):o}function _n(t){var e=t.tracert,n=t.type,r=t.jsApiType,i=void 0===r?"remoteLog":r,o=t.errorHandler;if(!e)throw Error("request tracert");var a,c,s,u=t.data,l=void 0===u?{}:u,f=e.server,p=e.taskId,d=e.verifyServer;switch(n){case gn.http:try{a=En(l=bn(l,e),p),c=Sn(f,l,e).url,s=Sn(d,l,e).url}catch(t){Ue(t,e)}Pn(a,c,e),p&&d&&Pn(a,s,e);break;case gn.AlipayJSBridge:try{l=function(t){var e=arguments.length>2?arguments[2]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.v,i=void 0===r?"":r,o=e._instanceId,a=void 0===o?"":o;return t===yn.autoClick&&(n.param||(n.param={}),n.param.param4||(n.param.param4={}),n.param.param4=wn(n.param.param4,"autoClick",i,a)),t===yn.remoteLog&&(n.param4||(n.param4=""),n.param4=wn(n.param4,n.actionId||"",i,a)),t===yn.pageMonitor&&(n.param||(n.param={}),n.param=wn(n.param,"pageMonitor",i,a)),t===yn.reportData&&(n.spmDetail||(n.spmDetail={}),n.spmDetail=wn(n.spmDetail,"reportData",i,a),n.spmDetail["".concat(vn,"_pageMonitor")]=mn.getEventSequence("pageMonitor",a)),n}(i,l,e)}catch(t){Ue(t,e)}!function(t,e,n,r){try{window&&window.AlipayJSBridge?window.AlipayJSBridge.call(e,t,(function(i){[1,4].indexOf(i.error)>-1&&(r&&r(t,n),Ue(Error("".concat(e||""," no permission or no exist")),n))})):my&&my.canIUse(e)?my.call(e,t):Ue(Error("AlipayJSBridge and my is empty, ".concat(e||"")),n)}catch(e){r&&r(t,n),Ue(e,n)}}(l,i,e,o);break;default:Pn(a=En(l,p),c=Sn(f,l,e).url,e)}}function Pn(t,e,n){var r=n.openSendBeacon;if(e)if(t)if(void 0!==r&&r&&function(){if(navigator&&navigator.sendBeacon&&"function"==typeof navigator.sendBeacon&&Blob&&"function"==typeof Blob)return!0;return!1}()){var i=new Blob([t],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e,i)}else!function(t,e){var n=Xe();n&&(n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(e))}(e,t);else Ue(Error("空数据"),n);else Ue(Error("请配置Tracert服务接收地址"),n)}function En(t,e){return Array.isArray(t)||(t=[]),e?"data=".concat(Ut(t.join()),"&time=").concat((new Date).getTime(),"&taskId=").concat(e):"data=".concat(Ut(t.join()),"&time=").concat((new Date).getTime())}function Sn(t,e,n){var r=n.bizType,i=n.spmAPos,o="",a=fn.os.name;if(a&&"na"!==a||(a="PC"),Array.isArray(e)||(e=[]),e&&e.length){var c=e[0];"D-AE"===c&&(r=e[10]||r,o=e[9]),"DW-COOKIE"===c&&(o=e[3])}return{url:"https://collect.alipay.com/dwcookie"===t||"https://loggwpre.alipay.com/dwcookie"===t?"".concat(t,"?biztype=").concat(r,"&eventid=").concat(o,"&productid=").concat(a,"&spmAPos=").concat(i):t,bizType:r,eventid:o,productid:a}}Object.freeze(yn);function Tn(t){if(!t||"#"===t)return!1;var e=t.substr(1);if("/"===e[0])return!1;var n=e.indexOf("?");-1!==n&&(e=e.substr(0,n));var r=document.getElementById(decodeURI(e));return null!=r}function An(t){var e=t.split("//"),n=e[0],r=e[1]||"",i=r.split("/")[0],o=i.split(":"),a=o[0],c=o[1]||"",s=r.replace(i,"").split("#"),u=s[0],l=s[1]||"",f=l?"#".concat(l):null,p=u.split("?"),d=p[0],h=p[1]||"",m={protocol:n,slashes:!0,auth:null,host:i,port:c||null,hostname:a,hash:f,search:h?"?".concat(h):null,query:h||null,pathname:d,path:u,href:t,hashIsAnchor:Tn(f),format:function(){return"".concat(m.protocol,"//").concat(m.host).concat(m.path).concat(m.hash||"")}};return m}var On={parse:An,isAnchor:Tn};function In(t){return"string"==typeof t&&(0===t.indexOf("/")&&-1===t.indexOf("."))}function xn(t,e){return!(!e||"auto"!==e.combineType)||"string"==typeof t&&In(t.split(".")[1])}var Cn=Qe(),kn=1,jn=0,Mn="__uepElementId",Nn=[],Ln=[];function Dn(t,e){_n({tracert:e,type:gn.AlipayJSBridge,data:t,jsApiType:yn.remoteLog})}function Bn(t,e){t.combineEventArray&&t.combineEventArray.forEach((function(n){delete n.uep,n.context=t.context,Dn(n,e)}))}var Rn=!1;function Un(){document&&!Rn&&(ut("pause",document,(function(t){window.Tracert&&Hn(!0,window.Tracert)}),!1),Rn=!0)}function Fn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;Cn?Bn(t,e):_n({tracert:e,type:gn.AlipayJSBridge,data:t,jsApiType:yn.handleUEPEvent,errorHandler:Bn})}function Hn(){var t=arguments.length>1?arguments[1]:void 0;arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Nn.length+Ln.length>=10?(jn&&(clearTimeout(jn),jn=null),0===Nn.length&&0===Ln.length||(Nn.length&&(Fn({eventArray:[].concat(Nn)},t),Nn.length=0),Ln.length&&(Fn({combineEventArray:[].concat(Ln)},t),Ln.length=0))):jn||(jn=setTimeout((function(){jn=null,Hn(!0,t)}),240))}function zn(t){return t&&"string"!=typeof t&&t.getAttribute&&t.setAttribute?(t.getAttribute(Mn)||t.setAttribute(Mn,"".concat(kn++)),t.getAttribute(Mn)):""}function Yn(t,e,n){switch(t.actionId){case"exposure":return function(t){var e=arguments.length>2?arguments[2]:void 0,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},r=n.spmId,i={state:(null==e?void 0:e.expoState)||"end",percent:n.percent||0,text:""};if("string"==typeof r&&4===r.split(".").length){var o=Ne(t);i.text=o.text,i.src=o.src}return{paramsByEvent:i}}(e,t,n);case"clicked":return function(t){if(!t)return null;var e,n=t.target||t.srcElement,r=document.documentElement.scrollHeight||0,i=document.documentElement.scrollWidth||0,o={width:null==n?void 0:n.clientWidth,height:null==n?void 0:n.clientHeight};return n&&"function"==typeof n.getBoundingClientRect&&(o=n.getBoundingClientRect()),{paramsByEvent:yt(yt({},Ne(n)),{},{xPos:~~t.pageX,yPos:~~t.pageY,clickable:(e=n,!e||!e.hasAttribute||!e.hasAttribute("disabled")),childrenText:Le(n)}),extParamsByEvent:{scrollWidth:i,scrollHeight:r,width:o.width||0,height:o.height||0}}}(e)}return t}function Vn(t,e){var n=be(t),r="";if(!e.spmAPos||!e.spmBPos||!n)return"";var i=n.split("."),o=!0;if(1===i.length)i.unshift(ge(t));for(var a=0;2>a;a++)if(!i[a]){o=!1;break}o&&(r=[e.spmAPos,e.spmBPos].concat(i).join("."));return r}function Jn(t){var e=Pe(t);return e&&e.param5?e.newScm||Bt(e.param5).scm:""}function Wn(t){var e=t.params,n=t.event,r=t.context,i=t.combineType,o=t.sdkParams,a=void 0===o?{}:o,c=n?n.target||n.srcElement||n:null,s=e.spm||Vn(c,r),u=s&&we(c),l=yt({timestamp:Date.now(),spm:s,scm:s&&Jn(c),entityId:s&&Ee(c),params:yt({},u),combineType:i||Ht.AUTO,xpath:Te(c),selector:Se(c),target:zn(c),sdkParams:yt({sdkVersion:r.v,sdkVersionForTracert:r.v},a)},e);xt("uepCombineMode")||delete l.combineType,Nn.push(l),Rn||Un(),Hn(!1,r)}function qn(t){var e=t.params,n=void 0===e?{}:e,r=t.context,i=t.currentConfig,o=void 0===i?{}:i;if(-1!==Yt.indexOf(n.actionId)){var a,c=n.actionId,s=void 0===c?n.type:c,u=n.entityId,l=void 0===u?"":u,f=o.event,p=void 0===f?{}:f,d=o.spmDom,h=o.combineType,m=o.bizType,v=o.aspmUep,g=o.expoTimeInfo;p.nodeName||p.nodeType?a=p:p.type&&(a=p.target||"");var y=n.param4?Bt(n.param4):null,b=Yn(n,p,o),w=b.paramsByEvent,_=void 0===w?{}:w,P=b.extParamsByEvent,E=void 0===P?{}:P,S=_.src;delete _.src;var T=yt(yt(yt({},_),E),{},{spm:n.spmId,scm:n.newScm||n.scm,type:s===zt.CLICK?"click":s,timestamp:n.eventTime,xpath:Te(a),selector:Se(a),target:zn(d||a),params:yt(yt({},y),{},{scrollWidth:E.scrollWidth,scrollHeight:E.scrollHeight}),bizCode:m||n.bizType,combineType:h||"manual",sdkParams:{sdkVersion:r.v,dpr:window.devicePixelRatio||1,techType:"h5",sdkVersionForTracert:r.v,useScriptForTracert:r._useScript,childrenText:_.childrenText}});l&&(T.entityId=l),S&&(T.sdkParams.src=S),"1"===v&&(T.sdkParams.aspmUep=v),n.tagSpmPage&&(T.sdkParams.tagSpmPage=n.tagSpmPage);var A="sdkVersion=".concat(r.v,"^sdkVersionForTracert=").concat(r.v,"^techType=h5^useScriptForTracert=").concat(r._useScript);if(g){var O=Date.now()-g.startTime,I=g.logCount;T.sdkParams=yt({expoLogCostTime:O,expoLogCount:I},T.sdkParams),A="".concat(A,"^expoLogCostTime=").concat(O,"^expoLogCount=").concat(I)}n.param5=n.param5?"".concat(n.param5,"^").concat(A):A,n.spmId&&(d||a&&(a.nodeName||a.nodeType))&&(T.sdkParams.isMarked=!0,n.param5="".concat(n.param5,"^isMarked=true"));var x=(Bt(n.param5)||{}).slrc;x&&"string"==typeof x&&(T.sdkParams.slrc=x);var C=(Bt(n.param5)||{}).newChinfo;C&&"string"==typeof C&&(T.sdkParams.newChinfo=C),s===zt.EXPOSURE&&(T.sdkParams.mmaExpo=o.mmaExpo||!1),delete n.newScm;var k=xt("uepCombineMode");k||delete T.combineType,!k||h===Ht.AUTO&&!o.isUpdateParam?Nn.push(T):Ln.push(yt(yt({},n),{},{uep:T})),Rn||Un(),Hn(!0!==o.canDelayLog,r)}else Dn(n,r)}function Kn(t,e){delete t.uep,_n({tracert:e,type:gn.AlipayJSBridge,data:t,jsApiType:yn.reportData})}function Xn(t){var e=_t(t);return null!=t&&("object"===e||"function"===e)}var $n="object"===("undefined"==typeof global?"undefined":_t(global))&&null!==global&&global.Object===Object&&global,Qn="object"===("undefined"==typeof globalThis?"undefined":_t(globalThis))&&null!==globalThis&&globalThis.Object==Object&&globalThis,Gn="object"===("undefined"==typeof self?"undefined":_t(self))&&null!==self&&self.Object===Object&&self,Zn=Qn||$n||Gn||Function("return this")();function tr(t,e,n){var r,i,o,a,c,s,u=0,l=!1,f=!1,p=!0,d=!e&&0!==e&&"function"==typeof Zn.requestAnimationFrame;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function m(t,e){return d?(Zn.cancelAnimationFrame(c),Zn.requestAnimationFrame(t)):setTimeout(t,e)}function v(t){var n=t-s;return void 0===s||n>=e||0>n||f&&t-u>=o}function g(){var t=Date.now();if(v(t))return y(t);c=m(g,function(t){var n=e-(t-s);return f?Math.min(n,o-(t-u)):n}(t))}function y(t){return c=void 0,p&&r?h(t):(r=i=void 0,a)}function b(){for(var t=Date.now(),n=v(t),o=arguments.length,p=Array(o),d=0;o>d;d++)p[d]=arguments[d];if(r=p,i=this,s=t,n){if(void 0===c)return function(t){return u=t,c=m(g,e),l?h(t):a}(s);if(f)return c=m(g,e),h(s)}return void 0===c&&(c=m(g,e)),a}return e=+e||0,Xn(n)&&(l=!!n.leading,o=(f="maxWait"in n)?Math.max(+n.maxWait||0,e):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&function(t){if(d)return Zn.cancelAnimationFrame(t);clearTimeout(t)}(c),u=0,r=s=i=c=void 0},b.flush=function(){return void 0===c?a:y(Date.now())},b.pending=function(){return void 0!==c},b}function er(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){for(var r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];var a=e?e.apply(this,i):i[0],c=n.cache;if(c.has(a))return c.get(a);var s=t.apply(this,i);return n.cache=c.set(a,s)||c,s};return n.cache=new(er.Cache||Map),n}er.Cache=Map;var nr,rr,ir=/\\(\\)?/g,or=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g");nr=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(or,(function(t,n,r,i){var o=t;r?o=i.replace(ir,"$1"):n&&(o=n.trim()),e.push(o)})),e},rr=er(nr,(function(t){var e=rr.cache;return 500===e.size&&e.clear(),t}));function ar(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Xn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),tr(t,e,{leading:r,trailing:i,maxWait:e})}function cr(t){return"[object Object]"===Object.prototype.toString.call(t)}function sr(t,e){var n=[],r=ar((function(){var e=[].concat(n);n.length=0,t(e)}),e,{leading:!1,trailing:!0});return function(t){t.forEach((function(t){n.push(t)})),r()}}function ur(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!r)return null;var i=new r(t),o=e||document.querySelector("body");return i.observe(o,n),i}function lr(){for(var t=0,e={};arguments.length>t;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var fr=function t(e){function n(t,r,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=lr({path:"/"},n.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(t){}r=e.write?e.write(r,t):encodeURIComponent(r+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(t+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s]));return document.cookie=t+"="+r+c}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;u.length>f;f++){var p=u[f].split("="),d=p.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var h=p[0].replace(l,decodeURIComponent);if(d=e.read?e.read(d,h):e(d,h)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(t===h){o=d;break}t||(o[h]=d)}catch(t){}}return o}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,e){n(t,"",lr(e,{expires:-1}))},n.withConverter=t,n}((function(){}));function pr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(e&&e.length>=400&&(n.cookie||!window.localStorage))return void Et("Tracert cookie set too long");if(window.localStorage)return void window.localStorage.setItem(t,e)}catch(t){}fr.set(t,e,n)}var dr=function(){return mt((function t(){dt(this,t)}),[{key:"set",value:function(){var t=[].slice.call(arguments);2>t.length?this._set(t):this._set(vt({},t[0],t[1]),t[2]||{})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="".concat(kt,"_").concat(t),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0;try{n=window.localStorage&&window.localStorage.getItem(t)||fr.get(t,e),fr.get(t,e)&&window.localStorage&&(window.localStorage.setItem(t,n),fr.remove(t,e))}catch(t){}return n}(r,e);return n&&function(t,e){try{window.localStorage&&window.localStorage.removeItem(t)}catch(t){}fr.remove(t,e)}(r),i}},{key:"_set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&0!==Object.keys(t).length)for(var n in t){if(t.hasOwnProperty(n))pr("".concat(kt,"_").concat(n),t[n],e)}}}])}(),hr=new dr,mr=function(){return mt((function t(){dt(this,t),this._iframe=null}),[{key:"initIframe",value:function(){if(this._iframe)return this._iframe;var t=document.createElement("iframe");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.left="-100px",t.style.bottom="-100px",t.style.width="-100px",t.setAttribute("src","https://tracert.alipay.com/cross.html"),t.onload=function(){t.style.display="none"};try{document.body.appendChild(t)}catch(t){}return this._iframe=t,t}}])}(),vr=new mr;var gr,yr=function(){return mt((function t(e){var n=this;dt(this,t),this.tracert=e,this.cache=[],this.cacheSize=0,this.interval=5e3,this.timer=null,this.originData=null,window.addEventListener("beforeunload",(function(){n.flush()}))}),[{key:"addData",value:function(t){t&&t.length||Ue(Error("空data数据"),this.tracert),this.originData||(this.originData=t);var e=Ut(t.join()),n=function(t){return t.split(/%..|./).length-1}(e);this.cacheSize+n>1048476?this.flush():this.startTimer(),this.cacheSize+=n,this.cache.push(e)}},{key:"startTimer",value:function(){var t=this;null===this.timer&&(this.timer=setTimeout((function(){t.flush()}),this.interval))}},{key:"clearTimer",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"flush",value:function(){if(this.cache.length){var t=bt(this.cache),e=this.tracert.server,n=function(t,e){var n=e.taskId,r=void 0===n?"":n;if(!t||t.length&&0===t.length)return void Ue(Error("空数据"),e);var i=null==t?void 0:t.join("$$");return r?"data=".concat(i,"&time=").concat((new Date).getTime(),"&taskId=").concat(r):"data=".concat(i,"&time=").concat((new Date).getTime())}(t,this.tracert);Pn(n,Sn(e,this.originData,this.tracert).url,this.tracert),this.cache.length=0,this.cacheSize=0,this.originData=null}this.clearTimer()}}])}();function br(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function wr(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Or(r.key),r)}}function _r(t,e,n){return(e=Or(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pr(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(n),!0).forEach((function(e){_r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tr(t){return function(t){if(Array.isArray(t))return t}(t)||Pr(t)||xr(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t){return function(t){if(Array.isArray(t))return br(t)}(t)||Pr(t)||xr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function xr(t,e){if(t){if("string"==typeof t)return br(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?br(t,e):void 0}}function Cr(t,e){e.setAttribute("data-aspm",t),e.setAttribute("data-aspm-expo","true")}function kr(t,e,n){e.setAttribute("data-aspm-click",t),!1!==n&&e.setAttribute("data-aspm-expo","true")}var jr=document,Mr=function(t){Et("Tracert deprecated：".concat(t))},Nr=function(){return function(t,e,n){return e&&wr(t.prototype,e),n&&wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n={container:window.document,autoLogPv:!0,ifRouterNeedPv:!1,eventType:"click",autoExpo:!1,bizType:"H5behavior",spmCheckCover:Qt.SPM_CHECK_COVER.TITLE_BAR,state:"",name:"",logLevel:"2",mdata:{},seedIdPrefix:"",seedIdSuffix:"",spmAPos:"",spmBPos:"",bizScenario:Ct("bizScenario")||"",paramPrefix:"",debug:!1,server:"",taskId:"",verifyServer:"",lastClkSpm:"",url:location.href.split(/\?|#|;jsessionid=/)[0],referSPM:"",srcSpm:"",sessionIdKey:"tracert-session-key",seedIdCfg:{pageSeedId:"H5_MTRACKER_AP_PAGE",clkSeedId:"H5_MTRACKER_AP_CLK",calcSeedId:"H5_MTRACKER_AP_CALC",expoSeedId:"H5_MTRACKER_AP_EXPO",syslogSeedId:"H5_MTRACKER_AP_SYSLOG"},_plugins:[],platformType:"",ready:!1,apiCashList:[],timeMap:{},expoFixedDom:!1,expoOnce:!1,_wap_intervalEx:400,_wap_interval:300,_wap_mgObjIndex:0,_wap_exObjIndex:0,_wap_mgTdObjIndex:0,_expoMergeItvObj:0,hasExpoMerge:!1,fmtedExObjArr:[],fmtedExObj:{},fmtedExOptions:{},cacheExObjArr:[],cacheMrExObjArr:[],expotTimeout:300,expoObj:{},expoType:function(t){return ft("scroll",jr,ar(t,300,{leading:!1,trailing:!0}))},expoSection:[-.3,.3],_beforeEvObj:{logPv:[],click:[],expo:[],set:[],send:[],autoClick:[],autoExpo:[]},_afterEvObj:{start:[],logPv:[],click:[],expo:[],set:[]},_sideEffects:[],_pluginLoadCnt:0,sysInfo:{},v:"",_instanceId:Gt(),observeExpoAsyncParam:!0,swiperSlideCommonClassName:"swiper-slide",startContentCollect:!0};Ot(n,e),Ot(this,n);var r=window.TracertCmdCache;if(r&&r.length)for(var i=0;r.length>i;i++){var o=Tr([].slice.call(r[i])),a=o[0],c=o.slice(1);this.call.apply(this,[a].concat(Ar(c)))}this._start()}),[{key:"before",value:function(t,e){var n=this._beforeEvObj[t];if(!n)throw Error("目标方法不支持该事件");if("function"!=typeof e)throw Error("监听器不是函数");n.push(e)}},{key:"_runBeforeFns",value:function(t,e){var n=this._beforeEvObj[t]||[];if(!n||!n.length)return!0;for(var r=0;n.length>r;r++){var i=!0;try{i=n[r].call(this,e)}catch(t){Ue(t,this)}if(!1===i)return Et("".concat(t,"埋点被钩子函数终止, 如果该钩子函数为业务代码，请勿 return false 或删除；如有其他问题，请联系 远笛"),n[r]),!1}return!0}},{key:"after",value:function(t,e){var n=this._afterEvObj[t];if(!n)throw Error("目标方法不支持该事件");if("function"!=typeof e)throw Error("监听器不是函数");"start"===t&&this.ready?e():n.push(e)}},{key:"_runAfterFns",value:function(t,e){var n=this._afterEvObj[t]||[];if(n&&n.length)for(var r=0;n.length>r;r++)n[r].call(this,e)}},{key:"init",value:function(){}},{key:"load",value:function(t){Tt(t)}},{key:"onReady",value:function(t){this.ready?t&&t():this.container.addEventListener("TracertOnReady",(function(){t&&t()}))}},{key:"_start",value:function(){var t=this,e=function(){t.load((function(){try{if(t.ready)return;try{var e;t.startContentCollect&&"function"==typeof(null===(e=t._contentCollect)||void 0===e?void 0:e.bootstrap)&&t._contentCollect.bootstrap()}catch(e){Pt("内容采集功能执行失败"),Ue(e,t)}if(t.get("_isMain")){var n=me(null,t.container);n.spmAPos=t.spmAPos||n.spmAPos,t.spmBPos||(n.spmBPos=ve()),t.set(n)}t.ready=!0;for(var r=0;t.apiCashList.length>r;r++){t.call.apply(t,t.apiCashList[r])}t._runAfterFns("start"),t.apiCashList=[]}catch(e){Ue(e,t),Pt("DOMContentLoaded 回调函数失败")}}))};this.pluginReady&&this.started?e():(this.container.addEventListener("TracertPluginReady",(function(n){t.started&&t._instanceId===n._instanceId&&e()})),this.container.addEventListener("TracertStart",(function(n){t.pluginReady&&t._instanceId===n._instanceId&&e()})))}},{key:"start",value:function(){this.run(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"run",value:function(){this.set(Sr(Sr({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{started:!0}));var t=document.createEvent("HTMLEvents");t._isMain=!!this._isMain,t._instanceId=this._instanceId,t.initEvent("TracertStart",!0,!0),this.container.dispatchEvent(t),this.autoLogPv&&this.call("logPv",{combineType:Qt.COMBINE_TYPE.MIX})}},{key:"addSideEffects",value:function(){var t=[].slice.call(arguments);"function"==typeof t[0]&&-1===this._sideEffects.indexOf(t)&&this._sideEffects.push(t)}},{key:"clearSideEffects",value:function(){if(!this._sideEffects||!this._sideEffects.length)return!0;for(var t=0;this._sideEffects.length>t;t++){var e=this._sideEffects[t],n=e.slice(1);"function"==typeof e[0]&&e[0].apply(this,n)}return this._sideEffects.length=0,!0}},{key:"loadPlugins",value:function(t){if(t&&t.length){this._plugins=t;for(var e=0;t.length>e;e++){this.loadPlugin(t[e])}}}},{key:"loadPlugin",value:function(t){var e=this;t&&((window["tracert".concat(t)]&&"function"==typeof window["tracert".concat(t)]||"function"==typeof t)&&("function"==typeof t?t:window["tracert".concat(t)])(this,(function(){if(e._pluginLoadCnt++,e._pluginLoadCnt===e._plugins.length){e.set({pluginReady:!0});var t=document.createEvent("HTMLEvents");t._isMain=!!e._isMain,t._instanceId=e._instanceId,t.initEvent("TracertPluginReady",!0,!0),e.container.dispatchEvent(t)}})))}},{key:"call",value:function(){var t,e=[].slice.call(arguments);if(!e[0]||"run"!==e[0]&&"start"!==e[0]||this.set({started:!0}),this.ready){if(!this[e[0]]||"function"!=typeof this[e[0]])return Et("未找到方法：".concat(e[0])),null;var n=e.slice(1);n=this.optionsHandle(n),t=this[e[0]].apply(this,n)}else this.apiCashList.push(e);return t}},{key:"optionsHandle",value:function(t){return t&&t.length?(t.forEach((function(t){var e=t;e&&(e.spmid&&(e.spmId=e.spmid),e.seedid&&(e.seedId=e.seedid),e.ucid&&(e.ucId=e.ucid))})),t):t}},{key:"get",value:function(t){return this[t]}},{key:"set",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._runBeforeFns("set",e),e.eventName&&Ot(e,{eventType:e.eventName}),"object"===Ir(e.mdata)&&(e.mdata=Sr(Sr({},this.mdata),e.mdata));for(var n={},r=Object.keys(e),i=function(){var i=r[o];if(e[i]instanceof Function){var a=e[i];n[i]=function(){try{for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return a.apply(t,n)}catch(e){Ue(e,t)}}}else n[i]=e[i]},o=0;r.length>o;o++)i();Ot(this,n),this._runAfterFns("set",e)}},{key:"getSysInfo",value:function(t){return this.sysInfo[t]}},{key:"setSysInfo",value:function(){Ot(this.sysInfo,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mr("config 已废弃！请使用 set 方法"),this.set(t)}},{key:"remoteLog",value:function(){}},{key:"logPv",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ready?(t&&"[object Object]"!==Object.prototype.toString.call(t)&&(t={}),this._runBeforeFns("logPv",t)&&(this._logPv(t),this._runAfterFns("logPv",t))):this.call("logPv",t)}},{key:"_logPv",value:function(){}},{key:"report",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=t.spmId;if(n){var r=n.split("."),i=r[0],o=r[1];i&&o&&this.set({spmAPos:i,spmBPos:o})}"object"===Ir(e)&&this.set({mdata:Sr(Sr({},this.mdata),e)}),this.set({_calledLogPv:!!n}),this.call("logPv")}},{key:"pageState",value:function(){this.set({state:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}),this.call("logPv")}},{key:"pageName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Mr("已废弃"),this.set({name:t})}},{key:"setPageState",value:function(){this.call("pageState",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},{key:"time",value:function(){var t="".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""),e=this.timeMap;t&&!e[t]&&(e[t]=new Date-0)}},{key:"timeEnd",value:function(){var t="".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""),e=this.timeMap;if(!t||!e[t])return"";var n=e[t],r=new Date-0-n;return delete e[t],r}},{key:"_goRemotelog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.seedId||t.spmId){var e=t.spmId||t.spmid||"",n=e.split("."),r=this.spmAPos,i=this.spmBPos;if(r&&i)switch(n.length){case 1:case 2:if(""===e)break;if(0!==e.indexOf("c"))break;e=[r,i,e].join(".")}var o={ucId:t.ucId,seedId:t.seedId,spmId:e,actionId:t.actionId,logLevel:t.logLevel||this.logLevel,param4:t.mdata||{}};if(t.type&&(o.type=t.type),t.params&&"object"===Ir(t.params))if(t.params.length)Ot(o,{param1:t.params[0]||"",param2:t.params[1]||"",param3:t.params[2]||""});else{var a=t.mdata||{};Ot(a,t.params),Ot(o.param4,a)}if(t.timeKey){var c=this.call("timeEnd",t.timeKey);c&&(o.param4.consume=c)}this.call("remoteLog",o)}else Et("请填入埋点seedId或spmId")}},{key:"info",value:function(){this._goRemotelog(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ot(t,{type:"error",actionId:"exception"}),this._goRemotelog(t)}},{key:"click",value:function(){var t,e,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.ready){c&&"[object Object]"===Object.prototype.toString.call(c)||(c={});var u=null===(t=window.AlipayJSBridge)||void 0===t||null===(e=t.startupParams)||void 0===e?void 0:e.tagSpmPage;!c.tagSpmPage&&u&&(c.tagSpmPage=u),s.combineType=s.combineType||"manual";var l={spmId:o,extra:a,options:c,currentConfig:s};if(this._runBeforeFns("click",l)){var f=a.extraSpmIds;l.extra.extraSpmIds&&delete l.extra.extraSpmIds;var p=(null===(n=l.spmId)||void 0===n||null===(r=n.split)||void 0===r?void 0:r.call(n,":"))||[],d=p[1]?{seedDesc:p[1]}:{};Ot(d,At(l.extra,this.paramPrefix));var h={param1:this.url,param2:p[0],param4:d,seedId:this.seedIdCfg.clkSeedId,actionId:Qt.EVENT_TYPE.CLICK,spmId:p[0]};if(this.fullLinkAndChInfo){var m=l.extra.newChinfo||"",v=l.extra.entityId||l.extra.scm||"";if(m&&v){var g={param5:"newChinfo=".concat(m,"^scm=").concat(v)};Ot(l.options,g)}}Ot(h,l.options),this.set({lastClkSpm:l.spmId}),this.call("remoteLog",Sr({},h),s),f&&f.length&&f.forEach((function(t){i.call("remoteLog",Sr(Sr({},h),{},{extraPageId:t}),s)})),this._runAfterFns("click",l)}}else this.call.apply(this,["click"].concat(Array.prototype.slice.call(arguments)))}},{key:"setDomSpmAttrs",value:function(t){if(cr(t)){var e=t.target,n=t.spmId,r=t.isNeedExpo,i=void 0===r||r,o=t.param,a=t.bizType,c=t.scm,s=t.chinfo;if(/object HTML[a-zA-Z]+Element/.test(e)&&"function"==typeof e.setAttribute&&"string"==typeof n){cr(o)&&e.setAttribute("data-aspm-param",Dt(o)),"string"==typeof a&&e.setAttribute("data-aspm-config","bizType=".concat(a));var u="string"==typeof c,l="string"==typeof s;(u||l)&&(e.setAttribute("data-aspm-content","true"),u&&e.setAttribute("data-new-ascm",c),l&&e.setAttribute("data-new-chinfo",s)),function(t,e,n){var r=t.split(".");1===r.length&&(/^c/.test(t)&&Cr(t,e),/^d/.test(t)&&kr(t,e,n)),2===r.length&&/^c/.test(r[0])&&/^d/.test(r[1])&&kr(t,e,n),3===r.length&&/^c/.test(r[2])&&Cr(t,e),4===r.length&&/^c/.test(r[2])&&/^d/.test(r[3])&&kr(t,e,n)}(n,e,i)}}}},{key:"expo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.ready){i.combineType=i.combineType||"manual";var o={spmId:t,offset:e,extra:n,options:r,currentConfig:i};if(this._runBeforeFns("expo",o)){var a={param1:this.url,param2:o.spmId,param3:o.offset,param4:At(o.extra,this.paramPrefix),seedId:this.seedIdCfg.expoSeedId,actionId:Qt.EVENT_TYPE.EXPOSURE,spmId:o.spmId};if(this.fullLinkAndChInfo){var c=o.extra.newChinfo||"",s=o.extra.entityId||o.extra.scm||"";if(c&&s){var u={param5:"newChinfo=".concat(c,"^scm=").concat(s)};Ot(a,u),Ot(o.options,u)}}if(Ot(a,o.options),!(r&&r.force)&&this.expoOnce&&i.combineType!==Qt.COMBINE_TYPE.AUTO){this.expoObj=this.expoObj||{};var l=this.expoObj[o.spmId]||{};this.expoObj[o.spmId]||(this.expoObj[o.spmId]=l);var f=i.uuid||o.spmId;if(1===l[f]){if(i.combineType===Qt.COMBINE_TYPE.MANUAL)return void Et("点位 ".concat(o.spmId," 已经曝光过了"));"multi"!==i.expoType&&(i.combineType=Qt.COMBINE_TYPE.AUTO)}else l[f]=1}return this.call("remoteLog",a,i),this._runAfterFns("expo",o),!0}}else this.call.apply(this,["expo"].concat(Array.prototype.slice.call(arguments)))}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mr("calc 已废弃");var r={param1:this.url,param2:t,param3:e,param4:At(n,this.paramPrefix),seedId:this.seedIdCfg.calcSeedId,actionId:"timestamp"};this.call("remoteLog",r)}},{key:"expoContent",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.expo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","up",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{param5:"newChinfo=".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"","^scm=").concat(t||e),newScm:e},n)}},{key:"clickContent",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.click(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{param5:"newChinfo=".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"","^scm=").concat(t||e),newScm:e},n)}},{key:"log",value:function(){this.send("10386",{bizType:"antlog",spm_id:this.spmAPos}),console.warn("「 tracert-monitor 」已于三年前下线，不再支持使用，详细替换请参考https://yuque.antfin.com/yuyan/monitor/thk1pf")}}])}();function Lr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Br(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dr(Object(n),!0).forEach((function(e){Lr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rr(t){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(t)}var Ur={initFromStartParams:function(t,e){var n=e.key,r=e.value;t.mdata=t.mdata||{},r&&(t.mdata[n]=r,t[n]=r)},expoMerge:function(t,e){var n=this,r=e.reset,i=ft(e.eventName,window.document,(function(){if(!t.hasExpoMerge){r&&(t.hasExpoMerge=!0);for(var e=0;t.fmtedExObjArr.length>e;e++)_n({tracert:n,type:gn.AlipayJSBridge,data:t.fmtedExObjArr[e].ExObj,jsApiType:yn.remoteLog});r&&(t.hasExpoMerge=!0)}}),!1);t.call("addSideEffects",i)},checkSubPage:function(t){var e=window.AlipayJSBridge;if(e&&e.startupParams&&e.startupParams.extLogInfo&&0===t._apCurrentIndex)try{var n=e.startupParams.extLogInfo;"string"==typeof n&&(n=JSON.parse(n));var r=n.pageId;if(!r)return;var i=r.split("__")[0].split(".");i[0]&&i[1]&&2===i.length&&t.call("set",{spmAPos:i[0],spmBPos:i[1],autoLogPv:!1})}catch(t){Et("解析extLogInfo失败",t)}},formatRemoteParams:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},n=e.seedId;t.seedIdPrefix&&(n="".concat(t.seedIdPrefix,"-").concat(n)),t.seedIdSuffix&&(n="".concat(n,"-").concat(t.seedIdSuffix));var r=e.spmId||"",i=r.split(".").length,o=t.spmAPos,a=t.spmBPos;if(o&&a)switch(i){case 1:if(""===r){delete e.spmId;break}e.spmId=[o,a,r].join(".");break;case 2:e.spmId=[o,a,r].join(".");break;case 3:case 4:break;default:e.param2=r,delete e.spmId}else 3>i&&delete e.spmId;var c={mBizScenario:t.mdata.bizScenario,mPageState:t.state,mPageName:t.name,role_id:Be(t),fullURL:location.href},s=e.param4||{};if(Ot(s,c),t.mdata&&"object"===Rr(t.mdata))for(var u in t.mdata)t.mdata.hasOwnProperty(u)&&(s[u]=s[u]||t.mdata[u]);return Ot(e,{type:e.type||"monitor",bizType:e.bizType||t.bizType,logLevel:parseInt(e.logLevel||t.logLevel,10),actionId:e.actionId||"clicked",param4:s,seedId:n}),e}};var Fr={_calledLogPv:!1,init:function(){!0===xt("enableTracker")&&Ur.initFromStartParams(this,{key:"enableTracker",value:!0}),Ur.initFromStartParams(this,{key:"bizScenario",value:Ct("bizScenario")}),Ur.initFromStartParams(this,{key:"version",value:Ct("version")}),Ur.initFromStartParams(this,{key:"appId",value:Ct("appId")||Ct("parentAppId")}),Ur.initFromStartParams(this,{key:"chInfo",value:Ct("chInfo")||Ct("chinfo")}),Ur.initFromStartParams(this,{key:"cityid",value:Ct("cityId")||Ct("cityid")}),this.appxScmData=function(){var t="appx_scm_data",e=xt(t);if(e)return e;if(!window.location)return"";var n=It(t,window.location.search);return n||(It(t,window.location.hash)||"")}(),Ur.expoMerge(this,{eventName:"collectDestroyJsApi",reset:!0}),Ur.expoMerge(this,{eventName:"back",reset:!0}),Ur.expoMerge(this,{eventName:"pause"}),Ur.checkSubPage(this)},remoteLog:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{};e.bizType=t.bizType||e.bizType||"";var n={};if(Ot(n,Ur.formatRemoteParams(this,e)),"mergeExpose"===n.actionId&&n.spmId&&3===n.spmId.split(".").length&&n.param4)return this.fmtedExOptions=ee(this.fmtedExOptions,Ot({},n)),this.fmtedExObj=ne(this.fmtedExObj,Ot({},n)),void(this.fmtedExObjArr=re(this.fmtedExObj,this.fmtedExOptions,t));n.param4&&void 0!==n.param4.entityId&&(n.entityId=n.param4.entityId),n.param4=Dt(n.param4),n.scm=(Bt(n.param5)||{}).scm,n.eventTime=Date.now(),this.reportEvent(n,this,t)},run:function(){this.set(Br(Br({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{started:!0}));var t=document.createEvent("HTMLEvents");t._isMain=!!this._isMain,t._instanceId=this._instanceId,t.initEvent("TracertStart",!0,!0),document.dispatchEvent(t),this.autoLogPv?this.call("logPv",{combineType:Qt.COMBINE_TYPE.MIX}):this._isMain&&this.call("logPv",{combineType:Qt.COMBINE_TYPE.AUTO})},_getReportDataParams:function(t){var e=this.bizType,n=this.spmAPos&&this.spmBPos?[this.spmAPos,this.spmBPos].join("."):"",r={url:this.url,bizType:e,isSPM:!!n,scm:this.scm};n&&(r.spmId=n),this.entityId&&(r.entityId=this.entityId);var i=Br(Br({},this.mdata),{},{url:this.url,fullUrl:location.href,mPageState:this.state,mBizScenario:this.bizScenario},t);return!i.appx_scm_data&&this.appxScmData&&(i.appx_scm_data=this.appxScmData),{spm:r,spmDetail:i}},report:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.ready){var e=t.params,n=t.spmId;if(n){var r=n.split("."),i=r[0],o=r[1];i&&o&&this.set({spmAPos:i,spmBPos:o})}"object"===Rr(e)&&this.set({mdata:Br(Br({},this.mdata),e)});var a=!!n;this.call("pageMonitorEnd",a),a&&this.set({_calledLogPv:!0}),this.call("pageMonitor")}else this.call("report",t)},_pageMonitor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"[object Object]"!==Object.prototype.toString.call(t)&&(t={});var n=this._getReportDataParams(t),r=window.AlipayJSBridge,i=r&&r.startupParams||{},o=i.appVersion,a=i.appId,c=i.ap_framework_scheme,s=i.query,u=i.tagSpmPage,l=i.ap_scan_codec_link_token,f=i.TaskRecordId,p=n.spm,d=n.spmDetail;!d.tagSpmPage&&u&&(d.tagSpmPage=u),d.sdkVersion=this.v,d.sdkVersionForTracert=this.v,d.useScriptForTracert=this._useScript,d.combineType||(d.combineType=Qt.COMBINE_TYPE.MANUAL);var h=e||t.combineType===Qt.COMBINE_TYPE.AUTO;this.autoLogPv&&this.referSPM&&this.referSPM==="".concat(this.spmAPos,".").concat(this.spmBPos)&&(h=!0,t.combineType=Qt.COMBINE_TYPE.MIX,d.combineType=Qt.COMBINE_TYPE.MIX);var m=Br(Br({},l?{ap_scan_codec_link_token:l}:{}),f?{TaskRecordId:f}:{}),v=Br(Br({},n),{},{type:"h5",update:h||!this._calledLogPv,uep:{timestamp:Date.now(),url:d.fullUrl,spm:p.spmId,bizCode:p.bizType,appVersion:o,appId:a,combineType:t.combineType||"manual",sdkVersion:this.v,sdkVersionForTracert:this.v,useScriptForTracert:this._useScript,params:Br(Br({sdkVersion:this.v,sdkVersionForTracert:this.v,useScriptForTracert:this._useScript,combineType:d.combineType||"manual"},this.mdata),t),sdkParams:Br({sdkVersion:this.v,sdkVersionForTracert:this.v,scheme:c,query:s||""},m)}});d.tagSpmPage&&(v.uep.sdkParams.tagSpmPage=d.tagSpmPage),function(t,e){Qe()?Kn(t,e):_n({tracert:e,type:gn.AlipayJSBridge,data:t,jsApiType:yn.reportUEPData,errorHandler:Kn})}(v,this)},available:function(t){var e=window.AlipayH5Performance;if(e){var n=t;t instanceof Object&&"object"===Rr(t.params)&&(n=t.params),e.addTrackData({name:"timeReport",value:Dt(n,"|")})}},send:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._runBeforeFns("send",e),t){var n=e.bizType||this.bizType;delete e.bizType;var r=e.logLevel||this.logLevel;delete e.logLevel,window.AlipayJSBridge.call("handleLoggingAction",{actionType:"reportEvent",params:{eventId:"string"==typeof t?t:""+t,bizType:n,logLevel:r,extData:Br(Br({},e),{},{fullURL:location.href,appId:this.appId||""})}})}}},Hr={_logPv:function(){this.pageMonitor(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},reportEvent:function(t,e,n){qn({params:t,context:e,currentConfig:n})},pageMonitor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._calledLogPv||this.spmAPos&&this.spmBPos||t.combineType!==Qt.COMBINE_TYPE.MIX||(t.combineType=Qt.COMBINE_TYPE.AUTO);var e=t._forceUpdate||!1;delete t._forceUpdate,this._pageMonitor(t,e),t.combineType!==Qt.COMBINE_TYPE.AUTO&&(this._calledLogPv=!0)},pageMonitorEnd:function(){}},zr={_logPv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.combineType!==Qt.COMBINE_TYPE.AUTO?(t.combineType===Qt.COMBINE_TYPE.MIX&&this.uepLogPv(t),this.tracertLogPv(t)):this.uepLogPv(t)},uepLogPv:function(){this._pageMonitor(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},tracertLogPv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pageMonitorEnd(!0),this._calledLogPv=!0,this.pageMonitor(t)},pageMonitor:function(t){var e=this._getReportDataParams(t);_n({tracert:this,type:gn.AlipayJSBridge,data:e,jsApiType:yn.reportData})},pageMonitorEnd:function(t){t&&this._calledLogPv&&_n({tracert:this,type:gn.AlipayJSBridge,data:{actionType:"end"},jsApiType:yn.pageMonitor})},reportEvent:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.combineType;r!==Qt.COMBINE_TYPE.AUTO?(r===Qt.COMBINE_TYPE.MIX&&qn({params:t,context:e,currentConfig:n}),_n({tracert:this,type:gn.AlipayJSBridge,data:t,jsApiType:yn.remoteLog})):qn({params:t,context:e,currentConfig:n})}};var Yr=function(t,e){t.before("set",(function(e){var n=e.spmAPos,r=e.spmBPos;if(t.get("_isMain")){if(n){for(var i=fe(window.document.getElementsByTagName("meta")),o=!1,a=0;i.length>a;a++){var c=i[a],s=pe(c,"name");pe(c,"content")&&s&&("data-aspm"===s&&(c.content=n,o=!0))}if(!o){var u=window.document.createElement("meta");u.name="data-aspm",u.content=n,window.document.getElementsByTagName("head")[0].appendChild(u)}}if(r){var l=window.document.getElementsByTagName("BODY")[0];l&&l.setAttribute&&l.setAttribute("data-aspm",r)}}})),t.after("logPv",(function(){t.spmAPos&&t.spmBPos&&!In(t.spmBPos)&&(t.referSPM="".concat(t.spmAPos,".").concat(t.spmBPos))}));var n=function(){Ot(t,function(){var t={};return Ot(t,Fr),xt("uepCombineMode")?Ot(t,Hr):Ot(t,zr)}()),t.call("init"),window.AlipayJSBridge.call("getSceneStackInfo",(function(n){n&&t.set({_apCurrentIndex:n.currentIndex}),t._UEPMode=!!xt("enableUEPMode"),e()}))};return window.AlipayJSBridge?n():document.addEventListener("AlipayJSBridgeReady",n,!1),t};function Vr(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(n),!0).forEach((function(e){Vr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qr(t){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(t)}function Kr(t){var e,n,r=this,i=r.getClickSpm(t.target||t.srcElement);if("object"===qr(i)&&i.spmId){var o,a,c=i.dom,s={};pe(c,"data-aspm-ab")&&(s.abTest=!0);var u=Ee(c);u&&(s.entityId=u);var l=Pe(c);l&&l.param5&&(s.param5=l.param5,s.newScm=l.newScm);var f=pe(c,"data-aspm-tagSpmPage")||(null===(o=window.AlipayJSBridge)||void 0===o||null===(a=o.startupParams)||void 0===a?void 0:a.tagSpmPage);f&&(s.tagSpmPage=f);var p=_e(c)||{},d=Qt.COMBINE_TYPE.MIX;return"function"==typeof c.getAttribute&&null!==c.getAttribute(Qt.DATA_ASPM_UEP)&&(d=Qt.COMBINE_TYPE.AUTO),void r.call("click",i.spmId,we(c),s,Wr({combineType:d,spmDom:i.dom,event:t},p))}var h=null===(e=window.AlipayJSBridge)||void 0===e||null===(n=e.startupParams)||void 0===n?void 0:n.tagSpmPage;r.call("click","",void 0,h?{tagSpmPage:h}:void 0,{combineType:Qt.COMBINE_TYPE.AUTO,event:t,spmDom:i.dom})}var Xr={spmClickEvent:function(t,e){var n=this,r=e||this.eventType;if(r){"function"==typeof this._clickEventDisposer&&this._clickEventDisposer();this._clickEventDisposer=ft(r,this.container||window.document,(function(t){try{if(!1===n._runBeforeFns("autoClick",t))return;Kr.call(n,t)}catch(t){Pt("Tracert click 监听回调函数失败",t),Ue(t,n)}})),this.call("addSideEffects",this._clickEventDisposer)}},_spmEventHandler:Kr,getClickSpm:function(t){var e=ye(t),n=be(e),r={dom:e,spmId:""};if((!this.spmAPos||!this.spmBPos)&&3>n.split(".").length)return St(this.spmAPos,this.spmBPos),r;if(e&&n){var i=n.split("."),o=i.length;4===o&&Et('2023/9/30 后将不再支持 data-aspm-click="'.concat(n,'" 格式埋点，请改用 data-aspm-click="').concat(i.slice(-2).join("."),'" 格式'));var a="";if(1===o){if(!(a=ge(e)))return r;i.unshift(a)}if(3===o)return r;r.spmId=i.join(".")}return r}},$r=function(t,e){return t.set(Wr({},Xr)),t.spmClickEvent("",t.eventType),t.before("set",(function(e){var n=e;n.eventType=n.eventType||n.eventName,n.eventType&&t.spmClickEvent(t.eventType,n.eventType)})),e(),t};function Qr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gr(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var Zr=Gr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=void 0;return-e>t?r=-1:0>t?r=t/e:n>t+e?r=0:n>t?r=(t+e-n)/e:n>t||(r=1),r},t.exports=e.default})),ti=Qr(Gr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=Zr)&&n.__esModule?n:{default:n};var i=window.document.documentElement;e.default=function(t){var e=t.getBoundingClientRect();return(0,r.default)(e.top,e.height,i.clientHeight)},t.exports=e.default}))),ei=Qr(Gr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=Zr)&&n.__esModule?n:{default:n};var i=window.document.documentElement;e.default=function(t){var e=t.getBoundingClientRect();return(0,r.default)(e.left,e.width,i.clientWidth)},t.exports=e.default})));function ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function ri(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,si(r.key),r)}}function ii(t,e,n){return(e=si(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ai(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(n),!0).forEach((function(e){ii(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ci(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(t,e)||ui(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}function ui(t,e){if(t){if("string"==typeof t)return ni(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(t,e):void 0}}var li="auto",fi="none",pi="always",di="less",hi="greater",mi=window.devicePixelRatio?255/window.devicePixelRatio:80,vi="start",gi="end",yi=0,bi=1,wi=2,_i=4;function Pi(t,e,n){var r;return-e>t?r=-1:0>t?r=t/e:n>t+e?r=0:n>t?r=(t+e-n)/e:n>t||(r=1),r}function Ei(t){if(!t)return!0;if(!t.offsetParent){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||"function"!=typeof window.getComputedStyle)return Pt("当前元素：",t,"的样式为 position: fixed；请参考以下文章添加 expoFixedDom 配置：","https://yuque.antfin-inc.com/tracert/4.x/mqy0kt0m9nx06ypu"),!0;var e=window.getComputedStyle(t)||{};if(!e.position||"fixed"!==e.position.toLowerCase())return!0;if(e.display&&"none"===e.display.toLowerCase())return!0}return!1}function Si(t,e,n){var r={spmId:"",dom:t};if(!e||!n)return St(e,n),r;if("function"!=typeof(null==t?void 0:t.getAttribute))return r;if(null===t.getAttribute("data-aspm-expo"))return r;var i=ge(t),o=be(t),a=o||i;if(!a)return r;var c,s,u,l=a.split(".");return l.length>2?(Pt("声明式埋点不支持 ".concat(3===l.length?'data-aspm="'.concat(a,'"'):'data-aspm-click="'.concat(a,'"')," 格式，请改用 ").concat(3===l.length?'data-aspm="'.concat(null===(c=a.split("."))||void 0===c?void 0:c[2],'"'):'data-aspm-click="'.concat(null===(s=a.split("."))||void 0===s||null===(u=s.slice(-2))||void 0===u?void 0:u.join("."),'"')," 格式")),r):(1===l.length&&i&&o&&(l=[e,n,i,o]),2===l.length&&(o||i)&&(l=[e,n].concat(l)),1===l.length&&i&&(l=[e,n,a]),3!==l.length&&4!==l.length||(r.spmId=l.join("."),r.dom.prevSpmId=r.spmId),r)}function Ti(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=function(t){var e=t.getBoundingClientRect(),n=window.document.documentElement,r=Pi(e.left,e.width,n.clientWidth),i=Pi(e.top,e.height,n.clientHeight),o=Math.round((1-Math.abs(r))*(1-Math.abs(i))*100),a=0===e.height||0===e.width;return 0===e.height&&Pt("当前元素高度为 0，曝光埋点不会上报"),0===e.width&&Pt("当前元素宽度为 0，曝光埋点不会上报"),[r,i,o,a]}(t),i=ci(r,4),o=i[0],a=i[1],c=i[2],s=i[3],u=ci(e.direction,2),l=u[0],f=u[1];if(!0!==s&&(l!==o||f!==a)){var p=ci(n.expoSection||[],2),d=p[0],h=p[1],m={expoDirection:"",percent:c,direction:[o,a]};if(!(d>a||a>h||d>o||o>h))d>f?m.expoDirection="up":f>h?m.expoDirection="down":d>l?m.expoDirection="left":l>h?m.expoDirection="right":e.percent!==c&&(m.expoDirection="");else if(e.percent===c)return;return m}}function Ai(t){if(!t||"function"!=typeof t.querySelectorAll)return[];for(var e=Qt.DATA_ASPM_EXPO,n=[],r=t.querySelectorAll("[".concat(e,"]")),i=r.length-1;i>=0;i--)n.push(r[i]);return"function"==typeof t.getAttribute&&null!==t.getAttribute(e)&&n.push(t),n}function Oi(t,e){if(t&&null!==t.getAttribute(Qt.DATA_ASPM_UEP))return!0;try{for(var n=e._uepSPMNum,r=e._uepParams,i=Si(t,e.spmAPos,e.spmBPos),o=we(i.dom),a=0;r.length>a;a++){if(!o[r[a]])return!1}var c=i.spmId.split(".");if(c.length>=3){var s=c.pop();if(0===s.indexOf("ca")||0===s.indexOf("da"))return!1;var u=s.split("_");if(2===c.length?(s=u.pop(),/^\d+$/.test(s)&&(s=u.pop())):3===c.length&&(s=u[0]),s=s.substring(1),/^\d+$/.test(s)&&s>n)return!0}}catch(t){}return!1}function Ii(t,e){var n;if(t&&t[e._instanceId]){var r=t[e._instanceId],i=r.current;if(i&&r[i]&&(r[i].status&bi+wi+_i)!==yi){var o=null===(n=r[i])||void 0===n?void 0:n.mmaExpo;t[e._instanceId]={},e._doExpo(i,t,t,{mmaExpo:o,percent:0,combineType:Qt.COMBINE_TYPE.AUTO,expoState:gi})}}}function xi(t,e){var n;return(null===(n=t._transparentTitleInfo)||void 0===n?void 0:n.value)===e}function Ci(t,e,n,r){if("function"==typeof document.elementsFromPoint||"function"==typeof window.getComputedStyle){var i=(document.documentElement.clientHeight||document.body.clientHeight)/3;ki({x:t.x,y:t.y+2},i,n,r,e);var o=0;if(e._haveFixedDom=0!==r.length,0===r.length)o=xi(e,li)?-e._titleBarHeight:0;else{var a=r[r.length-1];o=-(a.coordY+a.fixedDomHeight)}if(o!==n.intersectionObserverForCoverRootMargin)return n.intersectionObserverForCoverRootMargin=o,!0}}function ki(t,e,n,r,i){var o=[];ji(document.elementFromPoint(t.x,t.y),o);for(var a=0,c=o;c.length>a;a++){var s=c[a],u=window.getComputedStyle(s,null);if("function"==typeof u.getPropertyValue){var l=u.getPropertyValue("position");if(("fixed"===l||"sticky"===l)&&"function"==typeof s.getBoundingClientRect){var f=s.getBoundingClientRect();if(f.height>=e)break;if(xi(i,li)){var p=f.top;if(!p||i._titleBarHeight-2>p)continue}if(r.push({fixedDomHeight:f.height,scrollY:n.curScrollY,coordY:f.top||t.y-2}),1===r.length){ki({x:2,y:t.y+f.height},e,n,r,i);break}}}}}function ji(t,e){if(!t||!t.tagName||"BODY"===t.tagName)return e;e.push(t),ji(null==t?void 0:t.parentNode,e)}function Mi(t,e,n,r){if(2===e.length){if(scrollY>=e[1].scrollY)return;scrollY<e[0].scrollY||(e.length=1)}return 1!==e.length||scrollY<e[0].scrollY?e.length=0:t+=e[0].fixedDomHeight,Ci({x:2,y:t},n,r,e)}function Ni(t,e,n){var r=function(t,e,n){try{var r,i,o=window.scrollY||(null===(r=document.documentElement)||void 0===r?void 0:r.scrollY)||(null===(i=document.body)||void 0===i?void 0:i.scrollY)||0;if(e.curScrollY=o,xi(t,pi)||xi(t,fi))return t.spmCheckCover===Qt.SPM_CHECK_COVER.STICKY&&Mi(0,n,t,e);if(!xi(t,li))return;return mi>o||e.curScrollYStatus!==di?mi>o&&e.curScrollYStatus===hi&&(e.curScrollYStatus=di,t.expoCheck()):(e.curScrollYStatus=hi,t.expoCheck()),t.spmCheckCover===Qt.SPM_CHECK_COVER.STICKY&&Mi(t._titleBarHeight,n,t,e)}catch(e){Et("scroll 监听回调函数执行失败",e),Ue(e,t)}}(t,e,n);t._resetIntersectionObserverForCover(r,e)}function Li(t,e){var n={scm:t[Qt.DATA_ASCM],newScm:t[Qt.DATA_NEW_ASCM]},r=Ui(t,e);null!==r&&Bi(ai(ai({},r),{},{target:t,tracert:e,scmOptions:n}))}function Di(t,e){if(!Ei(t,e.expoFixedDom)){var n=t.prevSpmId;n&&Bi({target:t,spmId:n,tracert:e,dom:t})}}function Bi(t){var e=yi,n=t.target,r=t.spmId,i=t.tracert,o=t.dom,a=t.scmOptions,c=void 0===a?{}:a,s=t.entityId,u=void 0===s?"":s,l=oe(n,r,i,e);if(null!==l){var f=l.expoElDs,p=ai(ai({},c),{},{percent:0,combineType:Qt.COMBINE_TYPE.AUTO,uuid:f.uuid,mmaExpo:!0,expoState:gi,entityId:u});i._doExpo(r,o,n,ai({},p),(function(){f.status=se(e,f.status),f.percent=0,f.mmaExpo=!0}))}}var Ri=ii(ii(ii(ii(ii(ii(ii({},Qt.DATA_ASPM_EXPO,(function(t,e){null===t.getAttribute(Qt.DATA_ASPM_EXPO)&&Ii(t,e)})),Qt.DATA_ASPM_PARAM,(function(t,e){e.observeExpoAsyncParam&&function(t,e){var n,r,i;if(t&&t[e._instanceId]&&t.getAttribute&&null!==t.getAttribute("".concat(Qt.DATA_ASPM_EXPO))){var o=t[e._instanceId],a=null==o?void 0:o.current;if(a&&o[a]&&((null===(n=o[a])||void 0===n?void 0:n.status)&bi+wi+_i)!==yi){var c=null===(r=o[a])||void 0===r?void 0:r.percent,s=null===(i=o[a])||void 0===i?void 0:i.mmaExpo;c&&c>0&&e._doExpo(a,t,t,{percent:c,mmaExpo:s,combineType:Qt.COMBINE_TYPE.AUTO,expoState:vi,isUpdateParam:!0})}}}(t,e)})),Qt.DATA_NEW_ASCM,(function(t,e){Li(t,e)})),Qt.DATA_ASCM,(function(t,e){Li(t,e)})),Qt.DATA_ASPM,(function(t,e){Di(t,e)})),Qt.DATA_ASPM_CLICK,(function(t,e){Di(t,e)})),Qt.DATA_ASPM_ENTITYID,(function(t,e){!function(t,e){var n=t[Qt.DATA_ASPM_ENTITYID],r=Ui(t,e);null!==r&&Bi(ai(ai({},r),{},{target:t,tracert:e,entityId:n}))}(t,e)}));function Ui(t,e){if(Ei(t,!0))return Ii(t,e),null;var n=Si(t,e.spmAPos,e.spmBPos),r=n.spmId;return r?{spmId:r,dom:n.dom}:null}var Fi=[Qt.DATA_ASPM_CLICK,Qt.DATA_ASPM_EXPO,Qt.DATA_ASPM,Qt.DATA_ASPM_PARAM,Qt.DATA_NEW_ASCM,Qt.DATA_ASCM,Qt.DATA_ASPM_ENTITYID];function Hi(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}var zi=function(){return function(t,e,n){return e&&ri(t.prototype,e),n&&ri(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._callback=e,this.throttle_timeout=n||300,this.register=[],this._init(),this.id="tracert_id"}),[{key:"_contains",value:function(t){if(t&&t.offsetParent)return!0;if(!t||"function"!=typeof t.removeAttribute||"function"!=typeof t.getAttribute)return!1;var e=t.getAttribute("id")||this.id;e===this.id&&t.setAttribute("id",e);var n=document.getElementById(e);return e===this.id&&t.removeAttribute("id"),!!n}},{key:"_init",value:function(){var t,e,n,r=this,i=(t=this._checkIntersection.bind(this),e=this.throttle_timeout,n=null,function(){n||(n=setTimeout((function(){t(),n=null}),e))});ut("scroll",document,i);var o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!o)return null;this.domObserver=new o((function(t){r.removeDomFlag=!1;for(var e=!0,n=0;t.length>n;n++){var o=t[n]||{},a=o.type,c=o.attributeName,s=o.removedNodes;if(!r.removeDomFlag&&s&&s.length){r.removeDomFlag=!0,i();break}!e||"attributes"===a&&"id"===c||(e=!1)}e||i()})),this.domObserver.observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},{key:"observe",value:function(t){if(t&&1==t.nodeType&&this._contains(t)){for(var e=0;this.register.length>e;e++){if(this.register[e]===t)return}this.register.push(t),this._checkIntersection([t])}}},{key:"unobserve",value:function(t){if(t&&1==t.nodeType)for(var e=0;this.register.length>e;e++){if(this.register[e]===t)return void(this.register[e]=this.register.pop())}}},{key:"disconnect",value:function(){this.register.length=0,this.domObserver&&"function"==typeof this.domObserver.disconnect&&(this.domObserver.disconnect(),this.domObserver=null)}},{key:"_computeTargetAndRootIntersection",value:function(t,e,n){if(t&&this._contains(t)&&"none"!=window.getComputedStyle(t).display){for(var r,i,o,a,c,s,u,l,f=e,p=t.parentNode,d=!1;!d&&p;){var h=null,m=1==p.nodeType?window.getComputedStyle(p):{};if("none"==m.display)return null;if(9==p.nodeType)d=!0,h=n;else{var v=p.ownerDocument;v&&p!=v.body&&p!=v.documentElement&&"visible"!=m.overflow&&(h=Hi(p))}if(h&&(o=void 0,a=void 0,c=void 0,s=void 0,u=void 0,l=void 0,o=Math.max((r=h).top,(i=f).top),a=Math.min(r.bottom,i.bottom),c=Math.max(r.left,i.left),l=a-o,f=(u=(s=Math.min(r.right,i.right))-c)>=0&&l>=0&&{top:o,bottom:a,left:c,right:s,width:u,height:l}||null),!f)break;p=p&&p.parentNode}return f}}},{key:"_checkIntersection",value:function(t){var e=document.documentElement,n=document.body,r={x:0,y:0,top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight};t||(t=this.register);var i=[];try{for(var o=0;t.length>o;o++){var a=t[o],c=Hi(a);c.x=c.top,c.y=c.left;var s=this._computeTargetAndRootIntersection(a,c,r),u={target:a,boundingClientRect:c,rootBounds:r,intersectionRatio:0,isIntersecting:!!s};if(s){var l=c.width*c.height;u.intersectionRatio=l?Number((s.width*s.height/l).toFixed(4)):u.isIntersecting?1:0}i.push(u)}if(i.length&&this._callback(i),this.removeDomFlag&&t===this.register){for(var f=[],p=0;t.length>p;p++)this._contains(t[p])&&f.push(t[p]);this.register.length=0,this.register=f,this.domObserver&&(this.removeDomFlag=!1)}}catch(t){}}},{key:"takeRecords",value:function(){return[]}}])}();function Yi(t,e){var n={startTime:Date.now(),logCount:t.length};t.forEach((function(r,i){var o=r.isIntersecting,a=r.intersectionRatio,c=r.target,s=r.scm,u=r.newScm,l=Ui(c,e);if(null!==l){var f=l.spmId,p=l.dom;if(0!==(null==p?void 0:p.clientHeight)&&0!==(null==p?void 0:p.clientWidth)||0!==(null==p?void 0:p.offsetHeight)&&0!==(null==p?void 0:p.offsetWidth)){var d=ie(o,a,e,c,f),h=d.nextStatus,m=d.percent,v=oe(c,f,e,h);if(null!==v){var g=v.expoElDs,y=function(t){var e=t.oldStatus,n=t.nextStatus,r=t.percent,i=t.expoElDs,o=t.expoTimeInfo,a=t.isLastEntry,c="auto";!ue(e)&&ue(n)&&(c="mix");var s={percent:r,combineType:c,uuid:i.uuid,mmaExpo:!0,expoState:n===yi?"end":"start"};a&&(s.expoTimeInfo=o);return s}({oldStatus:v.oldStatus,nextStatus:h,expoElDs:g,percent:m,expoTimeInfo:n,isLastEntry:i===t.length-1});e._doExpo(f,p,c,ai(ai({},y),{},{scm:s,newScm:u}),(function(){g.status=se(h,g.status),g.percent=m,g.mmaExpo=!0}))}}else Et("埋点元素宽或高为 0，曝光埋点不会上报：",p)}}))}function Vi(t,e){var n=function(e){t._isIntersectionChecking=!0,Yi(e,t),t._isIntersectionChecking=!1,Hn(!0,t)};var r=e||"0px 0px 0px 0px";if(!window.IntersectionObserver||!window.IntersectionObserverEntry)return new zi(n);var i=[0,.5,1];return t.endExpoPercent&&"number"==typeof t.endExpoPercent&&t.endExpoPercent>0&&.4>t.endExpoPercent&&i.push(t.endExpoPercent),new IntersectionObserver((function(r){try{var i=window.scrollY||document.documentElement.scrollY||document.body.scrollY||0;if(e)return void((t._haveFixedDom||xi(t,li)&&i>=mi)&&n(r));if(t._haveFixedDom)return;if(xi(t,li)&&i>=mi)return;n(r)}catch(e){Et("Tracert IntersectionObserver 回调函数失败"),Ue(e,t)}}),{threshold:i,rootMargin:r})}function Ji(t,e){if(!Ei(t,e.expoFixedDom)){var n=Si(t,e.spmAPos,e.spmBPos),r=n.spmId,i=n.dom;if(r){var o=ae(t,r,e._instanceId),a=Ti(i,o,e);if(a){var c=a.percent,s=a.expoDirection,u=bi;if(100===c?u=_i:50>c?0===c&&7&o.status&&(u=yi):u=wi,s||!ce(u,o.status))e._doExpo(r,i,t,{combineType:s?"mix":"auto",percent:c,expoDirection:s,expoState:u===yi?"end":"start",uuid:o.uuid},(function(){o.status=se(u,o.status),o.direction=a.direction,o.percent=c,o.mmaExpo=!1}));else o.direction=a.direction}}}}var Wi={_uepSPMNum:3e5,_uepParams:["_item_src","_item_id"],_expoTypeHandle:null,_exposureKey:"__uepExposureData",enableWatchStyle:!1,_getYStatus:function(t){return ti(t)},_getXStatus:function(t){return ei(t)},_getExpoDomDs:function(t,e){t[this._instanceId]||(t[this._instanceId]={}),t[this._instanceId][e]||(t[this._instanceId][e]={}),t[this._instanceId][e][this._exposureKey]||(t[this._instanceId][e][this._exposureKey]={percent:0,direction:[-1,-1]});var n=t[this._instanceId][e][this._exposureKey];return n.direction=n.direction||[-1,-1],n},_setExpoDomDs:function(t,e,n){t[this._instanceId]||(t[this._instanceId]={}),t[this._instanceId][n]||(t[this._instanceId][n]={}),t[this._instanceId][n][this._exposureKey]=e},_doExpo:function(t,e,n,r,i){var o=we(e),a=_e(e)||{},c=Pe(e),s=function(t){return pe(t,$t)?pe(null==t?void 0:t.querySelector("[".concat($t,"]")),$t):""}(e),u=Ee(e);u&&(c.entityId=u);var l=pe(e,Qt.DATA_ASPM_EXPO);if(null!==n.getAttribute(Qt.DATA_ASPM_UEP)&&(r.combineType="auto",r.mmaExpo=!1,r.aspmUep="1"),s){var f=Bt(c.param5);c.param5=Dt(ai(ai({},f),{},{slrc:s}))}var p=r||{},d=p.expoDirection,h=p.combineType,m=p.percent,v=p.expoState,g=p.uuid,y=p.mmaExpo,b=p.aspmUep,w=p.expoTimeInfo,_=p.isUpdateParam,P=p.scm,E=p.newScm,S=p.entityId,T=void 0===S?"":S;if(T&&(c.entityId=T),P||E){c.newScm=E;var A=Bt(c.param5);c.param5=Dt(ai(ai({},A),{},{scm:P||E}))}b&&(a.aspmUep=b),w&&(a.expoTimeInfo=w),c.percent=m,!0===this.expo(t,d||"",o,c,ai(ai({combineType:h,expoState:v||"end",event:n,uuid:g,expoType:l,mmaExpo:y||!1,isUpdateParam:_},a),{},{canDelayLog:this._isExpoChecking||this._isIntersectionChecking}))&&"function"==typeof i&&i()},_checkCover:function(){if(this.spmCheckCover===Qt.SPM_CHECK_COVER.TITLE_BAR||this.spmCheckCover===Qt.SPM_CHECK_COVER.STICKY){var t=this._checkTitleBar(),e={curScrollYStatus:di,intersectionObserverForCoverRootMargin:t,curScrollY:0},n=[];this._checkStickyDOM(e,n),this._addScrollListenerForCover(e,n)}},_checkTitleBar:function(){return xi(this,li)?(this.intersectionObserverForCover=this.intersectionObserverForCover||Vi(this,"-".concat(this._titleBarHeight,"px 0px 0px 0px")),-this._titleBarHeight):0},_checkStickyDOM:function(t,e){if(this.spmCheckCover===Qt.SPM_CHECK_COVER.STICKY&&(xi(this,pi)||xi(this,fi))){var n=Ci({x:2,y:0},this,t,e);this._resetIntersectionObserverForCover(n,t)}},_addScrollListenerForCover:function(t,e){var n=this;this._scrollListenerForTitleBar=ft("scroll",window.document||window,ar((function(){try{var r,i,o;if("ap"!==(null===(r=n._transparentTitleInfo)||void 0===r?void 0:r.from))return void Ni(n,t,e);null===(i=window.AlipayJSBridge)||void 0===i||null===(o=i.call)||void 0===o||o.call(i,"getStartupParams",(function(r){n._transparentTitleInfo={value:null==r?void 0:r.transparentTitle,from:"scroll"},Ni(n,t,e)}))}catch(t){Et("tracert 滚动监听函数执行失败"),Ue(t,n)}}),300,{leading:!0,trailing:!0}),!0)},_resetIntersectionObserverForCover:function(t,e){if(t){if(this.intersectionObserverForCover)for(var n=Ai(this.container||window.document),r=0;n.length>r;r++){this.intersectionObserverForCover.unobserve(n[r])}0!==e.intersectionObserverForCoverRootMargin&&(this.intersectionObserverForCover=Vi(this,"".concat(e.intersectionObserverForCoverRootMargin,"px 0px 0px 0px")),this.expoCheck())}},updateTransparentTitle:function(){var t,e,n=this;null===(t=window.AlipayJSBridge)||void 0===t||null===(e=t.call)||void 0===e||e.call(t,"getStartupParams",(function(t){n._transparentTitleInfo={value:null==t?void 0:t.transparentTitle,from:"userMsg"}}))},expoCheck:function(t){var e;(this.intersectionObserver||(this.intersectionObserver=Vi(this)),xi(this,li)&&!this.intersectionObserverForCover&&(this.intersectionObserverForCover=Vi(this,"-".concat(this._titleBarHeight,"px 0px 0px 0px"))),t)||(t=!1===(null===(e=window._to)||void 0===e?void 0:e._isPrimaryApp)?document:this.container||document);if("function"==typeof t.querySelectorAll&&!1!==this._runBeforeFns("autoExpo",t)){var n=Ai(t);this._isExpoChecking=!0;for(var r=0;n.length>r;r++){var i=n[r];!0===this._UEPMode||this.enableIntersectionObserver||Oi(i,this)?(this.intersectionObserver.unobserve(i),this.intersectionObserver.observe(i),this.intersectionObserverForCover&&(this.intersectionObserverForCover.unobserve(i),this.intersectionObserverForCover.observe(i))):Ji(i,this)}this._isExpoChecking=!1,Hn(!0,this)}},clearExpoIden:function(t){var e;t||(t=!1===(null===(e=window._to)||void 0===e?void 0:e._isPrimaryApp)?document:this.container||document,this.expoObj={});var n=Ai(t);if(this._UEPMode||this.enableIntersectionObserver){Yi(n.map((function(t){return{target:t,isIntersecting:!1,intersectionRatio:0}})),this)}else{var r,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ui(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return t.length>r?{done:!1,value:t[r++]}:{done:!0}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(n);try{for(i.s();!(r=i.n()).done;){r.value[this._instanceId]=null}}catch(t){i.e(t)}finally{i.f()}}},startAutoExpo:function(){var t=this;"function"==typeof this._expoTypeHandle&&this._expoTypeHandle(),this.intersectionObserver=this.intersectionObserver||Vi(this),this.isAp&&this._checkCover(),!0===this._UEPMode||this.enableIntersectionObserver||(this._expoTypeHandle=this.expoType((function(){t.expoCheck()}))),this.expoCheck(),this.startMutationObserver(document.body,void 0,this.enableWatchStyle?["style"]:[]),this.call("addSideEffects",this.stopAutoExpo)},stopAutoExpo:function(){this._expoTypeHandle&&this._expoTypeHandle(),this._scrollListenerForTitleBar&&this._scrollListenerForTitleBar(),this.destroyMutationObserver()},_observerCb:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==e.length&&e.forEach((function(e){var n=e.target.parentNode,r=e.addedNodes,i=e.removedNodes,o=void 0===i?[]:i,a=e.type;switch(void 0===a?"":a){case"attributes":n&&t.expoCheck(n);break;case"subtree":case"childList":r&&r.length&&t._changeNodes(fe(r).concat(fe(o)))}}))},_changeNodes:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.expoCheck(e.parentNode)}))},_mutationObserver:function(t,e){this.mutationObserver&&this.mutationObserver.observe(t,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-aspm-click","data-aspm-expo","data-aspm","data-aspm-param"].concat(e),characterData:!0})},startMutationObserver:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.mutationObserver)Et("mutationObserver 已开启，请不要重复调用");else{var r=this,i=sr((function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;t&&0!==t.length&&t.forEach((function(t){var n=t.addedNodes,r=void 0===n?[]:n,i=t.removedNodes,o=void 0===i?[]:i,a=t.type,c=t.target;switch(void 0===a?"":a){case"attributes":try{var s;if(!c||1!==c.nodeType)return;null===(s=Ri[t.attributeName])||void 0===s||s.call(Ri,c,e),e.expoCheck(c)}catch(t){Ue(t,e)}break;case"subtree":case"childList":if(r)for(var u=0;r.length>u;u++){var l=r[u];l&&1===l.nodeType&&e.expoCheck(l)}if(o)for(var f=0;o.length>f;f++){var p=o[f];p&&1===p.nodeType&&Ai(p).forEach((function(t){return Ii(t,e)}))}}}))}(t,r)}),e),o=function(t,e){return ur(t,e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:Fi.concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[])})}(i,t||this.container,n);o&&(this.mutationObserver=o)}},stopMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},destroyMutationObserver:function(){this.mutationObserver&&(this.stopMutationObserver(),this.mutationObserver=null,delete this.mutationObserver)},getExpoSpmCPos:function(t){var e={dom:t,spmId:""};if(!this.spmAPos||!this.spmBPos)return e;var n=ge(t);return n?(e.spmId=[this.spmAPos,this.spmBPos,n].join("."),e):e},getExpoSpmDPos:function(t){var e=ye(t),n=be(e),r={dom:e,spmId:""};if(!this.spmAPos||!this.spmBPos)return r;if(e&&n){var i=n.split("."),o=!0;if(1===i.length)i.unshift(ge(e));for(var a=0;2>a;a++)if(!i[a]){o=!1;break}if(o)r.spmId=[this.spmAPos,this.spmBPos].concat(i).join(".")}return r}},qi=function(t,e){t.set(ai({},Wi));var n,r=!0;(t.before("set",(function(e){if(e.autoExpo)return void 0!==t._calledLogPv?t._calledLogPv?void t.call("startAutoExpo"):void t.after("logPv",(function(){r&&t.call("startAutoExpo"),r=!1})):void t.call("startAutoExpo");!1===e.autoExpo&&Pt("autoExpo 为 false，曝光类型声明式埋点不会自动上报；如需开启，请参考：https://yuque.antfin-inc.com/tracert/4.x/mqy0kt0m9nx06ypu；如无声明式曝光埋点，可忽略此提示")})),t.isAp)?"function"==typeof(null===(n=window.AlipayJSBridge)||void 0===n?void 0:n.call)?Ki(t,e):document.addEventListener("AlipayJSBridgeReady",(function(){Ki(t,e)}),!1):e&&e();return t};function Ki(t,e){var n=0;t.spmCheckCover===Qt.SPM_CHECK_COVER.NONE?Xi(e,n+=2):(window.AlipayJSBridge.call("getSystemInfo",(function(r){t._titleBarHeight=((null==r?void 0:r.statusBarHeight)||0)+((null==r?void 0:r.titleBarHeight)||0),++n,Xi(e,n)})),window.AlipayJSBridge.call("getStartupParams",(function(r){t._transparentTitleInfo={value:null==r?void 0:r.transparentTitle,from:"ap"},++n,Xi(e,n)})))}function Xi(t,e){2===e&&t&&t()}function $i(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qi(r.key),r)}}function Qi(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}var Gi=function(){return function(t,e,n){return e&&$i(t.prototype,e),n&&$i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlerArr=[],this.lastPath=location.pathname,this.timer=null,this.hashEventArray=["hashchange","popstate"],history.pushState&&window.addEventListener&&(this.removeEffects=this.init())}),[{key:"onChange",value:function(t){var e=this.handlerArr;return e.push(t),function(){for(var n=0;e.length>n;n++)if(e[n]===t){e.splice(n,1);break}}}},{key:"batchExecHandlers",value:function(t){var e=this.handlerArr,n=location.pathname!==this.lastPath;n||t&&-1===this.hashEventArray.indexOf(t.type)||(n=location.hash&&!On.isAnchor(location.hash)),n&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){try{e.forEach((function(t){"function"==typeof t&&t()}))}catch(t){}}))),this.lastPath=location.pathname}},{key:"init",value:function(){var t=window.history,e=t.pushState,n=t.replaceState,r=this.batchExecHandlers.bind(this);t.pushState=function(){e.apply(this,arguments),r()},t.replaceState=function(){n.apply(this,arguments),r()};var i=ft("popstate",window,r,!0),o=ft("hashchange",window,r,!0);return function(){window.history.pushState=e,window.history.replaceState=n,i(),o()}}}])}();function Zi(t){var e=Nt;if(t._isMain){var n=new Gi;e=n.onChange.bind(n),t.call("addSideEffects",n.removeEffects),e((function(){t.autoLogPv&&(t.spmAPos?window.AlipayJSBridge||t.pathName||(t.spmBPos=function(){if(!location||"string"!=typeof location.href)return"";var t=An(location.href),e=t.hash,n=t.pathname;return e&&!1===t.hashIsAnchor&&(n=e.substring(1).split("?")[0]),0!==(n=n.replace(/\./g,"_")).indexOf("/")&&(n="/".concat(n)),n}(),t.call("logPv")):t.call("logPv",{combineType:"mix",_forceUpdate:!0}))}))}t.set({onRouterChange:e})}var to=function(t,e){Zi(t);var n=t.pathName||"";return t.after("set",(function(e){e&&e.pathName&&t.spmAPos&&(n&&t.autoLogPv&&t.call("logPv"),n=t.pathName)})),e(),t};function eo(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ro={startAutoScroll:function(){var t=this,e=!1,n=tr((function(r){var i={};(e=!e)?setTimeout((function(){n()}),0):i={exposureRange:{height:window.innerHeight,yOffset:window.scrollY}},Wn({params:{type:Qt.EVENT_TYPE.SCROLL,state:e?"start":"end",xOffset:window.scrollX,yOffset:window.scrollY,bizCode:t.bizType},event:r,context:t,sdkParams:i})}),500,{leading:!0,trailing:!0});document.addEventListener("scroll",n)}},io=function(t,e){return t.set(function(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?no(Object(n),!0).forEach((function(e){eo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ro)),t.startAutoScroll(),e(),t};function oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function ao(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function co(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lo(r.key),r)}}function so(t,e,n){return e&&co(t.prototype,e),n&&co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uo(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return oo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}var fo=Tt,po=vr;function ho(t,e,n){t.postMessage(JSON.stringify({type:e,content:n}),"*")}var mo,vo,go,yo,bo=function(){return so((function t(){var e=this;ao(this,t),this.iframe=null,this.iframeLoaded=!1,this.userId=null,this.pending=!1,this.queue=[],this.cachedQuery=[],fo((function(){window.addEventListener("message",(function(t){return e.receive(t)}),!1),e.pending=!0,e.iframe=po.initIframe()}))}),[{key:"receive",value:function(t){var e;if(t.data){try{e=JSON.parse(t.data)}catch(t){return}if(e.type)switch(e.type){case"getBucUserId":for(this.userId=e.content,this.pending=!1;this.queue.length;){(0,this.queue[0])(e.content),this.queue.shift()}break;case"iframOnload":this.iframeOnLoad()}}}},{key:"iframeOnLoad",value:function(){this.iframeLoaded=!0,this.executeCachedQuery()}},{key:"executeCachedQuery",value:function(){if(this.cachedQuery.length)for(var t=0;this.cachedQuery.length>t;t++){var e=uo(this.cachedQuery[t]),n=e[0],r=e.slice(1);this[n].apply(this,r)}}},{key:"getBucUserId",value:function(t){this.iframeLoaded?(this.queue.push(t),this.pending||(ho(this.iframe.contentWindow,"getBucUserId"),this.pending=!0)):this.cachedQuery.push(["getBucUserId",t])}},{key:"setBucUserId",value:function(t,e,n){var r=this;this.iframeLoaded?(this.queue.push((function(){r.userId=e,n()})),ho(this.iframe.contentWindow,"setBucUserId",e)):this.cachedQuery.push(["setBucUserId",t,e,n])}}])}(),wo=Ot,_o=fr,Po=function(){return"undefined"!=typeof WeixinJSBridge||"undefined"!=typeof QQJSBridge||!(!window.navigator||!(window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1||window.navigator.userAgent.toLowerCase().indexOf("qq")>-1||window.navigator.userAgent.toLowerCase().indexOf("toutiaomicroapp")>-1||void 0!==window.navigator.wxuserAgent))},Eo=".alipay.com",So="__TRACERT_COOKIE_",To=function(){return so((function t(e,n){var r=this;ao(this,t),this.queue=[],this.tracert=e,wo(this,n),this.initBucName=!1,this.interceptPv(),this.tracert.after("start",(function(){setTimeout((function(){return r.init()}),0)}))}),[{key:"cookiesHelper",get:function(){return this._cookiesHelper||(this._cookiesHelper=new bo),this._cookiesHelper}},{key:"interceptPv",value:function(){var t=this;this.tracert.before("logPv",(function(){return!!t.initBucName||(t.queue.push(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),!1)}))}},{key:"sendQueue",value:function(){var t=this;this.initBucName=!0,this.queue.forEach((function(e){t.tracert&&t.tracert.call("logPv",e)})),this.queue.length=0}},{key:"init",value:function(){if(!Po()||this.tracert){if(this.isAlipayDomain=-1!==document.domain.indexOf(Eo),this.tracert.bucUserId||this.tracert.roleId)return this.setBucUser(),this.tracert.backupUserId=this.tracert.bucUserId||this.tracert.roleId,void this.sendQueue();var t=this.isAlipayDomain?Eo:null;if(this.tracert.bucUserId=_o.get("".concat(So,"bucUserId"),{domain:t})||_o.get("bucUserId",{domain:t}),this.tracert.bucUserId)return this.synchronousBucId(!1),void this.sendQueue();this.synchronousBucId(!0)}else this.sendQueue()}},{key:"setLocalBucUserId",value:function(){_o.set("".concat(So,"bucUserId"),this.tracert.bucUserId||this.tracert.roleId,{domain:this.isAlipayDomain?Eo:null,samesite:"none",secure:!0})}},{key:"setBucUser",value:function(){var t=this.tracert.bucUserId||this.tracert.roleId||"";if("string"==typeof t&&/^((wb)|(WB))?\d+$/.test(t)){if(this.setLocalBucUserId(),this.isAlipayDomain)return;this.cookiesHelper.setBucUserId("userId",t,(function(){}))}}},{key:"synchronousBucId",value:function(t){var e=this;this.cookiesHelper.getBucUserId((function(n){n&&(e.tracert&&(e.tracert.bucUserId=n),e.setLocalBucUserId()),t&&e.sendQueue()}))}}])}(),Ao=function(t,e){var n=t,r=new To(n,{});return n.set({buc:r}),e(),n},Oo=window,Io="nameStorage:",xo=/^([^=]+)(?:=(.*))?$/,Co=encodeURIComponent,ko=decodeURIComponent,jo={},Mo={};function No(){var t,e=[],n=!0;for(var r in jo)jo.hasOwnProperty(r)&&(n=!1,t=jo[r]||"",e.push(Co(r)+"="+Co(t)));Oo.name=n?mo:Io+Co(mo)+"?"+e.join("&")}!function(t){if(t&&0===t.indexOf(Io)){var e=t.split(/[:?]/);e.shift(),mo=ko(e.shift())||"";for(var n,r,i,o=e.join("").split("&"),a=0,c=o.length;c>a;a++)(n=o[a].match(xo))&&n[1]&&(r=ko(n[1]),i=ko(n[2])||"",jo[r]=i)}else mo=t||""}(Oo.name),Mo.setItem=function(t,e){t&&void 0!==e&&(jo[t]=e+"",No())},Mo.getItem=function(t){return jo.hasOwnProperty(t)?jo[t]:null},Mo.removeItem=function(t){jo.hasOwnProperty(t)&&(jo[t]=null,delete jo[t],No())},Mo.clear=function(){jo={},No()},Mo.valueOf=function(){return jo},Mo.toString=function(){var t=Oo.name;return 0===t.indexOf(Io)?t:Io+t},go="beforeunload",yo=function(){No()},(vo=Oo)&&(vo.addEventListener?vo.addEventListener(go,yo,!1):vo.attachEvent&&vo.attachEvent("on"+go,(function(t){yo.call(vo,t)}))),Oo.nameStorage=Mo;var Lo=Mo;function Do(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bo(r.key),r)}}function Bo(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}var Ro=ut,Uo=hr,Fo=fe,Ho=pe,zo=On,Yo=".alipay.com",Vo=["refUrl","srcSpm","referPageId","referSPM","dtLogMonitor"],Jo="TRACERT_REF_",Wo=function(){return function(t,e,n){return e&&Do(t.prototype,e),n&&Do(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracert=e||{},this.isAlipayDomain=document.domain&&-1!==document.domain.indexOf(Yo),this.cookiesDomain=this.isAlipayDomain?Yo:null,this.initRef(),e.before("logPv",(function(){e.srcSpm=e.lastClkSpm||e.srcSpm})),e.after("logPv",(function(){e.referSPM=n.getPageSpmAB(),e.referPageId=e.pageId,e.refUrl=e.url,e.srcSpm=e.lastClkSpm})),Ro("beforeunload",window,(function(){n.cache()}))}),[{key:"getPageSpmAB",value:function(t,e){return t||e||(t=this.tracert.spmAPos,e=this.tracert.spmBPos),t&&e?"".concat(t,".").concat(encodeURIComponent(e)):""}},{key:"initRef",value:function(){var t=this.tracert,e={referSPM:this.getMetaSpmId()||""},n=this.get();Vo.forEach((function(r){var i=Ct(r);i||t.ignoreNameStorage||(i=Lo.getItem("".concat(Jo).concat(r))),!i&&n&&(i=n[r]),i&&(e[r]=i)})),t.call("set",e)}},{key:"getMetaSpmId",value:function(){for(var t=Fo(window.document.getElementsByTagName("meta")),e="",n=0;t.length>n;n++){var r=t[n],i=Ho(r,"name"),o=Ho(r,"content");if(o&&i&&"pagename"===i)e=o}return e?this.getPageSpmAB(this.tracert.spmAPos,e):e}},{key:"cache",value:function(){var t=this.tracert||{},e=location.href||"";e.length>150&&(e=t.url);var n=this.getPageSpmAB(),r=t.lastClkSpm,i=t.referPageId;if(Uo.set("fullfill_ref",[e,n,r,i||""].join(""),{domain:this.cookiesDomain,cookie:!0}),!t.ignoreNameStorage){var o={refUrl:e,referPageId:i,referSPM:n,srcSpm:r};Object.keys(o).forEach((function(t){o[t]&&Lo.setItem("".concat(Jo).concat(t),o[t])}))}}},{key:"get",value:function(){var t=Uo.get("fullfill_ref",{domain:this.cookiesDomain},!0);if("string"!=typeof t)return null;var e=t.split("");if(!e[0])return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=zo.parse(this.tracert.url||"");return zo.parse(n||"").host===a.host?{refUrl:n,referSPM:r,srcSpm:i,referPageId:o}:null}}])}(),qo=function(t,e){var n=t,r=new Wo(n);return n.set({fullfillRef:r}),e(),n};function Ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ta(r.key),r)}}function $o(t,e,n){return e&&Xo(t.prototype,e),n&&Xo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qo(t,e,n){return(e=ta(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Go(Object(n),!0).forEach((function(e){Qo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ta(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}function ea(t){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(t)}var na=function(){return $o((function t(e,n){Ko(this,t),this.tracert=e,this.fullLinkAPI=n,this.start()}),[{key:"getParam5",value:function(t){var e={};t&&t.param5&&t.param5.split("^").forEach((function(t){var n=t.split("=")[0];"newChinfo"===n&&(e.newChinfo=t.split("=")[1]),"scm"===n&&(e.scm=t.split("=")[1])}));return e}},{key:"start",value:function(){var t=this;this.tracert.before("click",(function(e){var n=e.extra,r=void 0===n?{}:n,i=e.options,o=t.getParam5(void 0===i?{}:i),a=o.newChinfo||r.newChinfo||"",c=o.scm||r.entityId||r.scm||"";a&&c&&(t.fullLinkAPI.setNextPageParams({newChinfo:a,scm:c}),t.fullLinkAPI.appendChinfo({newChinfo:a,scm:c}),t.fullLinkAPI.setNextPageNewChinfo({newChinfo:a,scm:c}))}))}}])}(),ra=function(){return $o((function t(e){Ko(this,t),this.tracert=e,this.trace=!!Ct("trace"),this.chinfo=Ct("chinfo")||Ct("chInfo")||"",this.scm=Ct("scm")||"",this.isPageInfoLogged=!1,this.start()}),[{key:"start",value:function(){this.trace&&this._setPageInfo()}},{key:"_setPageInfo",value:function(){var t=this;this.tracert.after("logPv",(function(){t.isPageInfoLogged||(window.AlipayJSBridge.call("handleLoggingAction",{actionType:"setPageParams",data:JSON.stringify({chinfo:t.chinfo,scm:t.scm})}),t.isPageInfoLogged=!0)}))}}])}();function ia(){}function oa(t,e,n){var r="function"==typeof e?e:ia;if(t&&"success"===t.status)if(t.data)if(n)r(t.data);else try{r(JSON.parse(t.data))}catch(e){r({err:"解析失败",response:t.data})}else r({err:"容器返回空"});else r({err:"容器异常"})}var aa=function(){return $o((function t(e){Ko(this,t),this.tracert=e,this.start()}),[{key:"start",value:function(){var t=this.getCurrentPageParams,e=this.getChinfoChainUUID;this.tracert.set({getChinfoChain:this.getChinfoChain,appendChinfo:this.appendChinfo.bind(this),updateChinfo:this.updateChinfo.bind(this),setPageParams:this.setPageParams.bind(this),setNextPageParams:this.setNextPageParams.bind(this),setCurrentPageNewChinfo:this.setCurrentPageNewChinfo.bind(this),setNextPageNewChinfo:this.setNextPageNewChinfo.bind(this),getCurrentPageParams:t,getChinfoChainUUID:e})}},{key:"setPageParams",value:function(t,e){this._setParams("setPageParams",t,e)}},{key:"setNextPageParams",value:function(t){this._setParams("setNextPageParams",t)}},{key:"appendChinfo",value:function(){this._setChinfoChain("appendChinfo",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"updateChinfo",value:function(){this._setChinfoChain("updateChinfo",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"getChinfoChain",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="getChinfoChain",r={};"boolean"==typeof e&&e&&(r.isFiltered="1"),"object"===ea(e)&&(e.isFirst?n="getFirstChinfo":e.isFiltered&&(r.isFiltered="1")),window.AlipayJSBridge.call("handleLoggingAction",Zo({actionType:n},r),(function(e){oa(e,t)}))}},{key:"getChinfoChainUUID",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={actionType:"getChinfoChainUUID"};e.isFiltered&&(n.isFiltered="1"),e.bizName&&(n.bizName=e.bizName),window.AlipayJSBridge.call("handleLoggingAction",n,(function(e){oa(e,t,!0)}))}},{key:"getCurrentPageParams",value:function(t){window.AlipayJSBridge.call("handleLoggingAction",{actionType:"getCurrentPageParams"},(function(e){oa(e,t)}))}},{key:"setCurrentPageNewChinfo",value:function(){this._setNewChinfo("setCurrentPageNewChinfo",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"setNextPageNewChinfo",value:function(){this._setNewChinfo("setNextPageNewChinfo",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"_setParams",value:function(t,e,n){if(e){var r={},i={};if("string"==typeof e&&(r.chinfo=e||"",r.scm=n||""),"object"===ea(e)){var o=e.newChinfo,a=void 0===o?"":o,c=e.chinfo,s=void 0===c?"":c,u=e.entityId,l=void 0===u?"":u,f=e.scm,p=void 0===f?"":f,d=e.tracestep,h=void 0===d?3:d,m=e.isforce;a&&(r.newChinfo=a),s&&(r.chinfo=s),r.scm=l||p||"",i.tracestep=h,m&&(i.isforce="1")}window.AlipayJSBridge.call("handleLoggingAction",Zo({actionType:t,data:JSON.stringify(r)},i))}}},{key:"_setChinfoChain",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=e.newChinfo||"",i=e.chInfo||e.chinfo||"",o=e.entityId||e.scm||"";r&&(n.newChinfo=r),i&&(n.chinfo=i),o&&(n.scm=o),window.AlipayJSBridge.call("handleLoggingAction",{actionType:t,data:JSON.stringify(n),type:e.type||"click"})}},{key:"_setNewChinfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=e.newChinfo,i=void 0===r?"":r,o=e.scm,a=void 0===o?"":o;i&&(n.newChinfo=i,a&&(n.scm=a),window.AlipayJSBridge.call("handleLoggingAction",{actionType:t,params:n}))}}])}();var ca=function(t,e){var n=t;return function(t){window.AlipayJSBridge&&"function"==typeof t?t():document.addEventListener("AlipayJSBridgeReady",t,!1)}((function(){var t=new aa(n);n.after("start",(function(){n.fullLinkAndChInfo&&(window.fullLinkParamsLogger=new na(n,t))})),window.autoFullLinkParamsLogger=new ra(n),e()})),n},sa=function(t,e){var n=t;return Tt((function(){var t=window.alitripBridge;t&&t.call&&"function"==typeof t.call?t.call("user_info",{successCallback:function(t){t&&t.userId?(n.set({role_id:t.userId}),e()):e()},failCallback:function(t){console.log("Tracert 未获取到支付宝uid",t),e()}}):e()})),n},ua=function(t,e){var n=t;return Tt((function(){var t=window.WindVane;t&&t.call&&"function"==typeof t.call?window.WindVane.call("QianNiu","getUserInfo",{},(function(t){if(!t||!t.user_id)return console.log("Tracert 未获取到千牛uid",t),void e();n.set({role_id:t.user_id}),e()}),(function(t){console.log("Tracert 未获取到千牛uid",t),e()})):e()})),n};function la(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pa(t){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(t)}var da="data-asem",ha="data-asem-params",ma={getSemDom:function(t){var e=t;if(!he(e))return null;do{if(e.hasAttribute(da)&&e.hasAttribute(ha))return e}while((e=e.parentNode)&&e&&e.tagName&&"string"==typeof e.tagName&&"BODY"!==e.tagName&&e!==document.body);return null},getSemId:function(t){var e=t;if(!he(e))return"";if(e.hasAttribute(da)&&e.hasAttribute(ha)&&(e=this.getSemDom(e)),!e)return"";var n=pe(e,da);return"".concat(n)},getSemParams:function(t){var e=t;if(!he(e))return"";if(e.hasAttribute(da)&&e.hasAttribute(ha)&&(e=this.getSemDom(e)),!e)return"";var n=pe(e,ha);return"".concat(n)},getClickSem:function(t){var e=this.getSemDom(t);return{semId:this.getSemId(e),params:this.getSemParams(e)}},formatRemoteParams:function(t){var e=t,n=Ot({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=n.param4||n.params||{};return n.params&&delete n.params,Ot(n,{bizType:n.bizType||e.bizType,actionId:n.actionId||"semclk",param4:r}),n}};function va(t){var e=window.Tracert,n=ma.getClickSem(t.target||t.srcElement);"object"===pa(n)&&n.semId&&(n.actionId="semclk",e.call("sem",n),e.setLastClkSem(n))}var ga={lastClkSem:"",semClickEvent:function(t,e){t&&lt(t,window.document,va),ut(e||this.eventType,window.document,va)},setLastClkSem:function(t){var e=t.semId,n=t.params;"object"!==pa(n)&&(n=Bt(n));var r=n.rid;r?this.lastClkSem="semId_".concat(e,"__rpcId_").concat(r):Et("sem扩展参数，缺省rid字段，无法正确上报")},sem:function(t){var e={};Ot(e,ma.formatRemoteParams(this,t)),"string"!=typeof e.param4&&(e.param4=Dt(e.param4)),_n({tracert:this,type:gn.AlipayJSBridge,data:e,jsApiType:yn.semLog})}},ya=function(t,e){return t.set(function(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(n),!0).forEach((function(e){la(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ga)),t.semClickEvent(),t.before("set",(function(e){var n=e;n.eventType=n.eventType||n.eventName,t.semClickEvent(!!n.eventType&&t.eventType,n.eventType)})),window.AlipayJSBridge?e():document.addEventListener("AlipayJSBridgeReady",(function(){e()}),!1),t},ba=function(t,e){var n=t;return Tt((function(){var t=window.lib,r=window.WindVane,i=function(){t&&t.mtop&&"function"==typeof t.mtop.request?t.mtop.request({api:"mtop.taobao.wireless.alipay.getAlipayId",v:"1.0",data:{},ecode:1,timeout:1500},(function(t){t&&t.data&&t.data.alipayId?(n.set({role_id:t.data.alipayId}),e()):e()}),(function(t){console.log("Tracert 未获取到支付宝uid",t),e()})):e()};r&&r.call?r.call("TBDeviceInfo","getUtdid",{},(function(t){var e=t.utdid;e?(n.set({mdata:{utdid:e}}),i()):i()}),(function(t){console.log("Tracert 获取utdid失败",t),i()})):i()})),n};function wa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function _a(t){if(Array.isArray(t))return t}function Pa(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ka(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return t.length>r?{done:!1,value:t[r++]}:{done:!0}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ea(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sa(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ta(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Aa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(n),!0).forEach((function(e){Ea(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ia(t,e){return _a(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(t,e)||ka(t,e)||Ta()}function xa(t){return function(t){if(Array.isArray(t))return wa(t)}(t)||Sa(t)||ka(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(t){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(t)}function ka(t,e){if(t){if("string"==typeof t)return wa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(t,e):void 0}}var ja=It,Ma=xt,Na=On;var La=function(t){return null!=t};function Da(t){return"[object Array]"==Object.prototype.toString.call(t)}function Ba(t,e,n){if(!t||!e||!Da(n))return"";for(var r=xa(n),i=0;t.length>i;i++){if("object"!==Ca(e)||null===e)return"";var o=t[i];if("[index]"===o){if(!r.length||!Da(e))return"";o=r[0],r.splice(0,1)}e=e[o]}return e}var Ra=Qt.DATA_ASPM,Ua=Qt.DATA_ASPM_CLICK,Fa=Qt.DATA_ASPM_EXPO,Ha=Qt.DATA_ASPM_PARAM,za=Qt.DATA_ASPM_VISUAL,Ya={attributes:!0,childList:!0,subtree:!0,attributeFilter:[Ra,Ua,"data-visual-component-id"],characterData:!1},Va="spmc",Ja="spmd",Wa=null;function qa(t,e,n,r){var i=function(t){var e,n=!!t;n||(t=null===(e=Wa)||void 0===e?void 0:e.appId);var r=Wa||{},i=r.appType;if(!t||!i)return"";var o="DEV"===r.env?"DEV":"PROD";return"".concat("https://ur.alipay.com/","redirectService_").concat(n?"VISUAL_CPT_H5":i,"_").concat(t,"_").concat(o)}(e),o=function(t){"function"==typeof n&&n(t)};if(i){var a=Date.now();!function(t,e,n){var r=Xe();r?(r.open("GET",t,!0),r.send(),r.onreadystatechange=function(){4===r.readyState&&(200!==r.status?n&&n(Error("request fail: status code "+r.status),r):e&&e(r.responseText,r))}):n&&n(Error("create xhr fail"))}(i,(function(t){o(Mt(t))}),(function(){"function"==typeof r&&r(),function(t,e){var n={yuyan_id:nc,code:12,msg:t.link,d1:t.shortlink,d2:t.time,d3:t.success,m1:t.time};ec(n,e)}({link:"",shortlink:i,time:Date.now()-a,success:!1},t),o()}))}else o()}function Ka(t,e,n){if(t){var r=function(){var e=t[i],r=e.selector,o=e.splitType,a=e.spm,c=function(t,e,n){if(!t)return[];var r=t.globalIndex,i=t.similarBrotherIndex,o=t.parentAttrs,a=t.attrs,c=t.parentGlobalIndex,s=n||document;if(void 0!==r&&void 0===i||!o)return hc(a,e,s);var u=hc(o,"",s);if(!u||0===u.length)return[];void 0!==c&&(u=u[c]?[u[c]]:[]);var l=[];return u.forEach((function(t){var n=hc(a,e,t);n&&0!==n.length&&l.push.apply(l,xa(n))})),l}(r,o,n);if(!c||0===c.length)return 0;var s,u=r.similarBrotherIndex,l=r.globalIndex,f=r.selfSelector;if(!0===r.effectOthers){var p=c[0],d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!e)return null;var r=[],i=t;for(;i&&"function"==typeof i.getAttribute&&i!==document.body;){var o=i.getAttribute($a);if(null!==o){var a=o.lastIndexOf("_"),c=o.substr(a+1);if(""!==c&&(r=[c].concat(xa(r))),o.substr(0,a)===e)return n?r:i}i=i.parentNode}return null}(p,r.effectOthersByAttr),h=p.hasAttribute($a),m=(s="",function(t,e){for(var n=t;n&&n.getAttribute&&"body"!==n.tagName.toLowerCase();){if(!0===e(n))return n;n=n.parentNode}return null}(p,(function(t){var e=t.getAttribute($a);if(null!==e){var n=e.lastIndexOf("_");return""!==(s=e.substr(0,n))}}))?s:"");if(m&&d&&d.parentNode){var v=fe(d.parentNode.querySelectorAll("[".concat($a,"]"))),g=[];return v.forEach((function(t){var e=t.getAttribute($a);e&&0===e.indexOf(m)&&(h?g.push(t):g.push.apply(g,xa(fe(hc(f,"normal",t)))))})),g.forEach((function(t,n){Xa(e,t,"".concat(a,"_").concat(n))})),0}}if("splited"===o)return c.forEach((function(t,n){Xa(e,t,"".concat(a,"_").concat(n))})),0;var y=0;void 0!==u?y=u:void 0!==l&&(y=l),Xa(e,c[y],a)};for(var i in t)r();e&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];for(var n in t){var r=t[n],i=r.spm,o="[".concat("spmc"===r.spmType?Ra:Ua,'="').concat(i,'"][').concat(za,"]"),a=document.querySelectorAll(o);a&&0!==a.length&&(a.forEach((function(t,e){t.removeAttribute(za),t.removeAttribute(Fa),t.removeAttribute(Ra),t.removeAttribute(Ua)})),e.push.call(e,a))}}(e)}}function Xa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t&&e&&"function"==typeof e.getAttribute){var r=t.extParamConfigs,i=t.spmType===Va?Ra:Ua;e.getAttribute(i)!=n&&e.setAttribute(i,n);var o=!1;t.eventTypes&&"function"==typeof t.eventTypes.indexOf&&(o=-1!==t.eventTypes.indexOf("exposure")),o&&!e.hasAttribute(Fa)&&e.setAttribute(Fa,""),!o&&e.hasAttribute(Fa)&&e.removeAttribute(Fa);var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[];if(!t||!t.length)return"";var r,i=Pa(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.extractType,c=o.key;if("function"!=typeof rc[a])return"";var s=void 0;"DataSet"!==a&&"CompVariable"!==a||(s=e);var u=rc[a](o.extractKey,s,o.extractHooksList,o.extractParentLevel);n.push("".concat(c,"=").concat(u))}}catch(t){i.e(t)}finally{i.f()}return n.join("^")}(r,e);e.getAttribute(Ha)!==a&&e.setAttribute(Ha,a),e.hasAttribute(za)||e.setAttribute(za,"")}}var $a="data-visual-list-key",Qa=On,Ga=Mt,Za=Bt,tc=pe,ec=qe,nc=Re,rc={UrlQueryParam:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n="";if("string"!=typeof e)return n;var r=Na.parse(e);return n=ja(t,r.search)||""},UrlPathParam:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n="",r=t.match(/^\$\{pathParam(\d+)\}$/);return null==r||void 0===r[1]||"string"!=typeof e?n:n=Na.parse(e).pathname.split("/")[r[1]]||""},StartUpParam:function(t){return Ma(t)||""},GlobalParam:function(t){var e=null;return window.visualLogExtraParams&&La(window.visualLogExtraParams[t])&&(e=window.visualLogExtraParams[t]),La(e)||(e=window[t]),"string"==typeof e||"number"==typeof e?"".concat(e):""},DataSet:function(t,e){var n="";return e&&e.hasAttribute&&e.hasAttribute("data-".concat(t))&&!/aspm\-?/.test(t)?n=e.getAttribute("data-".concat(t))||"":n},CompVariable:function(t,e,n,r){if("string"!=typeof t)return"";var i=t.split("?."),o=function(t,e){for(var n=e.filter((function(t){return"[index]"===t})).length,r=[],i=t;i&&"function"==typeof i.getAttribute&&i!==document.body&&n>0;){var o=i.getAttribute("data-visual-list-key");if(null!==o){var a=o.lastIndexOf("_"),c=o.substr(a+1);if(""!==c&&(r=[c].concat(xa(r)),n-=1),0===n)return r}i=i.parentNode}return[]}(e,i);if(0===i.length)return"";for(var a=null,c=e,s=r||1;c&&"function"==typeof c.getAttribute&&c!==document.body;){if(null!==c.getAttribute("data-visual-comp-vars")){if(1===s){a=c.compVars||{};break}s--}c=c.parentNode}var u,l=(window.__VISUAL_PARAMS__||{}).getCompVars;try{if(a)a=Ba(i,a,o);else if("function"==typeof l){var f=l(e,s)||{},p=f.hooksList,d=f.props,h=f.hooksObj;if("string"!=typeof n||"[]"===n||0!==t.indexOf("state")&&0!==t.indexOf("ref"))a=d||h,d&&i.shift();else{var m=JSON.parse(n),v=_a(u=i||[])||Sa(u)||ka(u)||Ta(),g=v[0],y=v[1],b=v.slice(2),w=Ia(m.filter((function(t){return t.type===g&&t.name===y})),1)[0];w&&p&&p[w.index]&&(a=p[w.index].value,i=b)}"object"===Ca(a=Ba(i,a,o)||"")&&(a=JSON.stringify(a))}}catch(t){return""}return"string"==typeof a||"number"==typeof a?a:""}};function ic(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;if(t===e)return!0;for(var n=t.split("/"),r=e.split("/"),i=/\$\{pathParam\d+\}/,o=0;Math.max(n.length,r.length)>o;o++)if(n[o]!==r[o]&&!i.test(n[o])&&!i.test(r[o]))return!1;return!0}function oc(t,e){if(t===e)return!0;if(!t||!e||"string"!=typeof t||"string"!=typeof e)return!1;var n=Qa.parse(t),r=Qa.parse(e);return n.hash&&r.hash&&!1===n.hashIsAnchor&&!1===r.hashIsAnchor?ic(n.hash||"",r.hash||""):ic(n.pathname,r.pathname)}function ac(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.match(/\/www\/.+/),r=Qa.parse(e);return ic(n?n[0]:"",r.pathname)}function cc(t){if(t){var e={};for(var n in t)if(""!==t[n])switch(n){case"className":e[n]="."+t[n].split(/\s+/).join(".");break;case"id":e[n]="#".concat(t[n]);break;case"dataTracker":e[n]='[data-tracker="'.concat(t[n],'"]');break;case"xpath":e[n]=dc(t[n]);break;default:e[n]=t[n]}return e}}function sc(t){if(t){var e={};for(var n in t)e[n]="attrs"===n||"parentAttrs"===n||"selfSelector"===n?cc(t[n]):t[n];return e}}function uc(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.length)return null;for(var i="WALLET_H5_APP"===(null==r?void 0:r.appType)?ac:oc,o=(null===(e=window)||void 0===e||null===(n=e.__LYRA_LOCATION)||void 0===n?void 0:n.href)||window.location.href,a=0;t.length>a;a++){var c=t[a],s=c.aggregationUrl,u=c.fullSpm,l=void 0===u?"":u;if(i(o,void 0===s?"":s)&&"string"==typeof l)return Oa(Oa({},t[a]),{},{spmBPos:l.split(".")[1]})}return null}var lc=[Va,Ja];function fc(t){var e=1>=arguments.length||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,r={};return lc.forEach((function(i){var o=t["".concat(i,"ConfigsList")];if(o)for(var a=0;o.length>a;a++){var c=o[a],s=c.fullSpm,u=void 0===s?"":s,l=c.matchPosition,f=void 0===l?"":l,p=u.split("."),d=p[1];if(e||"bFollowPage"===d||n===d){var h=p.slice(-1).join("");if(i===Ja){var m=p.slice(0,3).join("."),v=r[m];(!v||v.matchPosition&&0===Object.keys(v.matchPosition).length)&&(h=p.slice(-2).join("."))}var g=Ga(f,{});r[u]=Oa(Oa({},o[a]),{},{spm:h,spmType:i,matchPosition:g,selector:sc(g)})}}})),r}function pc(){var t=document.querySelector('meta[name="visual-spm"]');if(null===t)return null;var e=tc(t,"content")||"";return Wa=Za(e)}function dc(t){var e="";if("string"!=typeof t)return e;var n=t.replace(/^\//,"").split("/"),r=/\[(\d+)\]/,i=n.map((function(t){var e,n=null===(e=t.match(r))||void 0===e?void 0:e[1];return void 0===n?t:"".concat(t.replace(r,""),":nth-of-type(").concat(n,")")}));return e=i.join(">")}function hc(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n=[];if(!t)return n;for(var r=0,i="splited"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")?["className","dataTracker","id","xpath"]:["dataTracker","id","className","xpath"];i.length>r;r++){var o=i[r];if(t[o])return xa(n=("xpath"===o?document:e).querySelectorAll(t[o])||[])}return n}var mc={};function vc(t){t.forEach((function(t){var e=mc[t];if(e)for(var n=document.querySelectorAll('[data-ant-render-component="@alipay/'.concat(t,'"]')),r=0;n.length>r;r++){Ka(e,null,n[r])}}))}function gc(t,e){e&&(void 0===mc[e]?(mc[e]=null,qa(t,e,(function(t){t&&(mc[e]=fc(t),vc([e]))}),(function(){mc[e]=void 0}))):vc([e]))}var yc,bc,wc,_c=(wc=null===(yc=window)||void 0===yc||null===(bc=yc.navigator)||void 0===bc?void 0:bc.userAgent,!/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(wc)),Pc=_c?1e3:500,Ec=null,Sc=null,Tc=!0,Ac=[],Oc=null,Ic=null,xc=!1,Cc=[];function kc(){var t,e=(null===(t=Sc)||void 0===t?void 0:t.origin)||{},n=uc(e.spmbConfigsList,e.appConfig);return n?n.spmBPos:null}function jc(t,e){var n;t&&(Sc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={spmbConfig:null,spmIdMap:{},prevDiffMap:{},origin:t},r=t.spmbConfigsList,i=t.appConfig,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(arguments.length>3?arguments[3]:void 0)){var a=uc(void 0===r?[]:r,(void 0===i?{}:i)||{});a&&(n.spmbConfig=a,o=a.spmBPos)}if(!o)return n;var c=fc(t,!1,o);return Object.keys(c).forEach((function(t){n.spmIdMap[t]=c[t],e[t]&&delete e[t]})),c=null,n.prevDiffMap=e,n}(t,this.spmBPos,null===(n=Sc)||void 0===n?void 0:n.spmIdMap,e),!1===Tc&&Mc(this))}function Mc(t){Tc=!1,function(t){Cc.forEach((function(e){var n=e.opts,r=e.spmBPos;(r&&!In(r)||!kc())&&t&&t.call("logPv",n)})),Cc.length=0}(t),Sc&&(!function(t){var e=(Sc||{}).spmbConfig;e&&e.spmBPos&&e.spmBPos!==t.spmBPos&&(t.spmBPos=e.spmBPos,t.call("logPv",t.autoLogPv?{combineType:Qt.COMBINE_TYPE.MIX}:{combineType:Qt.COMBINE_TYPE.AUTO}))}(t),Ka(Sc.spmIdMap,Sc.prevDiffMap),function(t){var e,n=Pa(Ac);try{for(n.s();!(e=n.n()).done;){t.call("_spmEventHandler",e.value)}}catch(t){n.e(t)}finally{n.f()}Ac.length=0}(t),clearTimeout(Ec),"function"==typeof Ic&&Ic())}function Nc(t){if(!Oc){var e=ar((function(){Sc&&("function"==typeof Oc.disconnect&&Oc.disconnect(),Ka(Sc.spmIdMap,Sc.prevDiffMap),"function"==typeof Oc.disconnect&&Oc.observe(document.querySelector("body"),Ya))}),300,{leading:!0,trailing:!0});Oc=function(t){var e=window.MutationObserver||window.WebKitMutationObserver;if(e){var n=new e(t);return Tt((function(){n&&n.observe(document.querySelector("body"),Ya)})),n}}((function(n){n&&n.length>0&&n.forEach((function(e){var n=e.target;if("attributes"===e.type||"childList"===e.type)for(;n&&"function"==typeof n.getAttribute&&1===n.nodeType&&"BODY"!==n.tagName&&"HTML"!==n.tagName;){var r=n.getAttribute("data-ant-render-component");r&&"string"==typeof r&&gc(t,r.replace("@alipay/","")),n=n.parentNode}})),e.call(t)}))}}function Lc(t){!function(t){var e=window.__tracertVisual||{};jc.call(t,e.config),Tc&&(Ec=setTimeout((function(){Mc(t)}),Pc),qa(t,null,(function(e){jc.call(t,e),Mc(t)})))}(t),xc||(xc=!0,Nc(t),t.before("autoClick",(function(t){if(Tc)return Ac.push(t),!1})),t.set({autoExpo:!0}),Tc&&(Ic=ft("beforeunload",window,(function(){Mc(t)}))),t.before("logPv",(function(e){if(!0===Tc)return Cc.push({opts:e,spmBPos:t.spmBPos}),!1;var n=kc();if(In(t.spmBPos)&&n)t.spmBPos=n;else if(t.autoLogPv&&"auto"===e.combineType&&n)return!1})),_c&&t.before("set",(function(t){if(t&&t.pathName)return In(t.spmBPos)&&kc()?(console.log("当前页面已存在可视化配置时，自动设置的B位".concat(t.spmBPos,"失效!")),!1):void 0})),t.after("set",(function(e){var n,r,i;e.spmBPos&&((null===(n=Sc)||void 0===n||null===(r=n.spmbConfig)||void 0===r?void 0:r.spmBPos)!==e.spmBPos&&jc.call(t,null===(i=Sc)||void 0===i?void 0:i.origin,!0))})),"function"==typeof t.onRouterChange&&t.onRouterChange((function(){var e;jc.call(t,null===(e=Sc)||void 0===e?void 0:e.origin)})))}var Dc={initVisualSpm:function(){var t,e,n=this,r=pc();Tc=!(!r||"false"===(null==r?void 0:r.remote)),(r||(null===(t=window)||void 0===t||null===(e=t.__tracertVisual)||void 0===e?void 0:e.config))&&Lc(this),ut("TracertVisualConfigReady",document,(function(){var t=window.__tracertVisual||{},e=t.config;!e||!0!==t.isAntLogDev&&Sc||jc.call(n,e)}))}},Bc=function(t,e){return t.set(Oa({},Dc)),e(),t.call("initVisualSpm"),t};function Rc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uc(Object(n),!0).forEach((function(e){Rc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hc(t){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(t)}var zc={_guid:function(){return Gt()},generatePageId:function(t){var e=t||{},n=e.spmAPos,r=e.spmBPos,i=n&&r?"".concat(n,".").concat(r):"";return"".concat(i,"_").concat(this._guid(),"_").concat(Date.now())},_initSessionId:function(t){try{var e=window.sessionStorage,n=t.sessionIdKey;return e||(e={}),e[n]||(e[n]="".concat(this._guid(),"_").concat(Date.now())),e[n]||""}catch(t){}return""},_initClientId:function(t){var e=window.localStorage,n=t.sessionIdKey;if(e)return e[n]||(e[n]="".concat(this._guid(),"_").concat(Date.now())),e[n]||""},_initPageId:function(t){window._tracert_loader_cfg=window._tracert_loader_cfg||{};var e=window._tracert_loader_cfg.pageId,n=t||{},r=n.spmAPos,i=n.spmBPos;if(!e){var o=me(null,n.container),a=r||o.spmAPos,c=i||ve(),s=a&&c?"".concat(a,".").concat(c):"";e="".concat(s,"_").concat(this._guid(),"_").concat(Date.now()),window._tracert_loader_cfg.pageId=e}return e},_initChInfo:function(){return Ct("chInfo")||Ct("chinfo")},_initVerify:function(){return{taskId:Ct("tracertTaskId"),verifyServer:Ct("tracertVerifyServer")}},fillInSpmId:function(t,e){var n=t.spmId||"",r=t.actionId,i=e.spmAPos,o=e.spmBPos;if(r!==e.seedIdCfg.pageSeedId){var a=n.split(".").length;r!==Qt.EVENT_TYPE.CLICK||n?i&&o?""!==n?3>a?t.spmId=[i,o,n].join("."):a>4&&(t.param2=n,delete t.spmId):delete t.spmId:3>a&&delete t.spmId:t.spmId="".concat(i).concat(o?"."+o:"")}else t.spmId=n||"".concat(i).concat(o?"."+o:"")},_formatParam:function(t,e){var n=e||{};this.fillInSpmId(n,t),!n.param2&&n.spmId&&(n.param2=n.spmId);var r="";t.spmAPos&&t.spmBPos&&(r="".concat(t.spmAPos,".").concat(encodeURIComponent(t.spmBPos)));for(var i={version:t.version,mBizScenario:t.bizScenario,mPageState:t.state,role_id:Be(t),fullURL:location.href,ref:t.refUrl,clientID:t.clientId,pageSpm:r},o=["chInfo","_spmId","dtLogMonitor","_refSpm"],a=0;o.length>a;a++){var c=o[a];t[c]&&(i[c]=t[c])}return n.param4?Ot(n.param4,i):n.param4=i,n.param4=Fc(Fc({},t.mdata),n.param4),n},cutOffTitle:function(t){if("string"!=typeof t)return"";var e=t.length;return e>20?"".concat(t.substring(0,10)).concat(t.substring(e-10),"|").concat(e-20):t},getClickParams:function(t){var e=t?t.target||t.srcElement||t:null;if(!e)return{};var n=document.documentElement.scrollHeight||0,r=document.documentElement.scrollWidth||0,i={width:null==e?void 0:e.clientWidth,height:null==e?void 0:e.clientHeight};"function"==typeof e.getBoundingClientRect&&(i=e.getBoundingClientRect());var o=Te(e),a=Se(e)||"";return"string"==typeof a&&0===a.indexOf("#")||(a=o),{xpath:o,selectorId:a,selectorName:Ne(e,1).text,clickXPos:~~t.pageX,clickYPos:~~t.pageY,scrollWidth:r,scrollHeight:n,clickWidth:i.width||0,clickHeight:i.height||0,dpr:window.devicePixelRatio||1}},uploadLinksId:function(t){var e,n=0;function r(){var r,i,o,a=(i=(null===(r=document.querySelector('iframe[title="links"]'))||void 0===r?void 0:r.src)||"",(o=null==i?void 0:i.match(/\/room\/([^/]+)/))?o[1]:"");if(a){var c,s,u,l=(null===(c=window)||void 0===c||null===(s=c.yuyanMonitor)||void 0===s||null===(u=s.userConfig)||void 0===u?void 0:u.yuyanId)||"";t.call("send","10101427",{room_id:a,spm_id:t.spmAPos||"",yuyan_id:l},"",{bizType:"antlog"}),clearInterval(e)}else 2>n?n++:clearInterval(e)}e=setInterval(r,5e3),window.addEventListener("beforeunload",(function(){clearInterval(e),r()}))}},Yc=On,Vc={_calledLogPv:!1,server:"https://collect.alipay.com/dwcookie",openSendBeacon:!1,seedIdCfg:{pageSeedId:"pageMonitor",clkSeedId:"clicked",calcSeedId:"calc",expoSeedId:"exposure",syslogSeedId:"syslog",exceptionSeedId:"102023"},refUrl:document.referrer||"",clientIdKey:"tracert-client-key",verifyServer:"https://log.alipay.com/realTimeNonNativeLogCheck/uploadLog.json",init:function(){if(!this._calledInited){var t=zc._initSessionId(this),e=zc._initClientId(this),n=zc._initPageId(this),r=this.chInfo||zc._initChInfo(this),i=zc._initVerify();this.call("set",Fc({sessionId:t,pageId:n,clientId:e,chInfo:r},i));var o=this;this.before("logPv",(function(){o._calledLogPv&&(o.pageId=zc.generatePageId(o));var t=Yc.parse(window.location.href||"");o.url=t.format()})),this._calledInited=!0}},_logPv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Ct("cityId"),n=this.spmBPos,r=this.framePageTitle,i="".concat(this.spmAPos).concat(n?".":"").concat(n),o=zc.cutOffTitle(r||document.title),a={seedId:this.seedIdCfg.pageSeedId,actionId:this.seedIdCfg.pageSeedId,spmId:i,param1:this.url,param2:"",param3:"",param4:Fc({cityid:e,framePageTitle:o},t)};this.call("remoteLog",a),this._calledLogPv=!0},sendExpose:function(){var t=this,e=setInterval((function(){if(t.cacheExObjArr.length-1<t._wap_exObjIndex)clearTimeout(e);else{var n=t._packFinalData(t.cacheExObjArr[t._wap_exObjIndex]);t._send(n),t._wap_exObjIndex++}}),this._wap_intervalEx)},sendMergeExpose:function(){var t=this;this._expoMergeItvObj||(this._expoMergeItvObj=setInterval((function(){if(t.fmtedExObjArr.length-1<t._wap_mgObjIndex)clearTimeout(t._expoMergeItvObj),t._expoMergeItvObj=null;else{var e=t.cacheMrExObjArr[t._wap_mgObjIndex];if(e&&e.length&&e.length-1>=t._wap_mgTdObjIndex){var n=e[t._wap_mgTdObjIndex],r=t._packFinalData(n.ExObj,"",n.currentConfig);t._send(r),t._wap_mgTdObjIndex++}else e&&e.length&&(t._wap_mgTdObjIndex=0,t._wap_mgObjIndex++);var i=t.fmtedExObjArr[t._wap_mgTdObjIndex],o=t._packFinalData(i.ExObj,"",i.currentConfig);t._send(o),t._wap_mgObjIndex++}}),this._wap_interval))},remoteLog:function(t,e){if(!(t.actionId===Qt.EVENT_TYPE.EXPOSURE&&e&&e.combineType===Qt.COMBINE_TYPE.AUTO||xn(t.spmId,e)&&(t.actionId===Qt.EVENT_TYPE.CLICK||"pageMonitor"===t.actionId)&&!1===this.uepLogSwitch)){this.init();var n=this,r=zc._formatParam(this,t);if(r.actionId===Qt.EVENT_TYPE.CLICK)Ot(r.param4,zc.getClickParams(e.event));else if(!r.spmId)return;if("mergeExpose"===r.actionId&&r.spmId&&3===r.spmId.split(".").length&&r.param4)return this._wap_timer&&clearTimeout(this._wap_timer),this.fmtedExOptions=ee(this.fmtedExOptions,Ot({},r)),this.fmtedExObj=ne(this.fmtedExObj,Ot({},r)),this.fmtedExObjArr=re(this.fmtedExObj,this.fmtedExOptions,e),void(this._wap_timer=setTimeout((function(){n.cacheMrExObjArr.push(n.fmtedExObjArr),n.fmtedExObj={},n.fmtedExObjArr=[],n.sendMergeExpose()}),this._wap_interval));if("exposure"===r.actionId&&r.spmId&&3===r.spmId.split(".").length)return this._wap_timerEx&&clearTimeout(this._wap_timerEx),this.cacheExObjArr.push(r),void(this._wap_timerEx=setTimeout((function(){n.sendExpose()}),this._wap_intervalEx));var i=this._packFinalData(r,void 0,e);this._send(i)}},_packFinalData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"function"==typeof this._beforePackFinalData&&this._beforePackFinalData(t);var r=t.param4;r&&(xn(t.spmId,n)&&(r._autoLog=!0),r.fullURL=location.href),t.param4=function(t){if("object"===_t(t))for(var e in t)if(t.hasOwnProperty(e)&&"string"==typeof t[e]){var n=t[e].replace(/,/g,"%2C").replace(/\s+/g," ").replace(/=/g,"%3D");t[e]="fullURL"===e&&n.length>300?n.slice(0,300):n}return t}(t.param4),"clicked"===t.actionId&&this.set({lastClkSpm:t.spmId});for(var i=Be(this),o=fn,a=e&&"event"===e?["D-AE",De(),this.clientId||"","","2","",this.sessionId||"",i,1e3,t.actionId,n.bizType||this.bizType,this.logLevel,this.pageId||"","","","","","","","","","","","","","".concat(window.innerWidth||"","x").concat(window.innerHeight,"x").concat(window.devicePixelRatio),"","","",navigator.userAgent?navigator.userAgent.replace(/,/g,"%2C"):"","","","","object"===Hc(this.sysInfo)?Dt(this.sysInfo):"","","","object"===Hc(t.param4)?Dt(t.param4):t.param4]:["DW-COOKIE",this.sessionId||"",i,t.actionId||"",t.spmId||t.seedId||"",this.referSPM||"",this.url&&this.url.length>300?this.url.slice(0,300):this.url||"",this.refUrl||this.referPageId||"","object"===Hc(t.param4)?Dt(t.param4):t.param4||"",this.chInfo||"",this.platformType||"",this.pageId||"",navigator.userAgent?navigator.userAgent.replace(/,/g,"%2C"):"","na"===o.os.name?"PC":"H5","".concat(o.app.name,"/").concat(o.app.version,"|").concat(o.browser.name,"/").concat(o.browser.fullVersion,"|").concat(o.os.name,"/").concat(o.os.fullVersion),this.srcSpm||"",this.referPageId||"",n.bizType||this.bizType||"","",window.innerWidth||"",window.innerHeight||"",window.devicePixelRatio||"","object"===Hc(this.sysInfo)?Dt(this.sysInfo):"",this.darwinExpId||""],c=0;a.length>c;c++)"string"==typeof a[c]&&(a[c]=a[c].replace(/,/g,"%2C"));return a},_send:function(t){_n({tracert:this,type:gn.http,data:t})},send:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clicked",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._runBeforeFns("send",e);var i=isNaN(t)?"":"event",o=this._packFinalData({spmId:n||"".concat(this.spmAPos,".").concat(this.spmBPos),actionId:t,param4:e},i,r);this._send(o)},sendwithCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clicked",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._runBeforeFns("send",e);var i=isNaN(t)?"":"event";!function(t){var e=t.tracert,n=void 0===e?null:e;if(!n)throw Error("request tracert");gr&&gr.tracert===n||(gr=new yr(n));var r=t.data,i=void 0===r?{}:r;try{i=bn(i,n)}catch(t){Ue(t,n)}try{gr.addData(i)}catch(t){Ue(t,n)}}({tracert:this,data:this._packFinalData({spmId:n||"".concat(this.spmAPos,".").concat(this.spmBPos),actionId:t,param4:e},i,r)})}},Jc={getChinfoChain:function(){},appendChinfo:function(){},updateChinfo:function(){},setPageParams:function(){},setNextPageParams:function(){},setCurrentPageNewChinfo:function(){},setNextPageNewChinfo:function(){},getCurrentPageParams:function(){},getChinfoChainUUID:function(){}},Wc="originValue",qc=function(t,e){var n=t;return n.set(Fc(Fc({},Vc),Jc)),n.call("init"),function(t){t.call("before","logPv",(function(t){var e;t.parentOrigin=(null===(e=window.location.ancestorOrigins)||void 0===e?void 0:e[0])||window.location.origin,t.selfOrigin=window.location.origin,t.cookieDeprecationLabel=Wc}))}(t),function(t){if(-1!==window.navigator.userAgent.indexOf("Chrome")){var e,n;if("function"==typeof(null===(e=window.navigator)||void 0===e||null===(n=e.cookieDeprecationLabel)||void 0===n?void 0:n.getValue))try{window.navigator.cookieDeprecationLabel.getValue().then((function(e){Wc=e,t()}))}catch(e){Wc="errorWhenGet",t()}else Wc="noApi",t()}else Wc="notChrome",t()}(e),zc.uploadLinksId(n),n};var Kc=function(t,e){return Kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Kc(t,e)};function Xc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function n(){this.constructor=t}Kc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $c=function(){return $c=Object.assign||function(t){for(var e,n=1,r=arguments.length;r>n;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$c.apply(this,arguments)};function Qc(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function c(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}function Gc(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&i[3]>c[1])){o.label=c[1];break}if(6===c[0]&&i[1]>o.label){o.label=i[1],i=c;break}if(i&&i[2]>o.label){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}"function"==typeof SuppressedError&&SuppressedError;var Zc=Function.prototype.apply.call.bind(Function.prototype.apply);function ts(t,e,n){return Zc(t,e,n)}var es=JSON.parse;var ns,rs,is,os=Object.prototype.hasOwnProperty;function as(t,e){return!!t&&function(t,e){for(var n=[],r=2;arguments.length>r;r++)n[r-2]=arguments[r];return Zc(t,e,n)}(os,t,e)}function cs(){var t=function(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,value:n,writable:!0}):t[e]=n};function e(t){return Object(t)===t}function n(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(t(this,"_id","_WeakMap"+"_"+i()+"."+i()),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function r(t,n){if(!e(t)||!as(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof t)}function i(){return(""+Math.random()).substring(2)}return t(n.prototype,"delete",(function(t){if(r(this,"delete"),!e(t))return!1;var n=t[this._id];return!(!n||n[0]!==t)&&(delete t[this._id],!0)})),t(n.prototype,"get",(function(t){if(r(this,"get"),e(t)){var n=t[this._id];return n&&n[0]===t?n[1]:void 0}})),t(n.prototype,"has",(function(t){if(r(this,"has"),!e(t))return!1;var n=t[this._id];return!(!n||n[0]!==t)})),t(n.prototype,"set",(function(n,i){if(r(this,"set"),!e(n))throw new TypeError("Invalid value used as weak map key");var o=n[this._id];return o&&o[0]===n?(o[1]=i,this):(t(n,this._id,[n,i]),this)})),t(n,"_polyfill",!0),n}function ss(){var t="undefined"!=typeof Map;ns=t?Map:function(){var t=function(){function t(){this.keyList=[],this.valueList=[]}return t.prototype.set=function(t,e){var n=this.keyList,r=n.indexOf(t);if(-1===r){var i=n.push(t)-1;this.valueList[i]=e}else this.valueList[r]=e;return this},t.prototype.get=function(t){var e=this.keyList.indexOf(t);return-1===e?void 0:this.valueList[e]},t.prototype.forEach=function(t){for(var e=this.keyList.slice(),n=this.valueList.slice(),r=e.length,i=0;r>i;i++)t(n[i],e[i],this)},Object.defineProperty(t.prototype,"size",{get:function(){return this.keyList.length},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return-1!==this.keyList.indexOf(t)},t.prototype.delete=function(t){var e=this.keyList.indexOf(t);return-1!==e&&(this.keyList.splice(e,1),this.valueList.splice(e,1),!0)},t.prototype.clear=function(){this.keyList=[],this.valueList=[]},t}();return t}()}function us(){return ns||ss(),new ns}function ls(){var t="undefined"!=typeof Set;rs=t?Set:function(){var t=function(){function t(){this.itemList=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.itemList.length},enumerable:!1,configurable:!0}),t.prototype.add=function(t){return-1===this.itemList.indexOf(t)&&this.itemList.push(t),this},t.prototype.delete=function(t){var e=this.itemList.indexOf(t);return-1!==e&&(this.itemList.splice(e,1),!0)},t.prototype.clear=function(){this.itemList=[]},t.prototype.has=function(t){return-1!==this.itemList.indexOf(t)},t.prototype.forEach=function(t){for(var e=0,n=this.itemList.slice();n.length>e;e++){var r=n[e];t(r,r,this)}},t}();return t}()}function fs(){var t;return is||(t="undefined"!=typeof WeakMap,is=t?WeakMap:cs()),new is}function ps(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function ds(t){var e=t.left+window.pageXOffset,n=document.documentElement.scrollWidth-t.left-t.width-window.pageXOffset,r=t.top+window.pageYOffset,i=document.documentElement.scrollHeight-t.top-t.height-window.pageYOffset;return{width:t.width,height:t.height,left:t.left,top:t.top,right:t.right,bottom:t.bottom,realLeft:e,realRight:n,realTop:r,realBottom:i}}var hs=["link","head","script","style","meta","html","title","body"],ms=/^\s+$/;function vs(t){return!!t&&(t.nodeType===Node.ELEMENT_NODE&&0>hs.indexOf(t.tagName.toLowerCase()))}function gs(t){return!!vs(t)&&(t&&t.childNodes?0===Array.prototype.filter.call(t.childNodes,(function(t){return t.nodeType!==Node.COMMENT_NODE})).length:void 0)}function ys(t){return!!vs(t)&&(t&&t.tagName&&"input"===t.tagName.toLowerCase())}function bs(t){return function(t){return!!t&&!(t.nodeType!==Node.TEXT_NODE||!t.parentElement||hs.indexOf(t.parentElement.tagName.toLowerCase())>=0)}(t)&&!ms.test(t.nodeValue)}function ws(t){return void 0===t&&(t=""),t.startsWith("data:")?"":/^https?:/.test(t)||t.startsWith("//")?t:t.startsWith("http")||t.startsWith("//")?t.split("#").shift():""}function _s(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=[],o=t;o&&o!==document&&o!==document.body;){var a=o.id,c=o.className,s=o.nodeName,u=o.tagName,l=void 0;if(r){l=0;for(var f=o.previousSibling;f;)f.nodeType===Node.ELEMENT_NODE&&f.localName===o.localName&&l++,f=f.previousSibling}var p=void 0!==l?"[".concat(l,"]"):"";if(a||"string"==typeof c&&c.trim()){var d=a&&"#".concat(a)||"",h="string"==typeof c&&c.trim()&&".".concat(c.split(/\s+/).filter(Boolean).join("."));i.unshift("".concat(n?"".concat(u).concat(p):"").concat(d).concat(h))}else i.unshift("".concat(s).concat(p));o=o.parentNode}return i.join(e)}function Ps(t){for(var e=t;e&&e!==document&&e!==document.body;){var n=window.getComputedStyle(e).zIndex;if(!isNaN(Number(n)))return n;e=e.parentNode}}function Es(t){if(vs(t)&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)){var e=window.getComputedStyle(t).overflowY,n=window.getComputedStyle(t).overflowX,r=("scroll"===e||"auto"===e)&&t.scrollHeight>t.clientHeight,i=("scroll"===n||"auto"===n)&&t.scrollWidth>t.clientWidth;if(r&&i)return"all";if(r)return"vertical";if(i)return"horizontal"}}function Ss(t){for(var e=t;e&&e!==document&&e!==document.body;){var n=e.__zInstance__;if(n&&n.eventHandlers&&n.eventHandlers.tap)return!0;e=e.parentNode}return!1}function Ts(t){var e="";return t&&(t.id?e="#".concat(t.id):t.className&&(e=".".concat(t.className.trim().replace(/\s+/g," .")))),e}function As(t,e){var n="";return e?n="#".concat(e):t&&(n=".".concat(t.trim().replace(/\s+/g," ."))),n}function Os(t){var e=t.rect;if(function(t,e){return e?!!document.getElementById(e):t?document.getElementsByClassName(t).length>0:void 0}(t.className,t.id))return Zs(e,tu())}var Is=function(){function t(t,e){this.node=t,this.resourceUrl=e,this.node=t,this.resourceUrl=e}return t.prototype.isVisible=function(){return function(t){var e=t.nodeType===Node.TEXT_NODE?t.parentElement:t;return!!(e&&e.offsetHeight>0&&e.offsetWidth>0&&"0"!=="".concat(e.style.opacity)&&"hidden"!==e.style.visibility&&"none"!==e.style.visibility&&e.closest("body"))}(this.node)},t.prototype.getNode=function(){return this.node},t.prototype.isChanged=function(t){return!1},t.prototype.getState=function(){return{element:this,rect:this.getRect(),type:"co"}},t.prototype.getRect=function(){var t=ps(this.node);return 0===t.width&&0===t.height?null:ds(t)},t}(),xs=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r._lastState=null,r}return Xc(e,t),e.prototype.isChanged=function(t){return this._lastState?this._lastState.resourceUrl!==t.resourceUrl:(this._lastState=t,!0)},e.prototype.getState=function(){return{element:this,resourceUrl:this.resourceUrl,rect:this.getRect(),type:"i"}},e}(Is),Cs=function(t){function e(e){var n=t.call(this,e)||this;return n.node=e,n}return Xc(e,t),e.prototype.getState=function(){return{element:this,rect:this.getRect(),type:"l"}},e}(Is),ks=function(t){function e(e){var n=t.call(this,e)||this;return n.node=e,n._lastState=null,n}return Xc(e,t),e.prototype.isChanged=function(t){return this._lastState?this._lastState.textContent!==t.textContent&&(this._lastState=t,!0):(this._lastState=t,!0)},e.prototype.getState=function(){return{element:this,textContent:this.node.textContent,rect:this.getRect(),type:"t"}},e.prototype.getRect=function(){try{var t=document.createRange();t.selectNode(this.node);var e=ps(t);return 0===e.width&&0===e.height?null:ds(e)}catch(t){return null}},e.prototype.getTextLength=function(){var t,e;return(null===(e=null===(t=this.node)||void 0===t?void 0:t.textContent)||void 0===e?void 0:e.length)||0},e}(Is),js=function(t){function e(e){var n=t.call(this,e)||this;return n.node=e,n}return Xc(e,t),e.prototype.getState=function(){return{element:this,rect:this.getRect(),type:"p"}},e}(Is),Ms=null,Ns=fs(),Ls=us();function Ds(t,e){var n=t.get(e);return n||t.set(e,n=[]),n}function Bs(t){if(Ns.has(t))return Ns.get(t);var e,n=us();try{e=t.rules}catch(t){}if(e)for(var r=0;e.length>r;r++){var i=e[r],o=Rs(i);if(o){var a=ws(o);a&&Ds(n,a).push(i.selectorText)}}return Ns.set(t,n),n}function Rs(t){if(t.type===CSSRule.STYLE_RULE){var e=t.style,n=e.backgroundImage||e.background;return/url/.test(n)?function(t){if(Ls.has(t))return Ls.get(t);var e=t.match(/url\(('|"|)([^[)]+)\1\)/);if(e){var n=e[2],r=void 0;if(/^https?:/.test(n))r=n;else if(/^data:/.test(n))r="";else{r=new URL(n,location.href).href}return Ls.set(t,r),r}Ls.set(t,"")}(n):void 0}}function Us(t,e){var n=t.getBoundingClientRect(),r=e;if(t.offsetHeight&&t.offsetHeight!==Math.round(n.height)){var i=t.offsetHeight/Math.round(n.height);i&&(r=Number(r.split("px")[0])/i+"px")}return r}var Fs,Hs,zs,Ys,Vs,Js=function(){function t(){this.cached=fs()}return t.prototype.getStyle=function(t,e){var n=this.getCache(t,e);if(n)return n;var r=getComputedStyle(t,e?"::".concat(e):void 0),i=this.getWhiteListStyle(r,t);return this.setCache(i,t,e),i},t.prototype.setCache=function(t,e,n){var r;void 0===n&&(n="root");var i=this.cached.get(e)||{};this.cached.set(e,$c($c({},i),((r={})[n]=t,r)))},t.prototype.getCache=function(t,e){void 0===e&&(e="root");var n=this.cached.get(t);if(n)return n[e]},t.prototype.getWhiteListStyle=function(t,e){for(var n={},r=0,i=["uc-perf-stat-ignore","transform","transform-origin","width","height","opacity","visibility","display","color","font-size","font-family","position","background-color"];i.length>r;r++){var o=i[r];n[o]=t.getPropertyValue(o),"font-size"===o&&n[o]&&(n[o]=Us(e,n[o]))}return n},t}(),Ws=function(t){function e(e){var n=t.call(this,e)||this;return n.node=e,n}return Xc(e,t),e.prototype.getState=function(){return{element:this,rect:this.getRect(),type:"s"}},e}(Is),qs=((Fs={}).xpath=function(t,e,n){return t.pth=_s(e,"/",!0),!0},Fs.position=function(t,e,n){return t.pos={h:"".concat(n.height),w:"".concat(n.width),x:"".concat(n.left),y:"".concat(n.top)},!0},Fs.spm=function(t,e,n){var r=eu(e);return r&&(t.spm=r),!0},Fs.zIndex=function(t,e,n){var r=Ps(e);return r&&(t.zIdx=r),!0},Fs.clickable=function(t,e,n){var r=Ss(e);return r&&(t.clk=r),!0},Fs.selector=function(t,e,n){var r=Ts(e);return r&&(t.slt=r),!0},Fs.indexed_xpath=function(t,e,n){return t.ipth=_s(e,"/",!0,!0),!0},Fs),Ks=((Hs={}).xpath=function(t,e,n){return t.pth=_s(e,"/",!0),!0},Hs.position=function(t,e,n){return t.pos={h:"".concat(n.height),w:"".concat(n.width),x:"".concat(n.left),y:"".concat(n.top)},!0},Hs.spm=function(t,e,n){var r=eu(e);return r&&(t.spm=r),!0},Hs.zIndex=function(t,e,n){var r=Ps(e);return r&&(t.zIdx=r),!0},Hs.clickable=function(t,e,n){var r=Ss(e);return r&&(t.clk=r),!0},Hs.selector=function(t,e,n){var r=Ts(e);return r&&(t.slt=r),!0},Hs.indexed_xpath=function(t,e,n){return t.ipth=_s(e,"/",!0,!0),!0},Hs),Xs=((zs={}).xpath=function(t,e,n){return t.pth=_s(e,"/",!0),!0},zs.position=function(t,e,n){return t.pos={h:"".concat(n.height),w:"".concat(n.width),x:"".concat(n.left),y:"".concat(n.top)},!0},zs.zIndex=function(t,e,n){var r=Ps(e);return r&&(t.zIdx=r),!0},zs.selector=function(t,e,n){var r=Ts(e);return r&&(t.slt=r),!0},zs.indexed_xpath=function(t,e,n){return t.ipth=_s(e,"/",!0,!0),!0},zs.direction=function(t,e,n){var r=Es(e);return r&&(t.dir=r),!0},zs),$s=((Ys={}).xpath=function(t,e,n){return t.pth=_s(e,"/",!0),!0},Ys.position=function(t,e,n){return t.pos={h:"".concat(n.height),w:"".concat(n.width),x:"".concat(n.left),y:"".concat(n.top)},!0},Ys.spm=function(t,e,n){var r=eu(e);return r&&(t.spm=r),!0},Ys.zIndex=function(t,e,n){var r=Ps(e);return r&&(t.zIdx=r),!0},Ys.selector=function(t,e,n){var r=Ts(e);return r&&(t.slt=r),!0},Ys.type=function(t,e,n){var r;return t.type=(r=e)&&r.getAttribute("data-keyboard")||"",!0},Ys.indexed_xpath=function(t,e,n){return t.ipth=_s(e,"/",!0,!0),!0},Ys.placeholder=function(t,e,n){return t.ph=function(t){var e=t&&t.getAttribute("placeholder");!e&&t.previousElementSibling&&(e=t.previousElementSibling.className&&t.previousElementSibling.className.includes("a-input-placeholder")&&t.previousElementSibling.textContent||"");return e||""}(e),!0},Ys),Qs=((Vs={}).color=function(t,e,n,r){return t.cor="".concat(n.color),!!t.cor},Vs.size=function(t,e,n,r){return t.sz="".concat(n["font-size"]),!!t.sz},Vs.family=function(t,e,n,r){var i=(n["font-family"]||"").replace(/"/g,"");return i&&(t.fam=i),!!t.fam},Vs.xpath=function(t,e,n,r){return t.pth=_s(e,"/",!0),!0},Vs.position=function(t,e,n,r){return t.pos={h:"".concat(r.height),w:"".concat(r.width),x:"".concat(r.left),y:"".concat(r.top)},!0},Vs.spm=function(t,e,n,r){var i=eu(e);return i&&(t.spm=i),!0},Vs.zIndex=function(t,e,n,r){var i=Ps(e);return i&&(t.zIdx=i),!0},Vs.clickable=function(t,e,n,r){var i=Ss(e);return i&&(t.clk=i),!0},Vs.selector=function(t,e,n,r){var i=Ts(e);return i&&(t.slt=i),!0},Vs.indexed_xpath=function(t,e,n,r){return t.ipth=_s(e,"/",!0,!0),!0},Vs);function Gs(t,e,n,r){var i=function(){try{for(var t=void 0,e=[],n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null);t=n.nextNode();)e.push(t);return e}catch(t){return[]}}();if(e.size>0&&!nu(r)){for(var o=0,a=i;a.length>o;o++){e.add(l=a[o])}i=function(t){var e=[];return t.forEach((function(t){e.push(t)})),e}(e)}for(var c=[],s=0,u=i;u.length>s;s++){var l;if(bs(l=u[s])||vs(l)){var f=t.get(l);if(!f){if(l.nodeType===Node.TEXT_NODE)f=new ks(l);else if(l.nodeType===Node.ELEMENT_NODE||l.nodeType===Node.DOCUMENT_NODE){var p=l,d=ws(p.src);if(d)f=new xs(l,d);else{var h=/^url\((['"]?)(.*)\1\)$/.exec(p.style.backgroundImage);h&&(f=new xs(l,h[2]))}f||(ys(l)?f=new js(l):Es(l)?f=new Ws(l):gs(l)&&(f=new Cs(l)))}f&&t.set(l,f)}f&&c.push(f)}}e.clear(),n.forEach((function(e,n){for(var r=0,i=e;i.length>r;r++){var o=document.querySelectorAll(i[r]);o.length&&o.forEach((function(e){var r=t.get(e);r||(r=new xs(e,n),t.set(e,r)),r&&c.push(r)}))}}));for(var m=[],v=tu(),g=0,y=c;y.length>g;g++){var b=y[g].getState();b.rect&&Zs(b.rect,v)&&m.push($c($c({},b),{rect:{width:b.rect.width,height:b.rect.height,left:b.rect.realLeft||0,right:b.rect.realRight||0,top:b.rect.realTop||0,bottom:b.rect.realBottom||0}}))}return m}function Zs(t,e){if(t.top>=0&&t.left>=0){var n=[t.left+t.width/2,t.top+t.height/2],r=!0;return r=(r=r&&n[0]>=e.left&&e.right>=n[0])&&n[1]>=e.top&&e.bottom>=n[1]}}function tu(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight}}function eu(t){for(var e=[],n=t;n&&n!==document&&n!==document.documentElement;){var r="";if(n.getAttribute&&(r=n.getAttribute("data-aspm")||n.getAttribute("data-aspm-click")),!r){var i=n.$$dataset;i&&(r=i.aspmClick||i.aspm)}if(r)for(var o=0,a=r.split(".");a.length>o;o++){e.unshift(a[o])}n=n.parentNode}var c=document.querySelector('[value="page-meta"]');(null==c?void 0:c.$$dataset)&&e.unshift(c.$$dataset.aspmA,c.$$dataset.aspmB);var s=document.querySelector('[name="data-aspm"]');return s&&e.unshift(s.content),e.filter((function(t,e,n){return n.indexOf(t)===e})).join(".")}function nu(t){return t&&t.allScreenMode&&"full"===t.allScreenMode}function ru(t){return t&&0===Object.keys(t).length}function iu(){return"object"==typeof performance&&performance&&performance.now()||Date.now()}function ou(t){if(t&&(bs(t)||function(t){if(t&&(t.nodeType===Node.ELEMENT_NODE||t.nodeType===Node.DOCUMENT_NODE)){var e=t;if(ws(e.src))return!0;if(/^url\((['"]?)(.*)\1\)$/.exec(e.style.backgroundImage))return!0}return!1}(t)||vs(n=t)&&n.textContent||gs(t))){var e=function(t){if(t){var e=t;if(t.nodeType===Node.TEXT_NODE){var n=document.createRange();n.selectNode(t),e=n}var r=ps(e);return 0===r.width&&0===r.height?null:r}}(t);if(e)return Zs(e,tu())}var n;return!1}var au=function(){function t(){var t=this;this.edgeConfig=null,this.messageEdgeConfig=null,this.envInfo=null,this.scaneSeqIndex=0,this.contentElements=fs(),this.changedElements=(rs||ls(),new rs),this.firstInvoked=!1,this.waitingTime=0,this.startTime=0,this.scrollCallback=function(){t.invokedByEvent()},this.clickCallback=function(e){e.stopPropagation(),setTimeout((function(){t.invokedByEvent()}),1e3)},this.mouseupCallback=function(){setTimeout((function(){t.invokedByEvent()}),1e3)},this.pagePause=function(){t.disableMutationObserver()},this.pageResume=function(){t.invokeScanContentOnce(),t.bindMutationObserver()},this.invokeScanContentOnce=function(t,e,n,r,i){var o,a,c=null,s=0;i||(i={});var u=function(){s=!1===i.leading?0:Date.now(),c=null,a=ts(t,null,o),o=null};return function(){for(var l=[],f=0;arguments.length>f;f++)l[f]=arguments[f];var p=Date.now();s||!1!==i.leading||(s=p);var d=e-(p-s);return o=l,0>=d||d>e?(r(c),c=null,s=p,a=ts(t,null,o),o=null):c||!1===i.trailing||(c=n(u,d)),a}}(this.invokeScanContentOnce.bind(this),1e3,setTimeout,clearTimeout)}return t.prototype.getImageMappingsFromStyleSheets=function(){return function(){for(var t=document.styleSheets,e=us(),n=0;t.length>n;n++)Bs(t[n]).forEach((function(t,n){for(var r=Ds(e,n),i=0,o=t;o.length>i;i++)r.push(o[i])}));return e}()},t.prototype.setShowTime=function(t){this.firstShowTime=t},t.prototype.invokedByEvent=function(){1e4>iu()-this.firstShowTime&&!this.firstInvoked?(this.firstInvoked=!0,this.invokeScanContentOnce(),this.bindMutationObserver(),this.setShowTime(0)):this.firstInvoked&&this.invokeScanContentOnce()},t.prototype.startInvoked=function(){this.firstInvoked||(this.firstInvoked=!0,this.invokeScanContentOnce("default"),this.bindMutationObserver())},t.prototype.stopInvoked=function(){this.edgeConfig&&!this.edgeConfig.allScreenEnabled&&(this.disableScroll(),this.disableMutationObserver(),this.disableClick()),nu(this.edgeConfig)||this.disableClick()},t.prototype.setupListener=function(t){return Qc(this,void 0,void 0,(function(){var e=this;return Gc(this,(function(n){switch(n.label){case 0:return t&&t.edgeMiningCloudRealEnabled&&window.addEventListener("message",(function(t){var n,r=t.data;if(t.origin===location.origin&&r){var i=null===(n=function(t){try{return es(t)}catch(t){}}(r))||void 0===n?void 0:n.edgeminingConfig;if(i&&"object"==typeof i){e.messageEdgeConfig=i;var o=e.popupDetail;o&&Os(o)?e.invokeScanContentOnce("message",o):(e.popupDetail=void 0,e.invokeScanContentOnce("message"))}}})),this.setShowTime(iu()),[4,this.getEdgeMiningConfig()];case 1:return n.sent(),this.edgeConfig&&(window.addEventListener("scroll",this.scrollCallback,!0),window.addEventListener("click",this.clickCallback),this.edgeConfig.scope&&this.edgeConfig.scope.popup&&document.addEventListener("$$t2:modal",(function(t){t&&(e.popupDetail=t.detail)})),t&&"running"===t.actStatus&&(window.addEventListener("mouseup",this.mouseupCallback),this.delegate.callBridge("addNotifyListener",{name:"MA_EM_ACT_STATUS_CHANGE_NOTIFY"},(function(t){t&&"ended"===t.status&&(e.disableMouseup(),e.disableScroll(),e.disableMutationObserver(),e.disableClick(),e.disablePause(),e.disableResume())}))),document.addEventListener("pause",this.pagePause),document.addEventListener("resume",this.pageResume),"realTime"===this.edgeConfig.firstScreenMode?setTimeout((function(){e.firstInvoked||(e.firstInvoked=!0,e.waitingTime=Date.now(),e.invokeScanContentOnce("default"),e.bindMutationObserver()),e.stopInvoked()}),(this.edgeConfig.firstScreenTimingConfig||{}).startTime||5e3):(document.addEventListener("$$t2:stop",(function(){e.startInvoked(),e.stopInvoked()})),setTimeout((function(){e.startInvoked(),e.stopInvoked()}),1e4))),[2]}}))}))},t.prototype.disableMutationObserver=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)},t.prototype.disableScroll=function(){window.removeEventListener("scroll",this.scrollCallback,!0)},t.prototype.disableClick=function(){window.removeEventListener("click",this.clickCallback)},t.prototype.disableMouseup=function(){window.removeEventListener("mouseup",this.mouseupCallback)},t.prototype.disablePause=function(){document.removeEventListener("pause",this.pagePause)},t.prototype.disableResume=function(){document.removeEventListener("resume",this.pageResume)},t.prototype.fetchConfig=function(t){return Qc(this,void 0,void 0,(function(){var e=this;return Gc(this,(function(n){return[2,new Promise((function(n){e.delegate.callBridge("getEdgeMiningConfig",{appId:t.appId,url:t.url},(function(t){n((null==t?void 0:t.enabled)?t:null)}))}))]}))}))},t.prototype.bindMutationObserver=function(){var t;this.mutationObserver||(this.mutationObserver=function(t,e,n){if(!MutationObserver)return null;var r=document.body,i=new MutationObserver((function(r){for(var i=!1,o=0,a=r;a.length>o;o++){var c=a[o];if(c.target&&"#comment"!==c.target.nodeName)if(c.addedNodes.length>0)for(var s=0,u=c.addedNodes;u.length>s;s++)ou(l=u[s])&&(t.add(l),i=!0);else if("characterData"===c.type)(ou(l=c.target.parentNode)||n)&&(t.add(l),i=!0);else if("attributes"===c.type&&"style"===c.attributeName){var l;ou(l=c.target)&&(t.add(l),i=!0)}}i&&e("contentChange")}));return i.observe(r,{childList:!0,subtree:!0,characterDataOldValue:!0,attributeFilter:["style"]}),i}(this.changedElements,this.invokeScanContentOnce,null===(t=this.edgeConfig)||void 0===t?void 0:t.ableExtraReportH5Info))},t.prototype.invokeScanContentOnce=function(t,e){return Qc(this,void 0,void 0,(function(){var n=this;return Gc(this,(function(r){return this.delegate.requestIdle((function(){var r;if(n.startTime=iu(),n.edgeConfig&&"message"!==t)if("realTime"===n.edgeConfig.firstScreenMode&&"default"===t){var i=n.edgeConfig.firstScreenTimingConfig||{},o=i.stopTime||1e4,a=i.changedThold||2;r=setInterval((function(){(function(t){return"contentChange"===t})(t)&&n.changedElements.size>a&&Date.now()-n.waitingTime<o||(clearInterval(r),n.invokeScanContentImpl(e))}),i.stepTime||500)}else if(r)clearInterval(r),n.changedElements.size>(n.edgeConfig.allScreenChangedThold||0)&&n.invokeScanContentImpl(e);else{if("contentChange"===t&&(n.edgeConfig.allScreenChangedThold||0)>=n.changedElements.size)return;n.invokeScanContentImpl(e)}if(n.messageEdgeConfig){var c=n.edgeConfig;n.edgeConfig=n.messageEdgeConfig,n.invokeScanContentImpl(e),n.edgeConfig=c,n.messageEdgeConfig=null}}),{timeout:1e4}),[2]}))}))},t.prototype.getEdgeMiningConfig=function(){return Qc(this,void 0,void 0,(function(){var t,e,n;return Gc(this,(function(r){switch(r.label){case 0:return e=this,[4,this.delegate.getEnv()];case 1:return t=e.envInfo=r.sent(),n=this,[4,this.fetchConfig(t)];case 2:return n.edgeConfig=r.sent(),[2]}}))}))},t.prototype.invokeScanContentImpl=function(t){var e=0==this.scaneSeqIndex++;if(this.edgeConfig){var n=this.calculateFrameInfo(this.edgeConfig,t);n.success&&this.delegate.callBridge("postEdgeMining",$c($c({},n),{isFirstScreen:e}))}},t.prototype.setDelegate=function(t){this.delegate=t},t.prototype.calculateFrameInfo=function(t,e){var n=Date.now(),r=void 0,i=this.changedElements.size;ru(t.scope)&&e||(r=Gs(this.contentElements,this.changedElements,this.getImageMappingsFromStyleSheets(),t));var o=function(t,e,n){var r={image:[],text:[],leaf_placeholder:[],input:[],scroll:[],title:document.title,popup:[]};if(ru(t.scope)||!e)return r;var i=e.filter((function(t){return"t"===t.type})),o=e.filter((function(t){return"i"===t.type})),a=e.filter((function(t){return"l"===t.type})),c=e.filter((function(t){return"p"===t.type})),s=e.filter((function(t){return"s"===t.type}));if(n){var u=n.rect,l=void 0===u?{}:u,f=n.zIndex,p={pos:{x:l.left,y:l.top,w:l.width,h:l.height},slt:As(n.className,n.id)};isNaN(Number(f))||(p.zIdx=f),r.popup.push(p)}if(i.length&&Array.isArray(t.scope.text))for(var d=0,h=i;h.length>d;d++)if((D=h[d]).rect&&(D.element.isChanged(D)||nu(t))){var m=D.element.getNode();if(m.parentElement){var v=m.parentElement;try{for(var g=(Ms||(Ms=new Js),Ms).getStyle(v),y={txt:D.textContent.slice(0,t.maxTextLen||100)},b=!0,w=0,_=t.scope.text;_.length>w;w++)Qs[U=_[w]]&&(b=b&&Qs[U](y,v,g,D.rect));b&&r.text.push(y)}catch(t){continue}}}if(a.length&&Array.isArray(t.scope.leaf_placeholder))for(var P=0,E=a;E.length>P;P++)if((D=E[P]).rect){v=D.element.getNode();try{y={},b=!0;for(var S=0,T=t.scope.leaf_placeholder;T.length>S;S++)Ks[U=T[S]]&&(b=b&&Ks[U](y,v,D.rect));b&&r.leaf_placeholder.push(y)}catch(t){continue}}if(s.length&&Array.isArray(t.scope.scroll))for(var A=0,O=s;O.length>A;A++)if((D=O[A]).rect){v=D.element.getNode();try{y={},b=!0;for(var I=0,x=t.scope.scroll;x.length>I;I++)Xs[U=x[I]]&&(b=b&&Xs[U](y,v,D.rect));b&&r.scroll.push(y)}catch(t){continue}}if(c.length&&Array.isArray(t.scope.input))for(var C=0,k=c;k.length>C;C++)if((D=k[C]).rect){v=D.element.getNode();try{y={},b=!0;for(var j=0,M=t.scope.input;M.length>j;j++)$s[U=M[j]]&&(b=b&&$s[U](y,v,D.rect));b&&r.input.push(y)}catch(t){continue}}if(o.length&&Array.isArray(t.scope.image))for(var N=0,L=o;L.length>N;N++){var D;if((D=L[N]).resourceUrl&&D.rect&&(D.element.isChanged(D)||nu(t))){v=D.element.getNode(),y={url:D.resourceUrl},b=!0;for(var B=0,R=t.scope.image;R.length>B;B++){var U;qs[U=R[B]]&&(b=b&&qs[U](y,v,D.rect))}b&&r.image.push(y)}}return r}(t,r,e),a=function(t){if(t.scale){for(var e={},n=0;t.scale.length>n;n++)"page_margin"===t.scale[n]?e.page_margin=$c({},{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop,right:document.documentElement.scrollWidth-document.documentElement.scrollLeft-document.documentElement.clientWidth,bottom:document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight}):"client_rect"===t.scale[n]&&(e.client_rect={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});return e}}(t),c=Date.now();return{success:!!(o.image.length||o.text.length||ru(t.scope)),content:o,scale:a,extra:{maxTextLen:this.edgeConfig.maxTextLen,scope:this.edgeConfig.scope,url:this.envInfo.url},cost:c-n,context:t.context,costRatio:Number(((iu()-this.startTime)/1e3).toFixed(4)),modifyNodesNumber:i}},t}();!function(t){function e(){var e=t.call(this)||this;return e.requestIdle=window.requestIdleCallback?window.requestIdleCallback.bind(window):function(t){return window.setTimeout(t,1e3)},e.setDelegate(e),e}Xc(e,t),e.prototype.bootstrap=function(){var t=this;cu((function(){AlipayJSBridge.startupParams.edgeMiningEnabled&&t.setupListener(AlipayJSBridge.startupParams)}))},e.prototype.getEnv=function(){return Qc(this,void 0,void 0,(function(){return Gc(this,(function(t){return[2,new Promise((function(t){cu((function(e){t({appId:e.startupParams.appId,url:location.href})}))}))]}))}))},e.prototype.callBridge=function(t,e,n){cu((function(){AlipayJSBridge.call(t,e,n)}))}}(au);function cu(t){"object"==typeof AlipayJSBridge?t(AlipayJSBridge):document.addEventListener("AlipayJSBridgeReady",(function(){t(AlipayJSBridge)}))}function su(t){"object"==typeof AlipayJSBridge?t(AlipayJSBridge):document.addEventListener("AlipayJSBridgeReady",(function(){t(AlipayJSBridge)}))}var uu=new(function(t){function e(){var e=t.call(this)||this;return e.requestIdle=window.requestIdleCallback?window.requestIdleCallback.bind(window):window.setTimeout.bind(window),e.setDelegate(e),e}return Xc(e,t),e.prototype.bootstrap=function(){var t=this;su((function(){AlipayJSBridge.startupParams.edgeMiningEnabled&&t.setupListener(AlipayJSBridge.startupParams)}))},e.prototype.getEnv=function(){return Qc(this,void 0,void 0,(function(){return Gc(this,(function(t){return[2,new Promise((function(t){su((function(e){t({appId:e.startupParams.appId||e.startupParams.parentAppId,url:location.href})}))}))]}))}))},e.prototype.callBridge=function(t,e,n){su((function(){AlipayJSBridge.call(t,e,n)}))},e}(au));function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function fu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function du(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pu(Object(n),!0).forEach((function(e){fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hu(t){return function(t){if(Array.isArray(t))return lu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return lu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mu={},vu="a1008.b96768.c362175",gu="autoevent",yu=["https://mdn.alipayobjects.com/huamei_","https://mdn.alipayobjects.com/mrch_material","https://mdn.alipayobjects.com/ad_mgr","https://img.alicdn.com/imgextra/","https://ilce.alicdn.com/"];function bu(t){if(this.spmAPos&&this.spmBPos){var e=function(t,e){var n=t.target,r=t.percent,i=t.state;if(n){var o=vu,a=gu,c=(n.src||"").substring(0,200);return{params:{spm:o,state:i,bizCode:a,text:c,type:"exposure",percent:r,params:du({fullUrl:window.location.href,mBizScenario:e.mdata.bizScenario,mPageState:e.state,mPageName:e.name,role_id:Be(e)},e.mdata)},event:n,context:e,combineType:Qt.COMBINE_TYPE.AUTO,sdkParams:{dpr:window.devicePixelRatio,techType:"h5",useScriptForTracert:e._useScript,spmId:Vn(n,e),materialUrl:c}}}}({target:t.target,percent:t.percent,state:t.state},this);Wn(e)}}function wu(t){var e=this;t&&0!==t.length&&t.forEach((function(t){var n=t.target;if(0!==(null==n?void 0:n.clientHeight)&&0!==(null==n?void 0:n.clientWidth)){var r=ie(t.isIntersecting,t.intersectionRatio,e,n,vu),i=r.nextStatus,o=r.percent,a=oe(n,vu,e,i);if(a){var c=a.expoElDs;c.status=se(i,c.status),c.percent=o;var s="";[Qt.EXPO_AREA_STATE.HAFT,Qt.EXPO_AREA_STATE.WHOLE].indexOf(i)>-1?s="start":Qt.EXPO_AREA_STATE.DISAPPEAR===i&&(s="end"),s&&bu.call(e,{target:n,percent:o,state:s})}}}))}function _u(t){var e,n=this,r=null===(e=mu[this._instanceId])||void 0===e?void 0:e._materialCollectIOInc;if(r){t||(t=this.container||document);var i=function(t){return t&&"function"==typeof t.querySelectorAll?"IMG"===t.tagName&&pe(t,"data-aspm-click")?[t]:hu(t.querySelectorAll("[data-aspm-click] img, img[data-aspm-click]")):[]}(t),o=function(t,e){return t.length&&e.length?t.filter((function(t){var n,r=pe(t,"src")||"",i=pe(t,"data-src")||"";return e.some((function(t){return 0===r.indexOf(t)||0===i.indexOf(t)}))&&null===(null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"data-aspm-expo"))})):[]}(i,yu.concat(this.materialWhiteHost||[]));o.forEach((function(t){var e=n._instanceId;t[e]||(t[e]={}),t[e].materialCollectOBserve||(t[e].materialCollectOBserve=!0,r.observe(t))}))}}function Pu(t){var e=this;t&&0!==t.length&&t.forEach((function(t){var n=t.addedNodes,r=void 0===n?[]:n,i=t.type,o=t.target;switch(void 0===i?"":i){case"attributes":try{if(!o||1!==o.nodeType)return;_u.call(e,o)}catch(t){Ue(t,tracert)}break;case"subtree":case"childList":if(r)for(var a=0;r.length>a;a++){var c=r[a];c&&1===c.nodeType&&_u.call(e,c)}}}))}var Eu={startMaterialCollect:function(){var t,e=this;if(function(t){return!(!0!==t._UEPMode&&!t.enableIntersectionObserver)&&(xt("tracertMaretialCollect")||t.materialCollect)}(this)&&!(null===(t=mu[this._instanceId])||void 0===t?void 0:t._materialCollectStarted)){var n=function(t){if(window.IntersectionObserver&&window.IntersectionObserverEntry)return new IntersectionObserver(t,{threshold:[0,.5],rootMargin:"0px 0px 0px 0px"})}((function(t){wu.call(e,t)})),r=function(t,e){return ur(sr(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:500),e||document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:[Qt.DATA_ASPM_CLICK]})}((function(t){Pu.call(e,t)}));mu[this._instanceId]=du(du({},mu[this._instanceId]||{}),{},{_materialCollectStarted:!0,_materialCollectIOInc:n}),n&&r&&_u.call(this)}}},Su=function(t,e){return t.after("logPv",(function(){Eu.startMaterialCollect.call(t)})),t.after("set",(function(e){e.materialCollect&&Eu.startMaterialCollect.call(t)})),e(),t},Tu="相关功能已统一迁移到yuyanMonitor, 请联系雨燕同学轩恒使用。";function Au(t,e){var n=!1;return function(){jt("".concat(t,"接口已废弃，").concat(e));var r=(window||{}).Tracert;!n&&r&&(Ue({message:"已废弃接口".concat(t,"调用"),name:"废弃接口调用",stack:""},r),n=!0)}}var Ou={initDtLogMonitor:Au("initDtLogMonitor",Tu),dtLogMonitor:Au("dtLogMonitor",Tu)};var Iu=window,xu="__TRACERT_INSTANTIATION__";function Cu(t){var e="".concat(xu).concat(t);return Iu[e]||void 0}var ku=function(t){return fn._checkApp(t)},ju=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu.navigator.userAgent)},Mu=function(t){Iu.BizLog&&t&&t._isMain&&"function"==typeof Iu.BizLog.call&&(Iu.BizLog.call("config",{disabled:!0}),"function"==typeof document.addEventListener&&document.addEventListener("AlipayJSBridgeReady",(function(){Iu.BizLog.call("config",{disabled:!0})}),!1))},Nu=function(t){if(Iu.BizLog&&t&&t._isMain){var e=Iu.BizLog._readyToRun,n=Iu.BizLog||{};if(n.call=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return t.call.apply(t,n)},e&&e.length)for(var r=0;e.length>r;r++){var i=e[r];if("function"==typeof i)try{i()}catch(t){Et(t)}}Iu.BizLog=n}},Lu=function(t){if(t){if(t._isMain&&Iu.Tracert){var e=Iu.Tracert._readyToRun;if(Iu.Tracert.call=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return t.call.apply(t,n)},e&&e.length)for(var n=0;e.length>n;n++){var r=e[n];if("function"==typeof r)try{r()}catch(t){Et(t)}}}var i=Ct("lanInfo")||Ct("laninfo");i&&t.set({mdata:{lanInfo:i}}),t._isMain&&(t.set(Iu._to||{}),t.set(Iu._tracert_loader_cfg||{})),t.set({parse:Bt,stringify:Dt}),t.run()}else console.log("tracert not exist!")},Du=function(t){return!(!t||"string"!=typeof t)&&(Iu.Tracert.get("spmAPos")===t?Iu.Tracert:Cu(t)||!1)},Bu=function(t){return new Promise((function(e,n){if(t&&"string"==typeof t||n(Error("[Tracert] 需要A位spmAPos")),Iu.Tracert.get("spmAPos")===t)return n(Error("[Tracert] 主实例不可销毁".concat(t)));var r=Cu(t);if(r){var i=r.clearSideEffects(),o=delete Iu["".concat(xu).concat(t)];i&&o?e("[Tracert] 实例已销毁', ".concat(t)):n(Error("[Tracert] 实例销毁错误', ".concat(t)))}else n(Error("[Tracert] 未找到此实例', ".concat(t)))}))},Ru=function(t,e){if("function"==typeof t){var n=e.spmAPos;if("string"==typeof n&&n){if(Iu.Tracert.get("spmAPos")===n)return Iu.Tracert.set(function(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){at(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({_isMain:!0},e)),Iu.Tracert;var r=Cu(n)||t(Ot({},e));return Iu["".concat(xu).concat(n)]=r,r.set(e),r}Et("[Tracert] 需要A位spmAPos")}else Et("[Tracert] getInstance is not function")};function Uu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hu(){var t,e,n,r,i,o;return(null===(t=window)||void 0===t||null===(e=t.AlipayJSBridge)||void 0===e||null===(n=e.startupParams)||void 0===n?void 0:n.appxWebview)||(null===(r=window)||void 0===r||null===(i=r.AlipayJSBridge)||void 0===i||null===(o=i.startupParams)||void 0===o?void 0:o["MINI-PROGRAM-WEB-VIEW-TAG"])}var zu={startAutoInput:function(){document.addEventListener("focus",this._focusEvent.bind(this),{passive:!0,capture:!0}),document.addEventListener("blur",this._blurEvent.bind(this),{passive:!0,capture:!0})},_focusEvent:function(t){var e=t.target,n=[Qt.INPUT_ELEMENT_TYPES.TEXT,Qt.INPUT_ELEMENT_TYPES.PASSWORD,Qt.INPUT_ELEMENT_TYPES.EMAIL,Qt.INPUT_ELEMENT_TYPES.SEARCH,Qt.INPUT_ELEMENT_TYPES.TEL,Qt.INPUT_ELEMENT_TYPES.NUMBER],r=Qt.INPUT_TYPE.None;Ae(e)===Qt.TAG_NAME.TEXTAREA?r=Qt.INPUT_TYPE.TEXTAREA:Ae(e)===Qt.TAG_NAME.INPUT&&n.indexOf(e.type)>-1&&(r=Qt.INPUT_TYPE.TEXT),r!==Qt.INPUT_TYPE.None&&(this._curInputtingElement=e,this._originalValue=e.value,this._eleType=r)},_clearCache:function(){this._curInputtingElement=null,this._originalValue=null,this._eleType=Qt.INPUT_TYPE.None},_blurEvent:function(t){var e=t.target,n=Hu()&&[Qt.INPUT_ELEMENT_TYPES.TEXT,Qt.INPUT_ELEMENT_TYPES.SEARCH,Qt.INPUT_ELEMENT_TYPES.TEXTAREA].indexOf(null==e?void 0:e.type)>-1?null==e?void 0:e.value:"";this._curInputtingElement===e?(Wn({params:{type:Qt.EVENT_TYPE.INPUT,inputType:this._eleType,changed:this._originalValue!==e.value,bizCode:this.bizType,inputText:n},event:t,context:this,combineType:Qt.COMBINE_TYPE.AUTO}),this._clearCache()):this._clearCache()}},Yu=function(t,e){return Hu()&&(t.set(function(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fu(Object(n),!0).forEach((function(e){Uu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},zu)),t.startAutoInput()),e(),t},Vu=window,Ju="4.17.0",Wu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=new Nr(Ot({v:Ju},t)),n=ku(Vu.navigator.userAgent);if(["AP","AF","AFW","BK","AM","APHK","KB","Snail"].indexOf(n.name)>"-1"&&Vu.top===Vu)e.set({isAp:!0,_contentCollect:uu,_useScript:"index.js"}),e.loadPlugins([Yr,$r,qi,to,ya,ca,io,Bc,Su,Yu]),function(t){Ot(t,Ou)}(e),e.call("info",{seedId:"H5_TRACERT_USE_LOG",logLevel:"3",mdata:{"tracert-version":Ju}});else if(["TB","TM","JU"].indexOf(n.name)>-1)e.loadPlugins([qc,ba,to,$r,qi]);else if(["LX"].indexOf(n.name)>-1)e.loadPlugins([qc,sa,to,$r,qi]);else if(["QN"].indexOf(n.name)>-1)e.loadPlugins([qc,ua,to,$r,qi]);else{var r=[qc,qo,to,$r,qi,Bc];ju()||r.push(Ao),e.loadPlugins(r)}return Mu(e),Lu(e),Nu(e),e}catch(e){return Ue(e,new Nr(Ot({v:Ju},t))),Pt("Tracert 初始化失败",e),{}}},qu=window;return!qu.Tracert||qu.Tracert._isInit?qu.Tracert=Wu({_isMain:!0}):qu.Tracert.startAutoScroll||qu.Tracert&&ot(qu.Tracert,(function(){})),qu.Tracert.createTracert||(qu.Tracert.createTracert=function(t){return new Promise((function(e){qu.Tracert.after("start",(function(){e(function(t){return Ru(Wu,t)}(t))}))}))}),qu.Tracert.hasTracert||(qu.Tracert.hasTracert=Du),qu.Tracert.destroyTracert||(qu.Tracert.destroyTracert=Bu),qu.Tracert}));
